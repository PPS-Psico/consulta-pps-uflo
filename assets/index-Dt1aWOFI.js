const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./StudentView-DQYD1M7g.js","./AppModals-1XaMsdYy.js","./types-CzNk-woI.js","./proxy-VPtSZk8v.js","./Select-gg7ixtMW.js","./StudentDashboard-CYdHwnBo.js","./types-Cg8ilULs.js","./PreSolicitudCheckModal-BKiSe7OA.js","./Tabs-CLm6ZogX.js","./ProfileView-CuSesa3b.js","./ConvocatoriaCardPremium-Dj2wxH_Y.js","./SolicitudesView-BnxB_s-3.js","./StudentProfileView-DRRr6qyo.js","./AdminView-CdlOGqdK.js","./UnifiedTabs-DIoCUIU6.js","./AdminDashboard-DY_85m1t.js","./differenceInDays-B0Mox2cD.js","./LanzadorView-D2gkQORg.js","./SubTabs-Dd8MtMQi.js","./dbSchema-B6dnvKQc.js","./CollapsibleSection-DrzIJc39.js","./emailService-BXb3M5ib.js","./ConfirmModal-ztriHbCu.js","./GestionView-B_7U3fEm.js","./ConvocatoriaManager-Csb9hzAS.js","./HerramientasView-DaWaXahz.js","./AdminSearch-DhHN24Wp.js","./MetricsView-BZqAmMtr.js","./TimelineView-DBb-8ZaL.js","./SolicitudesManager-Wubr94Ct.js","./JefeView-CPYqXY2Z.js","./WelcomeBannerAdmin-DWAE0bzy.js","./DirectivoView-CAKWMaqp.js","./ReporteroView-C0PpOEm3.js","./AdminTestingView-DpSAZEjD.js"])))=>i.map(i=>d[i]);
var jx=Object.defineProperty;var j0=t=>{throw TypeError(t)};var Lx=(t,e,r)=>e in t?jx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var sr=(t,e,r)=>Lx(t,typeof e!="symbol"?e+"":e,r),_h=(t,e,r)=>e.has(t)||j0("Cannot "+r);var T=(t,e,r)=>(_h(t,e,"read from private field"),r?r.call(t):e.get(t)),pe=(t,e,r)=>e.has(t)?j0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ne=(t,e,r,s)=>(_h(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),ke=(t,e,r)=>(_h(t,e,"access private method"),r);var nu=(t,e,r,s)=>({set _(o){ne(t,e,o,r)},get _(){return T(t,e,s)}});function O_(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(s,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var _L=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ep(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function La(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var o=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,o.get?o:{enumerable:!0,get:function(){return t[s]}})}),r}var wh={exports:{}},sa={},bh={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0;function Dx(){if(L0)return Ie;L0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function _(I){return I===null||typeof I!="object"?null:(I=v&&I[v]||I["@@iterator"],typeof I=="function"?I:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function E(I,M,re){this.props=I,this.context=M,this.refs=S,this.updater=re||w}E.prototype.isReactComponent={},E.prototype.setState=function(I,M){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,M,"setState")},E.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function N(){}N.prototype=E.prototype;function j(I,M,re){this.props=I,this.context=M,this.refs=S,this.updater=re||w}var R=j.prototype=new N;R.constructor=j,x(R,E.prototype),R.isPureReactComponent=!0;var U=Array.isArray,H=Object.prototype.hasOwnProperty,K={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function te(I,M,re){var oe,me={},Ee=null,Ce=null;if(M!=null)for(oe in M.ref!==void 0&&(Ce=M.ref),M.key!==void 0&&(Ee=""+M.key),M)H.call(M,oe)&&!G.hasOwnProperty(oe)&&(me[oe]=M[oe]);var Te=arguments.length-2;if(Te===1)me.children=re;else if(1<Te){for(var Re=Array(Te),_t=0;_t<Te;_t++)Re[_t]=arguments[_t+2];me.children=Re}if(I&&I.defaultProps)for(oe in Te=I.defaultProps,Te)me[oe]===void 0&&(me[oe]=Te[oe]);return{$$typeof:t,type:I,key:Ee,ref:Ce,props:me,_owner:K.current}}function Z(I,M){return{$$typeof:t,type:I.type,key:M,ref:I.ref,props:I.props,_owner:I._owner}}function X(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function se(I){var M={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(re){return M[re]})}var ve=/\/+/g;function de(I,M){return typeof I=="object"&&I!==null&&I.key!=null?se(""+I.key):M.toString(36)}function W(I,M,re,oe,me){var Ee=typeof I;(Ee==="undefined"||Ee==="boolean")&&(I=null);var Ce=!1;if(I===null)Ce=!0;else switch(Ee){case"string":case"number":Ce=!0;break;case"object":switch(I.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=I,me=me(Ce),I=oe===""?"."+de(Ce,0):oe,U(me)?(re="",I!=null&&(re=I.replace(ve,"$&/")+"/"),W(me,M,re,"",function(_t){return _t})):me!=null&&(X(me)&&(me=Z(me,re+(!me.key||Ce&&Ce.key===me.key?"":(""+me.key).replace(ve,"$&/")+"/")+I)),M.push(me)),1;if(Ce=0,oe=oe===""?".":oe+":",U(I))for(var Te=0;Te<I.length;Te++){Ee=I[Te];var Re=oe+de(Ee,Te);Ce+=W(Ee,M,re,Re,me)}else if(Re=_(I),typeof Re=="function")for(I=Re.call(I),Te=0;!(Ee=I.next()).done;)Ee=Ee.value,Re=oe+de(Ee,Te++),Ce+=W(Ee,M,re,Re,me);else if(Ee==="object")throw M=String(I),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return Ce}function P(I,M,re){if(I==null)return I;var oe=[],me=0;return W(I,oe,"","",function(Ee){return M.call(re,Ee,me++)}),oe}function z(I){if(I._status===-1){var M=I._result;M=M(),M.then(function(re){(I._status===0||I._status===-1)&&(I._status=1,I._result=re)},function(re){(I._status===0||I._status===-1)&&(I._status=2,I._result=re)}),I._status===-1&&(I._status=0,I._result=M)}if(I._status===1)return I._result.default;throw I._result}var $={current:null},F={transition:null},q={ReactCurrentDispatcher:$,ReactCurrentBatchConfig:F,ReactCurrentOwner:K};function V(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:P,forEach:function(I,M,re){P(I,function(){M.apply(this,arguments)},re)},count:function(I){var M=0;return P(I,function(){M++}),M},toArray:function(I){return P(I,function(M){return M})||[]},only:function(I){if(!X(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Ie.Component=E,Ie.Fragment=r,Ie.Profiler=o,Ie.PureComponent=j,Ie.StrictMode=s,Ie.Suspense=h,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,Ie.act=V,Ie.cloneElement=function(I,M,re){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var oe=x({},I.props),me=I.key,Ee=I.ref,Ce=I._owner;if(M!=null){if(M.ref!==void 0&&(Ee=M.ref,Ce=K.current),M.key!==void 0&&(me=""+M.key),I.type&&I.type.defaultProps)var Te=I.type.defaultProps;for(Re in M)H.call(M,Re)&&!G.hasOwnProperty(Re)&&(oe[Re]=M[Re]===void 0&&Te!==void 0?Te[Re]:M[Re])}var Re=arguments.length-2;if(Re===1)oe.children=re;else if(1<Re){Te=Array(Re);for(var _t=0;_t<Re;_t++)Te[_t]=arguments[_t+2];oe.children=Te}return{$$typeof:t,type:I.type,key:me,ref:Ee,props:oe,_owner:Ce}},Ie.createContext=function(I){return I={$$typeof:u,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:a,_context:I},I.Consumer=I},Ie.createElement=te,Ie.createFactory=function(I){var M=te.bind(null,I);return M.type=I,M},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(I){return{$$typeof:d,render:I}},Ie.isValidElement=X,Ie.lazy=function(I){return{$$typeof:y,_payload:{_status:-1,_result:I},_init:z}},Ie.memo=function(I,M){return{$$typeof:p,type:I,compare:M===void 0?null:M}},Ie.startTransition=function(I){var M=F.transition;F.transition={};try{I()}finally{F.transition=M}},Ie.unstable_act=V,Ie.useCallback=function(I,M){return $.current.useCallback(I,M)},Ie.useContext=function(I){return $.current.useContext(I)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(I){return $.current.useDeferredValue(I)},Ie.useEffect=function(I,M){return $.current.useEffect(I,M)},Ie.useId=function(){return $.current.useId()},Ie.useImperativeHandle=function(I,M,re){return $.current.useImperativeHandle(I,M,re)},Ie.useInsertionEffect=function(I,M){return $.current.useInsertionEffect(I,M)},Ie.useLayoutEffect=function(I,M){return $.current.useLayoutEffect(I,M)},Ie.useMemo=function(I,M){return $.current.useMemo(I,M)},Ie.useReducer=function(I,M,re){return $.current.useReducer(I,M,re)},Ie.useRef=function(I){return $.current.useRef(I)},Ie.useState=function(I){return $.current.useState(I)},Ie.useSyncExternalStore=function(I,M,re){return $.current.useSyncExternalStore(I,M,re)},Ie.useTransition=function(){return $.current.useTransition()},Ie.version="18.3.1",Ie}var D0;function tp(){return D0||(D0=1,bh.exports=Dx()),bh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0;function Fx(){if(F0)return sa;F0=1;var t=tp(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,p){var y,v={},_=null,w=null;p!==void 0&&(_=""+p),h.key!==void 0&&(_=""+h.key),h.ref!==void 0&&(w=h.ref);for(y in h)s.call(h,y)&&!a.hasOwnProperty(y)&&(v[y]=h[y]);if(d&&d.defaultProps)for(y in h=d.defaultProps,h)v[y]===void 0&&(v[y]=h[y]);return{$$typeof:e,type:d,key:_,ref:w,props:v,_owner:o.current}}return sa.Fragment=r,sa.jsx=u,sa.jsxs=u,sa}var M0;function Mx(){return M0||(M0=1,wh.exports=Fx()),wh.exports}var g=Mx(),O=tp();const rp=ep(O),Ux=O_({__proto__:null,default:rp},[O]);var su={},Eh={exports:{}},Ut={},Sh={exports:{}},xh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function $x(){return U0||(U0=1,(function(t){function e(F,q){var V=F.length;F.push(q);e:for(;0<V;){var I=V-1>>>1,M=F[I];if(0<o(M,q))F[I]=q,F[V]=M,V=I;else break e}}function r(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var q=F[0],V=F.pop();if(V!==q){F[0]=V;e:for(var I=0,M=F.length,re=M>>>1;I<re;){var oe=2*(I+1)-1,me=F[oe],Ee=oe+1,Ce=F[Ee];if(0>o(me,V))Ee<M&&0>o(Ce,me)?(F[I]=Ce,F[Ee]=V,I=Ee):(F[I]=me,F[oe]=V,I=oe);else if(Ee<M&&0>o(Ce,V))F[I]=Ce,F[Ee]=V,I=Ee;else break e}}return q}function o(F,q){var V=F.sortIndex-q.sortIndex;return V!==0?V:F.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],p=[],y=1,v=null,_=3,w=!1,x=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(F){for(var q=r(p);q!==null;){if(q.callback===null)s(p);else if(q.startTime<=F)s(p),q.sortIndex=q.expirationTime,e(h,q);else break;q=r(p)}}function U(F){if(S=!1,R(F),!x)if(r(h)!==null)x=!0,z(H);else{var q=r(p);q!==null&&$(U,q.startTime-F)}}function H(F,q){x=!1,S&&(S=!1,N(te),te=-1),w=!0;var V=_;try{for(R(q),v=r(h);v!==null&&(!(v.expirationTime>q)||F&&!se());){var I=v.callback;if(typeof I=="function"){v.callback=null,_=v.priorityLevel;var M=I(v.expirationTime<=q);q=t.unstable_now(),typeof M=="function"?v.callback=M:v===r(h)&&s(h),R(q)}else s(h);v=r(h)}if(v!==null)var re=!0;else{var oe=r(p);oe!==null&&$(U,oe.startTime-q),re=!1}return re}finally{v=null,_=V,w=!1}}var K=!1,G=null,te=-1,Z=5,X=-1;function se(){return!(t.unstable_now()-X<Z)}function ve(){if(G!==null){var F=t.unstable_now();X=F;var q=!0;try{q=G(!0,F)}finally{q?de():(K=!1,G=null)}}else K=!1}var de;if(typeof j=="function")de=function(){j(ve)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,P=W.port2;W.port1.onmessage=ve,de=function(){P.postMessage(null)}}else de=function(){E(ve,0)};function z(F){G=F,K||(K=!0,de())}function $(F,q){te=E(function(){F(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){x||w||(x=!0,z(H))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(F){switch(_){case 1:case 2:case 3:var q=3;break;default:q=_}var V=_;_=q;try{return F()}finally{_=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var V=_;_=F;try{return q()}finally{_=V}},t.unstable_scheduleCallback=function(F,q,V){var I=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?I+V:I):V=I,F){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=V+M,F={id:y++,callback:q,priorityLevel:F,startTime:V,expirationTime:M,sortIndex:-1},V>I?(F.sortIndex=V,e(p,F),r(h)===null&&F===r(p)&&(S?(N(te),te=-1):S=!0,$(U,V-I))):(F.sortIndex=M,e(h,F),x||w||(x=!0,z(H))),F},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(F){var q=_;return function(){var V=_;_=q;try{return F.apply(this,arguments)}finally{_=V}}}})(xh)),xh}var $0;function Bx(){return $0||($0=1,Sh.exports=$x()),Sh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function zx(){if(B0)return Ut;B0=1;var t=tp(),e=Bx();function r(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(n,i){u(n,i),u(n+"Capture",i)}function u(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function _(n){return h.call(v,n)?!0:h.call(y,n)?!1:p.test(n)?v[n]=!0:(y[n]=!0,!1)}function w(n,i,l,c){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function x(n,i,l,c){if(i===null||typeof i>"u"||w(n,i,l,c))return!0;if(c)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function S(n,i,l,c,f,m,b){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=n,this.type=i,this.sanitizeURL=m,this.removeEmptyString=b}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){E[n]=new S(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];E[i]=new S(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){E[n]=new S(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){E[n]=new S(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){E[n]=new S(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){E[n]=new S(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){E[n]=new S(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){E[n]=new S(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){E[n]=new S(n,5,!1,n.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function j(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(N,j);E[i]=new S(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(N,j);E[i]=new S(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(N,j);E[i]=new S(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){E[n]=new S(n,1,!1,n.toLowerCase(),null,!1,!1)}),E.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){E[n]=new S(n,1,!1,n.toLowerCase(),null,!0,!0)});function R(n,i,l,c){var f=E.hasOwnProperty(i)?E[i]:null;(f!==null?f.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(x(i,l,f,c)&&(l=null),c||f===null?_(i)&&(l===null?n.removeAttribute(i):n.setAttribute(i,""+l)):f.mustUseProperty?n[f.propertyName]=l===null?f.type===3?!1:"":l:(i=f.attributeName,c=f.attributeNamespace,l===null?n.removeAttribute(i):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,c?n.setAttributeNS(c,i,l):n.setAttribute(i,l))))}var U=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),K=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),se=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),F=Symbol.iterator;function q(n){return n===null||typeof n!="object"?null:(n=F&&n[F]||n["@@iterator"],typeof n=="function"?n:null)}var V=Object.assign,I;function M(n){if(I===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);I=i&&i[1]||""}return`
`+I+n}var re=!1;function oe(n,i){if(!n||re)return"";re=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(B){var c=B}Reflect.construct(n,[],i)}else{try{i.call()}catch(B){c=B}n.call(i.prototype)}else{try{throw Error()}catch(B){c=B}n()}}catch(B){if(B&&c&&typeof B.stack=="string"){for(var f=B.stack.split(`
`),m=c.stack.split(`
`),b=f.length-1,k=m.length-1;1<=b&&0<=k&&f[b]!==m[k];)k--;for(;1<=b&&0<=k;b--,k--)if(f[b]!==m[k]){if(b!==1||k!==1)do if(b--,k--,0>k||f[b]!==m[k]){var C=`
`+f[b].replace(" at new "," at ");return n.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",n.displayName)),C}while(1<=b&&0<=k);break}}}finally{re=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?M(n):""}function me(n){switch(n.tag){case 5:return M(n.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return n=oe(n.type,!1),n;case 11:return n=oe(n.type.render,!1),n;case 1:return n=oe(n.type,!0),n;default:return""}}function Ee(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case G:return"Fragment";case K:return"Portal";case Z:return"Profiler";case te:return"StrictMode";case de:return"Suspense";case W:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case se:return(n.displayName||"Context")+".Consumer";case X:return(n._context.displayName||"Context")+".Provider";case ve:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case P:return i=n.displayName||null,i!==null?i:Ee(n.type)||"Memo";case z:i=n._payload,n=n._init;try{return Ee(n(i))}catch{}}return null}function Ce(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(i);case 8:return i===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Te(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Re(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function _t(n){var i=Re(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(b){c=""+b,m.call(this,b)}}),Object.defineProperty(n,i,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ri(n){n._valueTracker||(n._valueTracker=_t(n))}function $p(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var l=i.getValue(),c="";return n&&(c=Re(n)?n.checked?"true":"false":n.value),n=c,n!==l?(i.setValue(n),!0):!1}function Ka(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Tc(n,i){var l=i.checked;return V({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function Bp(n,i){var l=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;l=Te(i.value!=null?i.value:l),n._wrapperState={initialChecked:c,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function zp(n,i){i=i.checked,i!=null&&R(n,"checked",i,!1)}function Cc(n,i){zp(n,i);var l=Te(i.value),c=i.type;if(l!=null)c==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?Ic(n,i.type,l):i.hasOwnProperty("defaultValue")&&Ic(n,i.type,Te(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Vp(n,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,l||i===n.value||(n.value=i),n.defaultValue=i}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function Ic(n,i,l){(i!=="number"||Ka(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var _o=Array.isArray;function ni(n,i,l,c){if(n=n.options,i){i={};for(var f=0;f<l.length;f++)i["$"+l[f]]=!0;for(l=0;l<n.length;l++)f=i.hasOwnProperty("$"+n[l].value),n[l].selected!==f&&(n[l].selected=f),f&&c&&(n[l].defaultSelected=!0)}else{for(l=""+Te(l),i=null,f=0;f<n.length;f++){if(n[f].value===l){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Oc(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return V({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Hp(n,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(r(92));if(_o(l)){if(1<l.length)throw Error(r(93));l=l[0]}i=l}i==null&&(i=""),l=i}n._wrapperState={initialValue:Te(l)}}function Wp(n,i){var l=Te(i.value),c=Te(i.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),i.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),c!=null&&(n.defaultValue=""+c)}function qp(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function Gp(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ac(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?Gp(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Qa,Kp=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,c,f){MSApp.execUnsafeLocalFunction(function(){return n(i,l,c,f)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(Qa=Qa||document.createElement("div"),Qa.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Qa.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function wo(n,i){if(i){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=i;return}}n.textContent=i}var bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ME=["Webkit","ms","Moz","O"];Object.keys(bo).forEach(function(n){ME.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),bo[i]=bo[n]})});function Qp(n,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||bo.hasOwnProperty(n)&&bo[n]?(""+i).trim():i+"px"}function Jp(n,i){n=n.style;for(var l in i)if(i.hasOwnProperty(l)){var c=l.indexOf("--")===0,f=Qp(l,i[l],c);l==="float"&&(l="cssFloat"),c?n.setProperty(l,f):n[l]=f}}var UE=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nc(n,i){if(i){if(UE[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function Rc(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pc=null;function jc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Lc=null,si=null,ii=null;function Yp(n){if(n=Vo(n)){if(typeof Lc!="function")throw Error(r(280));var i=n.stateNode;i&&(i=vl(i),Lc(n.stateNode,n.type,i))}}function Zp(n){si?ii?ii.push(n):ii=[n]:si=n}function Xp(){if(si){var n=si,i=ii;if(ii=si=null,Yp(n),i)for(n=0;n<i.length;n++)Yp(i[n])}}function em(n,i){return n(i)}function tm(){}var Dc=!1;function rm(n,i,l){if(Dc)return n(i,l);Dc=!0;try{return em(n,i,l)}finally{Dc=!1,(si!==null||ii!==null)&&(tm(),Xp())}}function Eo(n,i){var l=n.stateNode;if(l===null)return null;var c=vl(l);if(c===null)return null;l=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var Fc=!1;if(d)try{var So={};Object.defineProperty(So,"passive",{get:function(){Fc=!0}}),window.addEventListener("test",So,So),window.removeEventListener("test",So,So)}catch{Fc=!1}function $E(n,i,l,c,f,m,b,k,C){var B=Array.prototype.slice.call(arguments,3);try{i.apply(l,B)}catch(J){this.onError(J)}}var xo=!1,Ja=null,Ya=!1,Mc=null,BE={onError:function(n){xo=!0,Ja=n}};function zE(n,i,l,c,f,m,b,k,C){xo=!1,Ja=null,$E.apply(BE,arguments)}function VE(n,i,l,c,f,m,b,k,C){if(zE.apply(this,arguments),xo){if(xo){var B=Ja;xo=!1,Ja=null}else throw Error(r(198));Ya||(Ya=!0,Mc=B)}}function ls(n){var i=n,l=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(l=i.return),n=i.return;while(n)}return i.tag===3?l:null}function nm(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function sm(n){if(ls(n)!==n)throw Error(r(188))}function HE(n){var i=n.alternate;if(!i){if(i=ls(n),i===null)throw Error(r(188));return i!==n?null:n}for(var l=n,c=i;;){var f=l.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){l=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===l)return sm(f),n;if(m===c)return sm(f),i;m=m.sibling}throw Error(r(188))}if(l.return!==c.return)l=f,c=m;else{for(var b=!1,k=f.child;k;){if(k===l){b=!0,l=f,c=m;break}if(k===c){b=!0,c=f,l=m;break}k=k.sibling}if(!b){for(k=m.child;k;){if(k===l){b=!0,l=m,c=f;break}if(k===c){b=!0,c=m,l=f;break}k=k.sibling}if(!b)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:i}function im(n){return n=HE(n),n!==null?om(n):null}function om(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=om(n);if(i!==null)return i;n=n.sibling}return null}var am=e.unstable_scheduleCallback,lm=e.unstable_cancelCallback,WE=e.unstable_shouldYield,qE=e.unstable_requestPaint,Ye=e.unstable_now,GE=e.unstable_getCurrentPriorityLevel,Uc=e.unstable_ImmediatePriority,um=e.unstable_UserBlockingPriority,Za=e.unstable_NormalPriority,KE=e.unstable_LowPriority,cm=e.unstable_IdlePriority,Xa=null,Ar=null;function QE(n){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(Xa,n,void 0,(n.current.flags&128)===128)}catch{}}var pr=Math.clz32?Math.clz32:ZE,JE=Math.log,YE=Math.LN2;function ZE(n){return n>>>=0,n===0?32:31-(JE(n)/YE|0)|0}var el=64,tl=4194304;function ko(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function rl(n,i){var l=n.pendingLanes;if(l===0)return 0;var c=0,f=n.suspendedLanes,m=n.pingedLanes,b=l&268435455;if(b!==0){var k=b&~f;k!==0?c=ko(k):(m&=b,m!==0&&(c=ko(m)))}else b=l&~f,b!==0?c=ko(b):m!==0&&(c=ko(m));if(c===0)return 0;if(i!==0&&i!==c&&(i&f)===0&&(f=c&-c,m=i&-i,f>=m||f===16&&(m&4194240)!==0))return i;if((c&4)!==0&&(c|=l&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)l=31-pr(i),f=1<<l,c|=n[l],i&=~f;return c}function XE(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eS(n,i){for(var l=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes;0<m;){var b=31-pr(m),k=1<<b,C=f[b];C===-1?((k&l)===0||(k&c)!==0)&&(f[b]=XE(k,i)):C<=i&&(n.expiredLanes|=k),m&=~k}}function $c(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function dm(){var n=el;return el<<=1,(el&4194240)===0&&(el=64),n}function Bc(n){for(var i=[],l=0;31>l;l++)i.push(n);return i}function To(n,i,l){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-pr(i),n[i]=l}function tS(n,i){var l=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<l;){var f=31-pr(l),m=1<<f;i[f]=0,c[f]=-1,n[f]=-1,l&=~m}}function zc(n,i){var l=n.entangledLanes|=i;for(n=n.entanglements;l;){var c=31-pr(l),f=1<<c;f&i|n[c]&i&&(n[c]|=i),l&=~f}}var Le=0;function hm(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var fm,Vc,pm,mm,gm,Hc=!1,nl=[],_n=null,wn=null,bn=null,Co=new Map,Io=new Map,En=[],rS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ym(n,i){switch(n){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":Co.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Io.delete(i.pointerId)}}function Oo(n,i,l,c,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:l,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Vo(i),i!==null&&Vc(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function nS(n,i,l,c,f){switch(i){case"focusin":return _n=Oo(_n,n,i,l,c,f),!0;case"dragenter":return wn=Oo(wn,n,i,l,c,f),!0;case"mouseover":return bn=Oo(bn,n,i,l,c,f),!0;case"pointerover":var m=f.pointerId;return Co.set(m,Oo(Co.get(m)||null,n,i,l,c,f)),!0;case"gotpointercapture":return m=f.pointerId,Io.set(m,Oo(Io.get(m)||null,n,i,l,c,f)),!0}return!1}function vm(n){var i=us(n.target);if(i!==null){var l=ls(i);if(l!==null){if(i=l.tag,i===13){if(i=nm(l),i!==null){n.blockedOn=i,gm(n.priority,function(){pm(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function sl(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var l=qc(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var c=new l.constructor(l.type,l);Pc=c,l.target.dispatchEvent(c),Pc=null}else return i=Vo(l),i!==null&&Vc(i),n.blockedOn=l,!1;i.shift()}return!0}function _m(n,i,l){sl(n)&&l.delete(i)}function sS(){Hc=!1,_n!==null&&sl(_n)&&(_n=null),wn!==null&&sl(wn)&&(wn=null),bn!==null&&sl(bn)&&(bn=null),Co.forEach(_m),Io.forEach(_m)}function Ao(n,i){n.blockedOn===i&&(n.blockedOn=null,Hc||(Hc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sS)))}function No(n){function i(f){return Ao(f,n)}if(0<nl.length){Ao(nl[0],n);for(var l=1;l<nl.length;l++){var c=nl[l];c.blockedOn===n&&(c.blockedOn=null)}}for(_n!==null&&Ao(_n,n),wn!==null&&Ao(wn,n),bn!==null&&Ao(bn,n),Co.forEach(i),Io.forEach(i),l=0;l<En.length;l++)c=En[l],c.blockedOn===n&&(c.blockedOn=null);for(;0<En.length&&(l=En[0],l.blockedOn===null);)vm(l),l.blockedOn===null&&En.shift()}var oi=U.ReactCurrentBatchConfig,il=!0;function iS(n,i,l,c){var f=Le,m=oi.transition;oi.transition=null;try{Le=1,Wc(n,i,l,c)}finally{Le=f,oi.transition=m}}function oS(n,i,l,c){var f=Le,m=oi.transition;oi.transition=null;try{Le=4,Wc(n,i,l,c)}finally{Le=f,oi.transition=m}}function Wc(n,i,l,c){if(il){var f=qc(n,i,l,c);if(f===null)ud(n,i,c,ol,l),ym(n,c);else if(nS(f,n,i,l,c))c.stopPropagation();else if(ym(n,c),i&4&&-1<rS.indexOf(n)){for(;f!==null;){var m=Vo(f);if(m!==null&&fm(m),m=qc(n,i,l,c),m===null&&ud(n,i,c,ol,l),m===f)break;f=m}f!==null&&c.stopPropagation()}else ud(n,i,c,null,l)}}var ol=null;function qc(n,i,l,c){if(ol=null,n=jc(c),n=us(n),n!==null)if(i=ls(n),i===null)n=null;else if(l=i.tag,l===13){if(n=nm(i),n!==null)return n;n=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return ol=n,null}function wm(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GE()){case Uc:return 1;case um:return 4;case Za:case KE:return 16;case cm:return 536870912;default:return 16}default:return 16}}var Sn=null,Gc=null,al=null;function bm(){if(al)return al;var n,i=Gc,l=i.length,c,f="value"in Sn?Sn.value:Sn.textContent,m=f.length;for(n=0;n<l&&i[n]===f[n];n++);var b=l-n;for(c=1;c<=b&&i[l-c]===f[m-c];c++);return al=f.slice(n,1<c?1-c:void 0)}function ll(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function ul(){return!0}function Em(){return!1}function Ht(n){function i(l,c,f,m,b){this._reactName=l,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var k in n)n.hasOwnProperty(k)&&(l=n[k],this[k]=l?l(m):m[k]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ul:Em,this.isPropagationStopped=Em,this}return V(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),i}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kc=Ht(ai),Ro=V({},ai,{view:0,detail:0}),aS=Ht(Ro),Qc,Jc,Po,cl=V({},Ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Po&&(Po&&n.type==="mousemove"?(Qc=n.screenX-Po.screenX,Jc=n.screenY-Po.screenY):Jc=Qc=0,Po=n),Qc)},movementY:function(n){return"movementY"in n?n.movementY:Jc}}),Sm=Ht(cl),lS=V({},cl,{dataTransfer:0}),uS=Ht(lS),cS=V({},Ro,{relatedTarget:0}),Yc=Ht(cS),dS=V({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),hS=Ht(dS),fS=V({},ai,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),pS=Ht(fS),mS=V({},ai,{data:0}),xm=Ht(mS),gS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _S(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=vS[n])?!!i[n]:!1}function Zc(){return _S}var wS=V({},Ro,{key:function(n){if(n.key){var i=gS[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ll(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?yS[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zc,charCode:function(n){return n.type==="keypress"?ll(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ll(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),bS=Ht(wS),ES=V({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),km=Ht(ES),SS=V({},Ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zc}),xS=Ht(SS),kS=V({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),TS=Ht(kS),CS=V({},cl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),IS=Ht(CS),OS=[9,13,27,32],Xc=d&&"CompositionEvent"in window,jo=null;d&&"documentMode"in document&&(jo=document.documentMode);var AS=d&&"TextEvent"in window&&!jo,Tm=d&&(!Xc||jo&&8<jo&&11>=jo),Cm=" ",Im=!1;function Om(n,i){switch(n){case"keyup":return OS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Am(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var li=!1;function NS(n,i){switch(n){case"compositionend":return Am(i);case"keypress":return i.which!==32?null:(Im=!0,Cm);case"textInput":return n=i.data,n===Cm&&Im?null:n;default:return null}}function RS(n,i){if(li)return n==="compositionend"||!Xc&&Om(n,i)?(n=bm(),al=Gc=Sn=null,li=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Tm&&i.locale!=="ko"?null:i.data;default:return null}}var PS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nm(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!PS[n.type]:i==="textarea"}function Rm(n,i,l,c){Zp(c),i=ml(i,"onChange"),0<i.length&&(l=new Kc("onChange","change",null,l,c),n.push({event:l,listeners:i}))}var Lo=null,Do=null;function jS(n){Jm(n,0)}function dl(n){var i=fi(n);if($p(i))return n}function LS(n,i){if(n==="change")return i}var Pm=!1;if(d){var ed;if(d){var td="oninput"in document;if(!td){var jm=document.createElement("div");jm.setAttribute("oninput","return;"),td=typeof jm.oninput=="function"}ed=td}else ed=!1;Pm=ed&&(!document.documentMode||9<document.documentMode)}function Lm(){Lo&&(Lo.detachEvent("onpropertychange",Dm),Do=Lo=null)}function Dm(n){if(n.propertyName==="value"&&dl(Do)){var i=[];Rm(i,Do,n,jc(n)),rm(jS,i)}}function DS(n,i,l){n==="focusin"?(Lm(),Lo=i,Do=l,Lo.attachEvent("onpropertychange",Dm)):n==="focusout"&&Lm()}function FS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return dl(Do)}function MS(n,i){if(n==="click")return dl(i)}function US(n,i){if(n==="input"||n==="change")return dl(i)}function $S(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var mr=typeof Object.is=="function"?Object.is:$S;function Fo(n,i){if(mr(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var l=Object.keys(n),c=Object.keys(i);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var f=l[c];if(!h.call(i,f)||!mr(n[f],i[f]))return!1}return!0}function Fm(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Mm(n,i){var l=Fm(n);n=0;for(var c;l;){if(l.nodeType===3){if(c=n+l.textContent.length,n<=i&&c>=i)return{node:l,offset:i-n};n=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Fm(l)}}function Um(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Um(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function $m(){for(var n=window,i=Ka();i instanceof n.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)n=i.contentWindow;else break;i=Ka(n.document)}return i}function rd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function BS(n){var i=$m(),l=n.focusedElem,c=n.selectionRange;if(i!==l&&l&&l.ownerDocument&&Um(l.ownerDocument.documentElement,l)){if(c!==null&&rd(l)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(n,l.value.length);else if(n=(i=l.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var f=l.textContent.length,m=Math.min(c.start,f);c=c.end===void 0?m:Math.min(c.end,f),!n.extend&&m>c&&(f=c,c=m,m=f),f=Mm(l,m);var b=Mm(l,c);f&&b&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==b.node||n.focusOffset!==b.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),n.removeAllRanges(),m>c?(n.addRange(i),n.extend(b.node,b.offset)):(i.setEnd(b.node,b.offset),n.addRange(i)))}}for(i=[],n=l;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)n=i[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var zS=d&&"documentMode"in document&&11>=document.documentMode,ui=null,nd=null,Mo=null,sd=!1;function Bm(n,i,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;sd||ui==null||ui!==Ka(c)||(c=ui,"selectionStart"in c&&rd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Mo&&Fo(Mo,c)||(Mo=c,c=ml(nd,"onSelect"),0<c.length&&(i=new Kc("onSelect","select",null,i,l),n.push({event:i,listeners:c}),i.target=ui)))}function hl(n,i){var l={};return l[n.toLowerCase()]=i.toLowerCase(),l["Webkit"+n]="webkit"+i,l["Moz"+n]="moz"+i,l}var ci={animationend:hl("Animation","AnimationEnd"),animationiteration:hl("Animation","AnimationIteration"),animationstart:hl("Animation","AnimationStart"),transitionend:hl("Transition","TransitionEnd")},id={},zm={};d&&(zm=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);function fl(n){if(id[n])return id[n];if(!ci[n])return n;var i=ci[n],l;for(l in i)if(i.hasOwnProperty(l)&&l in zm)return id[n]=i[l];return n}var Vm=fl("animationend"),Hm=fl("animationiteration"),Wm=fl("animationstart"),qm=fl("transitionend"),Gm=new Map,Km="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xn(n,i){Gm.set(n,i),a(i,[n])}for(var od=0;od<Km.length;od++){var ad=Km[od],VS=ad.toLowerCase(),HS=ad[0].toUpperCase()+ad.slice(1);xn(VS,"on"+HS)}xn(Vm,"onAnimationEnd"),xn(Hm,"onAnimationIteration"),xn(Wm,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(qm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uo));function Qm(n,i,l){var c=n.type||"unknown-event";n.currentTarget=l,VE(c,i,void 0,n),n.currentTarget=null}function Jm(n,i){i=(i&4)!==0;for(var l=0;l<n.length;l++){var c=n[l],f=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var b=c.length-1;0<=b;b--){var k=c[b],C=k.instance,B=k.currentTarget;if(k=k.listener,C!==m&&f.isPropagationStopped())break e;Qm(f,k,B),m=C}else for(b=0;b<c.length;b++){if(k=c[b],C=k.instance,B=k.currentTarget,k=k.listener,C!==m&&f.isPropagationStopped())break e;Qm(f,k,B),m=C}}}if(Ya)throw n=Mc,Ya=!1,Mc=null,n}function Be(n,i){var l=i[md];l===void 0&&(l=i[md]=new Set);var c=n+"__bubble";l.has(c)||(Ym(i,n,2,!1),l.add(c))}function ld(n,i,l){var c=0;i&&(c|=4),Ym(l,n,c,i)}var pl="_reactListening"+Math.random().toString(36).slice(2);function $o(n){if(!n[pl]){n[pl]=!0,s.forEach(function(l){l!=="selectionchange"&&(WS.has(l)||ld(l,!1,n),ld(l,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[pl]||(i[pl]=!0,ld("selectionchange",!1,i))}}function Ym(n,i,l,c){switch(wm(i)){case 1:var f=iS;break;case 4:f=oS;break;default:f=Wc}l=f.bind(null,i,l,n),f=void 0,!Fc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(i,l,{capture:!0,passive:f}):n.addEventListener(i,l,!0):f!==void 0?n.addEventListener(i,l,{passive:f}):n.addEventListener(i,l,!1)}function ud(n,i,l,c,f){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var k=c.stateNode.containerInfo;if(k===f||k.nodeType===8&&k.parentNode===f)break;if(b===4)for(b=c.return;b!==null;){var C=b.tag;if((C===3||C===4)&&(C=b.stateNode.containerInfo,C===f||C.nodeType===8&&C.parentNode===f))return;b=b.return}for(;k!==null;){if(b=us(k),b===null)return;if(C=b.tag,C===5||C===6){c=m=b;continue e}k=k.parentNode}}c=c.return}rm(function(){var B=m,J=jc(l),Y=[];e:{var Q=Gm.get(n);if(Q!==void 0){var ie=Kc,ue=n;switch(n){case"keypress":if(ll(l)===0)break e;case"keydown":case"keyup":ie=bS;break;case"focusin":ue="focus",ie=Yc;break;case"focusout":ue="blur",ie=Yc;break;case"beforeblur":case"afterblur":ie=Yc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Sm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=uS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=xS;break;case Vm:case Hm:case Wm:ie=hS;break;case qm:ie=TS;break;case"scroll":ie=aS;break;case"wheel":ie=IS;break;case"copy":case"cut":case"paste":ie=pS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=km}var ce=(i&4)!==0,Ze=!ce&&n==="scroll",L=ce?Q!==null?Q+"Capture":null:Q;ce=[];for(var A=B,D;A!==null;){D=A;var ee=D.stateNode;if(D.tag===5&&ee!==null&&(D=ee,L!==null&&(ee=Eo(A,L),ee!=null&&ce.push(Bo(A,ee,D)))),Ze)break;A=A.return}0<ce.length&&(Q=new ie(Q,ue,null,l,J),Y.push({event:Q,listeners:ce}))}}if((i&7)===0){e:{if(Q=n==="mouseover"||n==="pointerover",ie=n==="mouseout"||n==="pointerout",Q&&l!==Pc&&(ue=l.relatedTarget||l.fromElement)&&(us(ue)||ue[qr]))break e;if((ie||Q)&&(Q=J.window===J?J:(Q=J.ownerDocument)?Q.defaultView||Q.parentWindow:window,ie?(ue=l.relatedTarget||l.toElement,ie=B,ue=ue?us(ue):null,ue!==null&&(Ze=ls(ue),ue!==Ze||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(ie=null,ue=B),ie!==ue)){if(ce=Sm,ee="onMouseLeave",L="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(ce=km,ee="onPointerLeave",L="onPointerEnter",A="pointer"),Ze=ie==null?Q:fi(ie),D=ue==null?Q:fi(ue),Q=new ce(ee,A+"leave",ie,l,J),Q.target=Ze,Q.relatedTarget=D,ee=null,us(J)===B&&(ce=new ce(L,A+"enter",ue,l,J),ce.target=D,ce.relatedTarget=Ze,ee=ce),Ze=ee,ie&&ue)t:{for(ce=ie,L=ue,A=0,D=ce;D;D=di(D))A++;for(D=0,ee=L;ee;ee=di(ee))D++;for(;0<A-D;)ce=di(ce),A--;for(;0<D-A;)L=di(L),D--;for(;A--;){if(ce===L||L!==null&&ce===L.alternate)break t;ce=di(ce),L=di(L)}ce=null}else ce=null;ie!==null&&Zm(Y,Q,ie,ce,!1),ue!==null&&Ze!==null&&Zm(Y,Ze,ue,ce,!0)}}e:{if(Q=B?fi(B):window,ie=Q.nodeName&&Q.nodeName.toLowerCase(),ie==="select"||ie==="input"&&Q.type==="file")var he=LS;else if(Nm(Q))if(Pm)he=US;else{he=FS;var ge=DS}else(ie=Q.nodeName)&&ie.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(he=MS);if(he&&(he=he(n,B))){Rm(Y,he,l,J);break e}ge&&ge(n,Q,B),n==="focusout"&&(ge=Q._wrapperState)&&ge.controlled&&Q.type==="number"&&Ic(Q,"number",Q.value)}switch(ge=B?fi(B):window,n){case"focusin":(Nm(ge)||ge.contentEditable==="true")&&(ui=ge,nd=B,Mo=null);break;case"focusout":Mo=nd=ui=null;break;case"mousedown":sd=!0;break;case"contextmenu":case"mouseup":case"dragend":sd=!1,Bm(Y,l,J);break;case"selectionchange":if(zS)break;case"keydown":case"keyup":Bm(Y,l,J)}var ye;if(Xc)e:{switch(n){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else li?Om(n,l)&&(be="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(be="onCompositionStart");be&&(Tm&&l.locale!=="ko"&&(li||be!=="onCompositionStart"?be==="onCompositionEnd"&&li&&(ye=bm()):(Sn=J,Gc="value"in Sn?Sn.value:Sn.textContent,li=!0)),ge=ml(B,be),0<ge.length&&(be=new xm(be,n,null,l,J),Y.push({event:be,listeners:ge}),ye?be.data=ye:(ye=Am(l),ye!==null&&(be.data=ye)))),(ye=AS?NS(n,l):RS(n,l))&&(B=ml(B,"onBeforeInput"),0<B.length&&(J=new xm("onBeforeInput","beforeinput",null,l,J),Y.push({event:J,listeners:B}),J.data=ye))}Jm(Y,i)})}function Bo(n,i,l){return{instance:n,listener:i,currentTarget:l}}function ml(n,i){for(var l=i+"Capture",c=[];n!==null;){var f=n,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=Eo(n,l),m!=null&&c.unshift(Bo(n,m,f)),m=Eo(n,i),m!=null&&c.push(Bo(n,m,f))),n=n.return}return c}function di(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Zm(n,i,l,c,f){for(var m=i._reactName,b=[];l!==null&&l!==c;){var k=l,C=k.alternate,B=k.stateNode;if(C!==null&&C===c)break;k.tag===5&&B!==null&&(k=B,f?(C=Eo(l,m),C!=null&&b.unshift(Bo(l,C,k))):f||(C=Eo(l,m),C!=null&&b.push(Bo(l,C,k)))),l=l.return}b.length!==0&&n.push({event:i,listeners:b})}var qS=/\r\n?/g,GS=/\u0000|\uFFFD/g;function Xm(n){return(typeof n=="string"?n:""+n).replace(qS,`
`).replace(GS,"")}function gl(n,i,l){if(i=Xm(i),Xm(n)!==i&&l)throw Error(r(425))}function yl(){}var cd=null,dd=null;function hd(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var fd=typeof setTimeout=="function"?setTimeout:void 0,KS=typeof clearTimeout=="function"?clearTimeout:void 0,eg=typeof Promise=="function"?Promise:void 0,QS=typeof queueMicrotask=="function"?queueMicrotask:typeof eg<"u"?function(n){return eg.resolve(null).then(n).catch(JS)}:fd;function JS(n){setTimeout(function(){throw n})}function pd(n,i){var l=i,c=0;do{var f=l.nextSibling;if(n.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(c===0){n.removeChild(f),No(i);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=f}while(l);No(i)}function kn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function tg(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return n;i--}else l==="/$"&&i++}n=n.previousSibling}return null}var hi=Math.random().toString(36).slice(2),Nr="__reactFiber$"+hi,zo="__reactProps$"+hi,qr="__reactContainer$"+hi,md="__reactEvents$"+hi,YS="__reactListeners$"+hi,ZS="__reactHandles$"+hi;function us(n){var i=n[Nr];if(i)return i;for(var l=n.parentNode;l;){if(i=l[qr]||l[Nr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(n=tg(n);n!==null;){if(l=n[Nr])return l;n=tg(n)}return i}n=l,l=n.parentNode}return null}function Vo(n){return n=n[Nr]||n[qr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function fi(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function vl(n){return n[zo]||null}var gd=[],pi=-1;function Tn(n){return{current:n}}function ze(n){0>pi||(n.current=gd[pi],gd[pi]=null,pi--)}function Ue(n,i){pi++,gd[pi]=n.current,n.current=i}var Cn={},wt=Tn(Cn),jt=Tn(!1),cs=Cn;function mi(n,i){var l=n.type.contextTypes;if(!l)return Cn;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in l)f[m]=i[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=f),f}function Lt(n){return n=n.childContextTypes,n!=null}function _l(){ze(jt),ze(wt)}function rg(n,i,l){if(wt.current!==Cn)throw Error(r(168));Ue(wt,i),Ue(jt,l)}function ng(n,i,l){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return l;c=c.getChildContext();for(var f in c)if(!(f in i))throw Error(r(108,Ce(n)||"Unknown",f));return V({},l,c)}function wl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Cn,cs=wt.current,Ue(wt,n),Ue(jt,jt.current),!0}function sg(n,i,l){var c=n.stateNode;if(!c)throw Error(r(169));l?(n=ng(n,i,cs),c.__reactInternalMemoizedMergedChildContext=n,ze(jt),ze(wt),Ue(wt,n)):ze(jt),Ue(jt,l)}var Gr=null,bl=!1,yd=!1;function ig(n){Gr===null?Gr=[n]:Gr.push(n)}function XS(n){bl=!0,ig(n)}function In(){if(!yd&&Gr!==null){yd=!0;var n=0,i=Le;try{var l=Gr;for(Le=1;n<l.length;n++){var c=l[n];do c=c(!0);while(c!==null)}Gr=null,bl=!1}catch(f){throw Gr!==null&&(Gr=Gr.slice(n+1)),am(Uc,In),f}finally{Le=i,yd=!1}}return null}var gi=[],yi=0,El=null,Sl=0,Zt=[],Xt=0,ds=null,Kr=1,Qr="";function hs(n,i){gi[yi++]=Sl,gi[yi++]=El,El=n,Sl=i}function og(n,i,l){Zt[Xt++]=Kr,Zt[Xt++]=Qr,Zt[Xt++]=ds,ds=n;var c=Kr;n=Qr;var f=32-pr(c)-1;c&=~(1<<f),l+=1;var m=32-pr(i)+f;if(30<m){var b=f-f%5;m=(c&(1<<b)-1).toString(32),c>>=b,f-=b,Kr=1<<32-pr(i)+f|l<<f|c,Qr=m+n}else Kr=1<<m|l<<f|c,Qr=n}function vd(n){n.return!==null&&(hs(n,1),og(n,1,0))}function _d(n){for(;n===El;)El=gi[--yi],gi[yi]=null,Sl=gi[--yi],gi[yi]=null;for(;n===ds;)ds=Zt[--Xt],Zt[Xt]=null,Qr=Zt[--Xt],Zt[Xt]=null,Kr=Zt[--Xt],Zt[Xt]=null}var Wt=null,qt=null,He=!1,gr=null;function ag(n,i){var l=nr(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=n,i=n.deletions,i===null?(n.deletions=[l],n.flags|=16):i.push(l)}function lg(n,i){switch(n.tag){case 5:var l=n.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,Wt=n,qt=kn(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,Wt=n,qt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=ds!==null?{id:Kr,overflow:Qr}:null,n.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=nr(18,null,null,0),l.stateNode=i,l.return=n,n.child=l,Wt=n,qt=null,!0):!1;default:return!1}}function wd(n){return(n.mode&1)!==0&&(n.flags&128)===0}function bd(n){if(He){var i=qt;if(i){var l=i;if(!lg(n,i)){if(wd(n))throw Error(r(418));i=kn(l.nextSibling);var c=Wt;i&&lg(n,i)?ag(c,l):(n.flags=n.flags&-4097|2,He=!1,Wt=n)}}else{if(wd(n))throw Error(r(418));n.flags=n.flags&-4097|2,He=!1,Wt=n}}}function ug(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Wt=n}function xl(n){if(n!==Wt)return!1;if(!He)return ug(n),He=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!hd(n.type,n.memoizedProps)),i&&(i=qt)){if(wd(n))throw cg(),Error(r(418));for(;i;)ag(n,i),i=kn(i.nextSibling)}if(ug(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(i===0){qt=kn(n.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}n=n.nextSibling}qt=null}}else qt=Wt?kn(n.stateNode.nextSibling):null;return!0}function cg(){for(var n=qt;n;)n=kn(n.nextSibling)}function vi(){qt=Wt=null,He=!1}function Ed(n){gr===null?gr=[n]:gr.push(n)}var ex=U.ReactCurrentBatchConfig;function Ho(n,i,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var c=l.stateNode}if(!c)throw Error(r(147,n));var f=c,m=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(b){var k=f.refs;b===null?delete k[m]:k[m]=b},i._stringRef=m,i)}if(typeof n!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,n))}return n}function kl(n,i){throw n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function dg(n){var i=n._init;return i(n._payload)}function hg(n){function i(L,A){if(n){var D=L.deletions;D===null?(L.deletions=[A],L.flags|=16):D.push(A)}}function l(L,A){if(!n)return null;for(;A!==null;)i(L,A),A=A.sibling;return null}function c(L,A){for(L=new Map;A!==null;)A.key!==null?L.set(A.key,A):L.set(A.index,A),A=A.sibling;return L}function f(L,A){return L=Dn(L,A),L.index=0,L.sibling=null,L}function m(L,A,D){return L.index=D,n?(D=L.alternate,D!==null?(D=D.index,D<A?(L.flags|=2,A):D):(L.flags|=2,A)):(L.flags|=1048576,A)}function b(L){return n&&L.alternate===null&&(L.flags|=2),L}function k(L,A,D,ee){return A===null||A.tag!==6?(A=fh(D,L.mode,ee),A.return=L,A):(A=f(A,D),A.return=L,A)}function C(L,A,D,ee){var he=D.type;return he===G?J(L,A,D.props.children,ee,D.key):A!==null&&(A.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===z&&dg(he)===A.type)?(ee=f(A,D.props),ee.ref=Ho(L,A,D),ee.return=L,ee):(ee=Ql(D.type,D.key,D.props,null,L.mode,ee),ee.ref=Ho(L,A,D),ee.return=L,ee)}function B(L,A,D,ee){return A===null||A.tag!==4||A.stateNode.containerInfo!==D.containerInfo||A.stateNode.implementation!==D.implementation?(A=ph(D,L.mode,ee),A.return=L,A):(A=f(A,D.children||[]),A.return=L,A)}function J(L,A,D,ee,he){return A===null||A.tag!==7?(A=ws(D,L.mode,ee,he),A.return=L,A):(A=f(A,D),A.return=L,A)}function Y(L,A,D){if(typeof A=="string"&&A!==""||typeof A=="number")return A=fh(""+A,L.mode,D),A.return=L,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case H:return D=Ql(A.type,A.key,A.props,null,L.mode,D),D.ref=Ho(L,null,A),D.return=L,D;case K:return A=ph(A,L.mode,D),A.return=L,A;case z:var ee=A._init;return Y(L,ee(A._payload),D)}if(_o(A)||q(A))return A=ws(A,L.mode,D,null),A.return=L,A;kl(L,A)}return null}function Q(L,A,D,ee){var he=A!==null?A.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return he!==null?null:k(L,A,""+D,ee);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return D.key===he?C(L,A,D,ee):null;case K:return D.key===he?B(L,A,D,ee):null;case z:return he=D._init,Q(L,A,he(D._payload),ee)}if(_o(D)||q(D))return he!==null?null:J(L,A,D,ee,null);kl(L,D)}return null}function ie(L,A,D,ee,he){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return L=L.get(D)||null,k(A,L,""+ee,he);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case H:return L=L.get(ee.key===null?D:ee.key)||null,C(A,L,ee,he);case K:return L=L.get(ee.key===null?D:ee.key)||null,B(A,L,ee,he);case z:var ge=ee._init;return ie(L,A,D,ge(ee._payload),he)}if(_o(ee)||q(ee))return L=L.get(D)||null,J(A,L,ee,he,null);kl(A,ee)}return null}function ue(L,A,D,ee){for(var he=null,ge=null,ye=A,be=A=0,ft=null;ye!==null&&be<D.length;be++){ye.index>be?(ft=ye,ye=null):ft=ye.sibling;var Pe=Q(L,ye,D[be],ee);if(Pe===null){ye===null&&(ye=ft);break}n&&ye&&Pe.alternate===null&&i(L,ye),A=m(Pe,A,be),ge===null?he=Pe:ge.sibling=Pe,ge=Pe,ye=ft}if(be===D.length)return l(L,ye),He&&hs(L,be),he;if(ye===null){for(;be<D.length;be++)ye=Y(L,D[be],ee),ye!==null&&(A=m(ye,A,be),ge===null?he=ye:ge.sibling=ye,ge=ye);return He&&hs(L,be),he}for(ye=c(L,ye);be<D.length;be++)ft=ie(ye,L,be,D[be],ee),ft!==null&&(n&&ft.alternate!==null&&ye.delete(ft.key===null?be:ft.key),A=m(ft,A,be),ge===null?he=ft:ge.sibling=ft,ge=ft);return n&&ye.forEach(function(Fn){return i(L,Fn)}),He&&hs(L,be),he}function ce(L,A,D,ee){var he=q(D);if(typeof he!="function")throw Error(r(150));if(D=he.call(D),D==null)throw Error(r(151));for(var ge=he=null,ye=A,be=A=0,ft=null,Pe=D.next();ye!==null&&!Pe.done;be++,Pe=D.next()){ye.index>be?(ft=ye,ye=null):ft=ye.sibling;var Fn=Q(L,ye,Pe.value,ee);if(Fn===null){ye===null&&(ye=ft);break}n&&ye&&Fn.alternate===null&&i(L,ye),A=m(Fn,A,be),ge===null?he=Fn:ge.sibling=Fn,ge=Fn,ye=ft}if(Pe.done)return l(L,ye),He&&hs(L,be),he;if(ye===null){for(;!Pe.done;be++,Pe=D.next())Pe=Y(L,Pe.value,ee),Pe!==null&&(A=m(Pe,A,be),ge===null?he=Pe:ge.sibling=Pe,ge=Pe);return He&&hs(L,be),he}for(ye=c(L,ye);!Pe.done;be++,Pe=D.next())Pe=ie(ye,L,be,Pe.value,ee),Pe!==null&&(n&&Pe.alternate!==null&&ye.delete(Pe.key===null?be:Pe.key),A=m(Pe,A,be),ge===null?he=Pe:ge.sibling=Pe,ge=Pe);return n&&ye.forEach(function(Px){return i(L,Px)}),He&&hs(L,be),he}function Ze(L,A,D,ee){if(typeof D=="object"&&D!==null&&D.type===G&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case H:e:{for(var he=D.key,ge=A;ge!==null;){if(ge.key===he){if(he=D.type,he===G){if(ge.tag===7){l(L,ge.sibling),A=f(ge,D.props.children),A.return=L,L=A;break e}}else if(ge.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===z&&dg(he)===ge.type){l(L,ge.sibling),A=f(ge,D.props),A.ref=Ho(L,ge,D),A.return=L,L=A;break e}l(L,ge);break}else i(L,ge);ge=ge.sibling}D.type===G?(A=ws(D.props.children,L.mode,ee,D.key),A.return=L,L=A):(ee=Ql(D.type,D.key,D.props,null,L.mode,ee),ee.ref=Ho(L,A,D),ee.return=L,L=ee)}return b(L);case K:e:{for(ge=D.key;A!==null;){if(A.key===ge)if(A.tag===4&&A.stateNode.containerInfo===D.containerInfo&&A.stateNode.implementation===D.implementation){l(L,A.sibling),A=f(A,D.children||[]),A.return=L,L=A;break e}else{l(L,A);break}else i(L,A);A=A.sibling}A=ph(D,L.mode,ee),A.return=L,L=A}return b(L);case z:return ge=D._init,Ze(L,A,ge(D._payload),ee)}if(_o(D))return ue(L,A,D,ee);if(q(D))return ce(L,A,D,ee);kl(L,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,A!==null&&A.tag===6?(l(L,A.sibling),A=f(A,D),A.return=L,L=A):(l(L,A),A=fh(D,L.mode,ee),A.return=L,L=A),b(L)):l(L,A)}return Ze}var _i=hg(!0),fg=hg(!1),Tl=Tn(null),Cl=null,wi=null,Sd=null;function xd(){Sd=wi=Cl=null}function kd(n){var i=Tl.current;ze(Tl),n._currentValue=i}function Td(n,i,l){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===l)break;n=n.return}}function bi(n,i){Cl=n,Sd=wi=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Dt=!0),n.firstContext=null)}function er(n){var i=n._currentValue;if(Sd!==n)if(n={context:n,memoizedValue:i,next:null},wi===null){if(Cl===null)throw Error(r(308));wi=n,Cl.dependencies={lanes:0,firstContext:n}}else wi=wi.next=n;return i}var fs=null;function Cd(n){fs===null?fs=[n]:fs.push(n)}function pg(n,i,l,c){var f=i.interleaved;return f===null?(l.next=l,Cd(i)):(l.next=f.next,f.next=l),i.interleaved=l,Jr(n,c)}function Jr(n,i){n.lanes|=i;var l=n.alternate;for(l!==null&&(l.lanes|=i),l=n,n=n.return;n!==null;)n.childLanes|=i,l=n.alternate,l!==null&&(l.childLanes|=i),l=n,n=n.return;return l.tag===3?l.stateNode:null}var On=!1;function Id(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mg(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Yr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function An(n,i,l){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Ae&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,Jr(n,l)}return f=c.interleaved,f===null?(i.next=i,Cd(c)):(i.next=f.next,f.next=i),c.interleaved=i,Jr(n,l)}function Il(n,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,l|=c,i.lanes=l,zc(n,l)}}function gg(n,i){var l=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var f=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var b={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};m===null?f=m=b:m=m.next=b,l=l.next}while(l!==null);m===null?f=m=i:m=m.next=i}else f=m=i;l={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=i:n.next=i,l.lastBaseUpdate=i}function Ol(n,i,l,c){var f=n.updateQueue;On=!1;var m=f.firstBaseUpdate,b=f.lastBaseUpdate,k=f.shared.pending;if(k!==null){f.shared.pending=null;var C=k,B=C.next;C.next=null,b===null?m=B:b.next=B,b=C;var J=n.alternate;J!==null&&(J=J.updateQueue,k=J.lastBaseUpdate,k!==b&&(k===null?J.firstBaseUpdate=B:k.next=B,J.lastBaseUpdate=C))}if(m!==null){var Y=f.baseState;b=0,J=B=C=null,k=m;do{var Q=k.lane,ie=k.eventTime;if((c&Q)===Q){J!==null&&(J=J.next={eventTime:ie,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ue=n,ce=k;switch(Q=i,ie=l,ce.tag){case 1:if(ue=ce.payload,typeof ue=="function"){Y=ue.call(ie,Y,Q);break e}Y=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ce.payload,Q=typeof ue=="function"?ue.call(ie,Y,Q):ue,Q==null)break e;Y=V({},Y,Q);break e;case 2:On=!0}}k.callback!==null&&k.lane!==0&&(n.flags|=64,Q=f.effects,Q===null?f.effects=[k]:Q.push(k))}else ie={eventTime:ie,lane:Q,tag:k.tag,payload:k.payload,callback:k.callback,next:null},J===null?(B=J=ie,C=Y):J=J.next=ie,b|=Q;if(k=k.next,k===null){if(k=f.shared.pending,k===null)break;Q=k,k=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);if(J===null&&(C=Y),f.baseState=C,f.firstBaseUpdate=B,f.lastBaseUpdate=J,i=f.shared.interleaved,i!==null){f=i;do b|=f.lane,f=f.next;while(f!==i)}else m===null&&(f.shared.lanes=0);gs|=b,n.lanes=b,n.memoizedState=Y}}function yg(n,i,l){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],f=c.callback;if(f!==null){if(c.callback=null,c=l,typeof f!="function")throw Error(r(191,f));f.call(c)}}}var Wo={},Rr=Tn(Wo),qo=Tn(Wo),Go=Tn(Wo);function ps(n){if(n===Wo)throw Error(r(174));return n}function Od(n,i){switch(Ue(Go,i),Ue(qo,n),Ue(Rr,Wo),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ac(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=Ac(i,n)}ze(Rr),Ue(Rr,i)}function Ei(){ze(Rr),ze(qo),ze(Go)}function vg(n){ps(Go.current);var i=ps(Rr.current),l=Ac(i,n.type);i!==l&&(Ue(qo,n),Ue(Rr,l))}function Ad(n){qo.current===n&&(ze(Rr),ze(qo))}var qe=Tn(0);function Al(n){for(var i=n;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Nd=[];function Rd(){for(var n=0;n<Nd.length;n++)Nd[n]._workInProgressVersionPrimary=null;Nd.length=0}var Nl=U.ReactCurrentDispatcher,Pd=U.ReactCurrentBatchConfig,ms=0,Ge=null,it=null,dt=null,Rl=!1,Ko=!1,Qo=0,tx=0;function bt(){throw Error(r(321))}function jd(n,i){if(i===null)return!1;for(var l=0;l<i.length&&l<n.length;l++)if(!mr(n[l],i[l]))return!1;return!0}function Ld(n,i,l,c,f,m){if(ms=m,Ge=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Nl.current=n===null||n.memoizedState===null?ix:ox,n=l(c,f),Ko){m=0;do{if(Ko=!1,Qo=0,25<=m)throw Error(r(301));m+=1,dt=it=null,i.updateQueue=null,Nl.current=ax,n=l(c,f)}while(Ko)}if(Nl.current=Ll,i=it!==null&&it.next!==null,ms=0,dt=it=Ge=null,Rl=!1,i)throw Error(r(300));return n}function Dd(){var n=Qo!==0;return Qo=0,n}function Pr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ge.memoizedState=dt=n:dt=dt.next=n,dt}function tr(){if(it===null){var n=Ge.alternate;n=n!==null?n.memoizedState:null}else n=it.next;var i=dt===null?Ge.memoizedState:dt.next;if(i!==null)dt=i,it=n;else{if(n===null)throw Error(r(310));it=n,n={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},dt===null?Ge.memoizedState=dt=n:dt=dt.next=n}return dt}function Jo(n,i){return typeof i=="function"?i(n):i}function Fd(n){var i=tr(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var c=it,f=c.baseQueue,m=l.pending;if(m!==null){if(f!==null){var b=f.next;f.next=m.next,m.next=b}c.baseQueue=f=m,l.pending=null}if(f!==null){m=f.next,c=c.baseState;var k=b=null,C=null,B=m;do{var J=B.lane;if((ms&J)===J)C!==null&&(C=C.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),c=B.hasEagerState?B.eagerState:n(c,B.action);else{var Y={lane:J,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};C===null?(k=C=Y,b=c):C=C.next=Y,Ge.lanes|=J,gs|=J}B=B.next}while(B!==null&&B!==m);C===null?b=c:C.next=k,mr(c,i.memoizedState)||(Dt=!0),i.memoizedState=c,i.baseState=b,i.baseQueue=C,l.lastRenderedState=c}if(n=l.interleaved,n!==null){f=n;do m=f.lane,Ge.lanes|=m,gs|=m,f=f.next;while(f!==n)}else f===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Md(n){var i=tr(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var c=l.dispatch,f=l.pending,m=i.memoizedState;if(f!==null){l.pending=null;var b=f=f.next;do m=n(m,b.action),b=b.next;while(b!==f);mr(m,i.memoizedState)||(Dt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),l.lastRenderedState=m}return[m,c]}function _g(){}function wg(n,i){var l=Ge,c=tr(),f=i(),m=!mr(c.memoizedState,f);if(m&&(c.memoizedState=f,Dt=!0),c=c.queue,Ud(Sg.bind(null,l,c,n),[n]),c.getSnapshot!==i||m||dt!==null&&dt.memoizedState.tag&1){if(l.flags|=2048,Yo(9,Eg.bind(null,l,c,f,i),void 0,null),ht===null)throw Error(r(349));(ms&30)!==0||bg(l,i,f)}return f}function bg(n,i,l){n.flags|=16384,n={getSnapshot:i,value:l},i=Ge.updateQueue,i===null?(i={lastEffect:null,stores:null},Ge.updateQueue=i,i.stores=[n]):(l=i.stores,l===null?i.stores=[n]:l.push(n))}function Eg(n,i,l,c){i.value=l,i.getSnapshot=c,xg(i)&&kg(n)}function Sg(n,i,l){return l(function(){xg(i)&&kg(n)})}function xg(n){var i=n.getSnapshot;n=n.value;try{var l=i();return!mr(n,l)}catch{return!0}}function kg(n){var i=Jr(n,1);i!==null&&wr(i,n,1,-1)}function Tg(n){var i=Pr();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:n},i.queue=n,n=n.dispatch=sx.bind(null,Ge,n),[i.memoizedState,n]}function Yo(n,i,l,c){return n={tag:n,create:i,destroy:l,deps:c,next:null},i=Ge.updateQueue,i===null?(i={lastEffect:null,stores:null},Ge.updateQueue=i,i.lastEffect=n.next=n):(l=i.lastEffect,l===null?i.lastEffect=n.next=n:(c=l.next,l.next=n,n.next=c,i.lastEffect=n)),n}function Cg(){return tr().memoizedState}function Pl(n,i,l,c){var f=Pr();Ge.flags|=n,f.memoizedState=Yo(1|i,l,void 0,c===void 0?null:c)}function jl(n,i,l,c){var f=tr();c=c===void 0?null:c;var m=void 0;if(it!==null){var b=it.memoizedState;if(m=b.destroy,c!==null&&jd(c,b.deps)){f.memoizedState=Yo(i,l,m,c);return}}Ge.flags|=n,f.memoizedState=Yo(1|i,l,m,c)}function Ig(n,i){return Pl(8390656,8,n,i)}function Ud(n,i){return jl(2048,8,n,i)}function Og(n,i){return jl(4,2,n,i)}function Ag(n,i){return jl(4,4,n,i)}function Ng(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Rg(n,i,l){return l=l!=null?l.concat([n]):null,jl(4,4,Ng.bind(null,i,n),l)}function $d(){}function Pg(n,i){var l=tr();i=i===void 0?null:i;var c=l.memoizedState;return c!==null&&i!==null&&jd(i,c[1])?c[0]:(l.memoizedState=[n,i],n)}function jg(n,i){var l=tr();i=i===void 0?null:i;var c=l.memoizedState;return c!==null&&i!==null&&jd(i,c[1])?c[0]:(n=n(),l.memoizedState=[n,i],n)}function Lg(n,i,l){return(ms&21)===0?(n.baseState&&(n.baseState=!1,Dt=!0),n.memoizedState=l):(mr(l,i)||(l=dm(),Ge.lanes|=l,gs|=l,n.baseState=!0),i)}function rx(n,i){var l=Le;Le=l!==0&&4>l?l:4,n(!0);var c=Pd.transition;Pd.transition={};try{n(!1),i()}finally{Le=l,Pd.transition=c}}function Dg(){return tr().memoizedState}function nx(n,i,l){var c=jn(n);if(l={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null},Fg(n))Mg(i,l);else if(l=pg(n,i,l,c),l!==null){var f=Ct();wr(l,n,c,f),Ug(l,i,c)}}function sx(n,i,l){var c=jn(n),f={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null};if(Fg(n))Mg(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var b=i.lastRenderedState,k=m(b,l);if(f.hasEagerState=!0,f.eagerState=k,mr(k,b)){var C=i.interleaved;C===null?(f.next=f,Cd(i)):(f.next=C.next,C.next=f),i.interleaved=f;return}}catch{}finally{}l=pg(n,i,f,c),l!==null&&(f=Ct(),wr(l,n,c,f),Ug(l,i,c))}}function Fg(n){var i=n.alternate;return n===Ge||i!==null&&i===Ge}function Mg(n,i){Ko=Rl=!0;var l=n.pending;l===null?i.next=i:(i.next=l.next,l.next=i),n.pending=i}function Ug(n,i,l){if((l&4194240)!==0){var c=i.lanes;c&=n.pendingLanes,l|=c,i.lanes=l,zc(n,l)}}var Ll={readContext:er,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},ix={readContext:er,useCallback:function(n,i){return Pr().memoizedState=[n,i===void 0?null:i],n},useContext:er,useEffect:Ig,useImperativeHandle:function(n,i,l){return l=l!=null?l.concat([n]):null,Pl(4194308,4,Ng.bind(null,i,n),l)},useLayoutEffect:function(n,i){return Pl(4194308,4,n,i)},useInsertionEffect:function(n,i){return Pl(4,2,n,i)},useMemo:function(n,i){var l=Pr();return i=i===void 0?null:i,n=n(),l.memoizedState=[n,i],n},useReducer:function(n,i,l){var c=Pr();return i=l!==void 0?l(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=nx.bind(null,Ge,n),[c.memoizedState,n]},useRef:function(n){var i=Pr();return n={current:n},i.memoizedState=n},useState:Tg,useDebugValue:$d,useDeferredValue:function(n){return Pr().memoizedState=n},useTransition:function(){var n=Tg(!1),i=n[0];return n=rx.bind(null,n[1]),Pr().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,l){var c=Ge,f=Pr();if(He){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),ht===null)throw Error(r(349));(ms&30)!==0||bg(c,i,l)}f.memoizedState=l;var m={value:l,getSnapshot:i};return f.queue=m,Ig(Sg.bind(null,c,m,n),[n]),c.flags|=2048,Yo(9,Eg.bind(null,c,m,l,i),void 0,null),l},useId:function(){var n=Pr(),i=ht.identifierPrefix;if(He){var l=Qr,c=Kr;l=(c&~(1<<32-pr(c)-1)).toString(32)+l,i=":"+i+"R"+l,l=Qo++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=tx++,i=":"+i+"r"+l.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},ox={readContext:er,useCallback:Pg,useContext:er,useEffect:Ud,useImperativeHandle:Rg,useInsertionEffect:Og,useLayoutEffect:Ag,useMemo:jg,useReducer:Fd,useRef:Cg,useState:function(){return Fd(Jo)},useDebugValue:$d,useDeferredValue:function(n){var i=tr();return Lg(i,it.memoizedState,n)},useTransition:function(){var n=Fd(Jo)[0],i=tr().memoizedState;return[n,i]},useMutableSource:_g,useSyncExternalStore:wg,useId:Dg,unstable_isNewReconciler:!1},ax={readContext:er,useCallback:Pg,useContext:er,useEffect:Ud,useImperativeHandle:Rg,useInsertionEffect:Og,useLayoutEffect:Ag,useMemo:jg,useReducer:Md,useRef:Cg,useState:function(){return Md(Jo)},useDebugValue:$d,useDeferredValue:function(n){var i=tr();return it===null?i.memoizedState=n:Lg(i,it.memoizedState,n)},useTransition:function(){var n=Md(Jo)[0],i=tr().memoizedState;return[n,i]},useMutableSource:_g,useSyncExternalStore:wg,useId:Dg,unstable_isNewReconciler:!1};function yr(n,i){if(n&&n.defaultProps){i=V({},i),n=n.defaultProps;for(var l in n)i[l]===void 0&&(i[l]=n[l]);return i}return i}function Bd(n,i,l,c){i=n.memoizedState,l=l(c,i),l=l==null?i:V({},i,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Dl={isMounted:function(n){return(n=n._reactInternals)?ls(n)===n:!1},enqueueSetState:function(n,i,l){n=n._reactInternals;var c=Ct(),f=jn(n),m=Yr(c,f);m.payload=i,l!=null&&(m.callback=l),i=An(n,m,f),i!==null&&(wr(i,n,f,c),Il(i,n,f))},enqueueReplaceState:function(n,i,l){n=n._reactInternals;var c=Ct(),f=jn(n),m=Yr(c,f);m.tag=1,m.payload=i,l!=null&&(m.callback=l),i=An(n,m,f),i!==null&&(wr(i,n,f,c),Il(i,n,f))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var l=Ct(),c=jn(n),f=Yr(l,c);f.tag=2,i!=null&&(f.callback=i),i=An(n,f,c),i!==null&&(wr(i,n,c,l),Il(i,n,c))}};function $g(n,i,l,c,f,m,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,b):i.prototype&&i.prototype.isPureReactComponent?!Fo(l,c)||!Fo(f,m):!0}function Bg(n,i,l){var c=!1,f=Cn,m=i.contextType;return typeof m=="object"&&m!==null?m=er(m):(f=Lt(i)?cs:wt.current,c=i.contextTypes,m=(c=c!=null)?mi(n,f):Cn),i=new i(l,m),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Dl,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=m),i}function zg(n,i,l,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,c),i.state!==n&&Dl.enqueueReplaceState(i,i.state,null)}function zd(n,i,l,c){var f=n.stateNode;f.props=l,f.state=n.memoizedState,f.refs={},Id(n);var m=i.contextType;typeof m=="object"&&m!==null?f.context=er(m):(m=Lt(i)?cs:wt.current,f.context=mi(n,m)),f.state=n.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Bd(n,i,m,l),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&Dl.enqueueReplaceState(f,f.state,null),Ol(n,l,f,c),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function Si(n,i){try{var l="",c=i;do l+=me(c),c=c.return;while(c);var f=l}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:i,stack:f,digest:null}}function Vd(n,i,l){return{value:n,source:null,stack:l??null,digest:i??null}}function Hd(n,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var lx=typeof WeakMap=="function"?WeakMap:Map;function Vg(n,i,l){l=Yr(-1,l),l.tag=3,l.payload={element:null};var c=i.value;return l.callback=function(){Vl||(Vl=!0,ih=c),Hd(n,i)},l}function Hg(n,i,l){l=Yr(-1,l),l.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var f=i.value;l.payload=function(){return c(f)},l.callback=function(){Hd(n,i)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(l.callback=function(){Hd(n,i),typeof c!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var b=i.stack;this.componentDidCatch(i.value,{componentStack:b!==null?b:""})}),l}function Wg(n,i,l){var c=n.pingCache;if(c===null){c=n.pingCache=new lx;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(l)||(f.add(l),n=Ex.bind(null,n,i,l),i.then(n,n))}function qg(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Gg(n,i,l,c,f){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Yr(-1,1),i.tag=2,An(l,i,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=f,n)}var ux=U.ReactCurrentOwner,Dt=!1;function Tt(n,i,l,c){i.child=n===null?fg(i,null,l,c):_i(i,n.child,l,c)}function Kg(n,i,l,c,f){l=l.render;var m=i.ref;return bi(i,f),c=Ld(n,i,l,c,m,f),l=Dd(),n!==null&&!Dt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Zr(n,i,f)):(He&&l&&vd(i),i.flags|=1,Tt(n,i,c,f),i.child)}function Qg(n,i,l,c,f){if(n===null){var m=l.type;return typeof m=="function"&&!hh(m)&&m.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=m,Jg(n,i,m,c,f)):(n=Ql(l.type,null,c,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,(n.lanes&f)===0){var b=m.memoizedProps;if(l=l.compare,l=l!==null?l:Fo,l(b,c)&&n.ref===i.ref)return Zr(n,i,f)}return i.flags|=1,n=Dn(m,c),n.ref=i.ref,n.return=i,i.child=n}function Jg(n,i,l,c,f){if(n!==null){var m=n.memoizedProps;if(Fo(m,c)&&n.ref===i.ref)if(Dt=!1,i.pendingProps=c=m,(n.lanes&f)!==0)(n.flags&131072)!==0&&(Dt=!0);else return i.lanes=n.lanes,Zr(n,i,f)}return Wd(n,i,l,c,f)}function Yg(n,i,l){var c=i.pendingProps,f=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(ki,Gt),Gt|=l;else{if((l&1073741824)===0)return n=m!==null?m.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Ue(ki,Gt),Gt|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:l,Ue(ki,Gt),Gt|=c}else m!==null?(c=m.baseLanes|l,i.memoizedState=null):c=l,Ue(ki,Gt),Gt|=c;return Tt(n,i,f,l),i.child}function Zg(n,i){var l=i.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Wd(n,i,l,c,f){var m=Lt(l)?cs:wt.current;return m=mi(i,m),bi(i,f),l=Ld(n,i,l,c,m,f),c=Dd(),n!==null&&!Dt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Zr(n,i,f)):(He&&c&&vd(i),i.flags|=1,Tt(n,i,l,f),i.child)}function Xg(n,i,l,c,f){if(Lt(l)){var m=!0;wl(i)}else m=!1;if(bi(i,f),i.stateNode===null)Ml(n,i),Bg(i,l,c),zd(i,l,c,f),c=!0;else if(n===null){var b=i.stateNode,k=i.memoizedProps;b.props=k;var C=b.context,B=l.contextType;typeof B=="object"&&B!==null?B=er(B):(B=Lt(l)?cs:wt.current,B=mi(i,B));var J=l.getDerivedStateFromProps,Y=typeof J=="function"||typeof b.getSnapshotBeforeUpdate=="function";Y||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==c||C!==B)&&zg(i,b,c,B),On=!1;var Q=i.memoizedState;b.state=Q,Ol(i,c,b,f),C=i.memoizedState,k!==c||Q!==C||jt.current||On?(typeof J=="function"&&(Bd(i,l,J,c),C=i.memoizedState),(k=On||$g(i,l,k,c,Q,C,B))?(Y||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=C),b.props=c,b.state=C,b.context=B,c=k):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{b=i.stateNode,mg(n,i),k=i.memoizedProps,B=i.type===i.elementType?k:yr(i.type,k),b.props=B,Y=i.pendingProps,Q=b.context,C=l.contextType,typeof C=="object"&&C!==null?C=er(C):(C=Lt(l)?cs:wt.current,C=mi(i,C));var ie=l.getDerivedStateFromProps;(J=typeof ie=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==Y||Q!==C)&&zg(i,b,c,C),On=!1,Q=i.memoizedState,b.state=Q,Ol(i,c,b,f);var ue=i.memoizedState;k!==Y||Q!==ue||jt.current||On?(typeof ie=="function"&&(Bd(i,l,ie,c),ue=i.memoizedState),(B=On||$g(i,l,B,c,Q,ue,C)||!1)?(J||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,ue,C),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,ue,C)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||k===n.memoizedProps&&Q===n.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===n.memoizedProps&&Q===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ue),b.props=c,b.state=ue,b.context=C,c=B):(typeof b.componentDidUpdate!="function"||k===n.memoizedProps&&Q===n.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===n.memoizedProps&&Q===n.memoizedState||(i.flags|=1024),c=!1)}return qd(n,i,l,c,m,f)}function qd(n,i,l,c,f,m){Zg(n,i);var b=(i.flags&128)!==0;if(!c&&!b)return f&&sg(i,l,!1),Zr(n,i,m);c=i.stateNode,ux.current=i;var k=b&&typeof l.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&b?(i.child=_i(i,n.child,null,m),i.child=_i(i,null,k,m)):Tt(n,i,k,m),i.memoizedState=c.state,f&&sg(i,l,!0),i.child}function e0(n){var i=n.stateNode;i.pendingContext?rg(n,i.pendingContext,i.pendingContext!==i.context):i.context&&rg(n,i.context,!1),Od(n,i.containerInfo)}function t0(n,i,l,c,f){return vi(),Ed(f),i.flags|=256,Tt(n,i,l,c),i.child}var Gd={dehydrated:null,treeContext:null,retryLane:0};function Kd(n){return{baseLanes:n,cachePool:null,transitions:null}}function r0(n,i,l){var c=i.pendingProps,f=qe.current,m=!1,b=(i.flags&128)!==0,k;if((k=b)||(k=n!==null&&n.memoizedState===null?!1:(f&2)!==0),k?(m=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),Ue(qe,f&1),n===null)return bd(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(b=c.children,n=c.fallback,m?(c=i.mode,m=i.child,b={mode:"hidden",children:b},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=b):m=Jl(b,c,0,null),n=ws(n,c,l,null),m.return=i,n.return=i,m.sibling=n,i.child=m,i.child.memoizedState=Kd(l),i.memoizedState=Gd,n):Qd(i,b));if(f=n.memoizedState,f!==null&&(k=f.dehydrated,k!==null))return cx(n,i,b,c,k,f,l);if(m){m=c.fallback,b=i.mode,f=n.child,k=f.sibling;var C={mode:"hidden",children:c.children};return(b&1)===0&&i.child!==f?(c=i.child,c.childLanes=0,c.pendingProps=C,i.deletions=null):(c=Dn(f,C),c.subtreeFlags=f.subtreeFlags&14680064),k!==null?m=Dn(k,m):(m=ws(m,b,l,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,b=n.child.memoizedState,b=b===null?Kd(l):{baseLanes:b.baseLanes|l,cachePool:null,transitions:b.transitions},m.memoizedState=b,m.childLanes=n.childLanes&~l,i.memoizedState=Gd,c}return m=n.child,n=m.sibling,c=Dn(m,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=l),c.return=i,c.sibling=null,n!==null&&(l=i.deletions,l===null?(i.deletions=[n],i.flags|=16):l.push(n)),i.child=c,i.memoizedState=null,c}function Qd(n,i){return i=Jl({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Fl(n,i,l,c){return c!==null&&Ed(c),_i(i,n.child,null,l),n=Qd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function cx(n,i,l,c,f,m,b){if(l)return i.flags&256?(i.flags&=-257,c=Vd(Error(r(422))),Fl(n,i,b,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(m=c.fallback,f=i.mode,c=Jl({mode:"visible",children:c.children},f,0,null),m=ws(m,f,b,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,(i.mode&1)!==0&&_i(i,n.child,null,b),i.child.memoizedState=Kd(b),i.memoizedState=Gd,m);if((i.mode&1)===0)return Fl(n,i,b,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var k=c.dgst;return c=k,m=Error(r(419)),c=Vd(m,c,void 0),Fl(n,i,b,c)}if(k=(b&n.childLanes)!==0,Dt||k){if(c=ht,c!==null){switch(b&-b){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|b))!==0?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,Jr(n,f),wr(c,n,f,-1))}return dh(),c=Vd(Error(r(421))),Fl(n,i,b,c)}return f.data==="$?"?(i.flags|=128,i.child=n.child,i=Sx.bind(null,n),f._reactRetry=i,null):(n=m.treeContext,qt=kn(f.nextSibling),Wt=i,He=!0,gr=null,n!==null&&(Zt[Xt++]=Kr,Zt[Xt++]=Qr,Zt[Xt++]=ds,Kr=n.id,Qr=n.overflow,ds=i),i=Qd(i,c.children),i.flags|=4096,i)}function n0(n,i,l){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),Td(n.return,i,l)}function Jd(n,i,l,c,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=l,m.tailMode=f)}function s0(n,i,l){var c=i.pendingProps,f=c.revealOrder,m=c.tail;if(Tt(n,i,c.children,l),c=qe.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&n0(n,l,i);else if(n.tag===19)n0(n,l,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Ue(qe,c),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(l=i.child,f=null;l!==null;)n=l.alternate,n!==null&&Al(n)===null&&(f=l),l=l.sibling;l=f,l===null?(f=i.child,i.child=null):(f=l.sibling,l.sibling=null),Jd(i,!1,f,l,m);break;case"backwards":for(l=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Al(n)===null){i.child=f;break}n=f.sibling,f.sibling=l,l=f,f=n}Jd(i,!0,l,null,m);break;case"together":Jd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ml(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Zr(n,i,l){if(n!==null&&(i.dependencies=n.dependencies),gs|=i.lanes,(l&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,l=Dn(n,n.pendingProps),i.child=l,l.return=i;n.sibling!==null;)n=n.sibling,l=l.sibling=Dn(n,n.pendingProps),l.return=i;l.sibling=null}return i.child}function dx(n,i,l){switch(i.tag){case 3:e0(i),vi();break;case 5:vg(i);break;case 1:Lt(i.type)&&wl(i);break;case 4:Od(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,f=i.memoizedProps.value;Ue(Tl,c._currentValue),c._currentValue=f;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Ue(qe,qe.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?r0(n,i,l):(Ue(qe,qe.current&1),n=Zr(n,i,l),n!==null?n.sibling:null);Ue(qe,qe.current&1);break;case 19:if(c=(l&i.childLanes)!==0,(n.flags&128)!==0){if(c)return s0(n,i,l);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ue(qe,qe.current),c)break;return null;case 22:case 23:return i.lanes=0,Yg(n,i,l)}return Zr(n,i,l)}var i0,Yd,o0,a0;i0=function(n,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Yd=function(){},o0=function(n,i,l,c){var f=n.memoizedProps;if(f!==c){n=i.stateNode,ps(Rr.current);var m=null;switch(l){case"input":f=Tc(n,f),c=Tc(n,c),m=[];break;case"select":f=V({},f,{value:void 0}),c=V({},c,{value:void 0}),m=[];break;case"textarea":f=Oc(n,f),c=Oc(n,c),m=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=yl)}Nc(l,c);var b;l=null;for(B in f)if(!c.hasOwnProperty(B)&&f.hasOwnProperty(B)&&f[B]!=null)if(B==="style"){var k=f[B];for(b in k)k.hasOwnProperty(b)&&(l||(l={}),l[b]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?m||(m=[]):(m=m||[]).push(B,null));for(B in c){var C=c[B];if(k=f!=null?f[B]:void 0,c.hasOwnProperty(B)&&C!==k&&(C!=null||k!=null))if(B==="style")if(k){for(b in k)!k.hasOwnProperty(b)||C&&C.hasOwnProperty(b)||(l||(l={}),l[b]="");for(b in C)C.hasOwnProperty(b)&&k[b]!==C[b]&&(l||(l={}),l[b]=C[b])}else l||(m||(m=[]),m.push(B,l)),l=C;else B==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,k=k?k.__html:void 0,C!=null&&k!==C&&(m=m||[]).push(B,C)):B==="children"?typeof C!="string"&&typeof C!="number"||(m=m||[]).push(B,""+C):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(C!=null&&B==="onScroll"&&Be("scroll",n),m||k===C||(m=[])):(m=m||[]).push(B,C))}l&&(m=m||[]).push("style",l);var B=m;(i.updateQueue=B)&&(i.flags|=4)}},a0=function(n,i,l,c){l!==c&&(i.flags|=4)};function Zo(n,i){if(!He)switch(n.tailMode){case"hidden":i=n.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Et(n){var i=n.alternate!==null&&n.alternate.child===n.child,l=0,c=0;if(i)for(var f=n.child;f!==null;)l|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)l|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=l,i}function hx(n,i,l){var c=i.pendingProps;switch(_d(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(i),null;case 1:return Lt(i.type)&&_l(),Et(i),null;case 3:return c=i.stateNode,Ei(),ze(jt),ze(wt),Rd(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(xl(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,gr!==null&&(lh(gr),gr=null))),Yd(n,i),Et(i),null;case 5:Ad(i);var f=ps(Go.current);if(l=i.type,n!==null&&i.stateNode!=null)o0(n,i,l,c,f),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Et(i),null}if(n=ps(Rr.current),xl(i)){c=i.stateNode,l=i.type;var m=i.memoizedProps;switch(c[Nr]=i,c[zo]=m,n=(i.mode&1)!==0,l){case"dialog":Be("cancel",c),Be("close",c);break;case"iframe":case"object":case"embed":Be("load",c);break;case"video":case"audio":for(f=0;f<Uo.length;f++)Be(Uo[f],c);break;case"source":Be("error",c);break;case"img":case"image":case"link":Be("error",c),Be("load",c);break;case"details":Be("toggle",c);break;case"input":Bp(c,m),Be("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Be("invalid",c);break;case"textarea":Hp(c,m),Be("invalid",c)}Nc(l,m),f=null;for(var b in m)if(m.hasOwnProperty(b)){var k=m[b];b==="children"?typeof k=="string"?c.textContent!==k&&(m.suppressHydrationWarning!==!0&&gl(c.textContent,k,n),f=["children",k]):typeof k=="number"&&c.textContent!==""+k&&(m.suppressHydrationWarning!==!0&&gl(c.textContent,k,n),f=["children",""+k]):o.hasOwnProperty(b)&&k!=null&&b==="onScroll"&&Be("scroll",c)}switch(l){case"input":ri(c),Vp(c,m,!0);break;case"textarea":ri(c),qp(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=yl)}c=f,i.updateQueue=c,c!==null&&(i.flags|=4)}else{b=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Gp(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=b.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=b.createElement(l,{is:c.is}):(n=b.createElement(l),l==="select"&&(b=n,c.multiple?b.multiple=!0:c.size&&(b.size=c.size))):n=b.createElementNS(n,l),n[Nr]=i,n[zo]=c,i0(n,i,!1,!1),i.stateNode=n;e:{switch(b=Rc(l,c),l){case"dialog":Be("cancel",n),Be("close",n),f=c;break;case"iframe":case"object":case"embed":Be("load",n),f=c;break;case"video":case"audio":for(f=0;f<Uo.length;f++)Be(Uo[f],n);f=c;break;case"source":Be("error",n),f=c;break;case"img":case"image":case"link":Be("error",n),Be("load",n),f=c;break;case"details":Be("toggle",n),f=c;break;case"input":Bp(n,c),f=Tc(n,c),Be("invalid",n);break;case"option":f=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},f=V({},c,{value:void 0}),Be("invalid",n);break;case"textarea":Hp(n,c),f=Oc(n,c),Be("invalid",n);break;default:f=c}Nc(l,f),k=f;for(m in k)if(k.hasOwnProperty(m)){var C=k[m];m==="style"?Jp(n,C):m==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&Kp(n,C)):m==="children"?typeof C=="string"?(l!=="textarea"||C!=="")&&wo(n,C):typeof C=="number"&&wo(n,""+C):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?C!=null&&m==="onScroll"&&Be("scroll",n):C!=null&&R(n,m,C,b))}switch(l){case"input":ri(n),Vp(n,c,!1);break;case"textarea":ri(n),qp(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Te(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?ni(n,!!c.multiple,m,!1):c.defaultValue!=null&&ni(n,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=yl)}switch(l){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Et(i),null;case 6:if(n&&i.stateNode!=null)a0(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(l=ps(Go.current),ps(Rr.current),xl(i)){if(c=i.stateNode,l=i.memoizedProps,c[Nr]=i,(m=c.nodeValue!==l)&&(n=Wt,n!==null))switch(n.tag){case 3:gl(c.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&gl(c.nodeValue,l,(n.mode&1)!==0)}m&&(i.flags|=4)}else c=(l.nodeType===9?l:l.ownerDocument).createTextNode(c),c[Nr]=i,i.stateNode=c}return Et(i),null;case 13:if(ze(qe),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(He&&qt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)cg(),vi(),i.flags|=98560,m=!1;else if(m=xl(i),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(r(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Nr]=i}else vi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Et(i),m=!1}else gr!==null&&(lh(gr),gr=null),m=!0;if(!m)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(qe.current&1)!==0?ot===0&&(ot=3):dh())),i.updateQueue!==null&&(i.flags|=4),Et(i),null);case 4:return Ei(),Yd(n,i),n===null&&$o(i.stateNode.containerInfo),Et(i),null;case 10:return kd(i.type._context),Et(i),null;case 17:return Lt(i.type)&&_l(),Et(i),null;case 19:if(ze(qe),m=i.memoizedState,m===null)return Et(i),null;if(c=(i.flags&128)!==0,b=m.rendering,b===null)if(c)Zo(m,!1);else{if(ot!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(b=Al(n),b!==null){for(i.flags|=128,Zo(m,!1),c=b.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=l,l=i.child;l!==null;)m=l,n=c,m.flags&=14680066,b=m.alternate,b===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=b.childLanes,m.lanes=b.lanes,m.child=b.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=b.memoizedProps,m.memoizedState=b.memoizedState,m.updateQueue=b.updateQueue,m.type=b.type,n=b.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return Ue(qe,qe.current&1|2),i.child}n=n.sibling}m.tail!==null&&Ye()>Ti&&(i.flags|=128,c=!0,Zo(m,!1),i.lanes=4194304)}else{if(!c)if(n=Al(b),n!==null){if(i.flags|=128,c=!0,l=n.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),Zo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!He)return Et(i),null}else 2*Ye()-m.renderingStartTime>Ti&&l!==1073741824&&(i.flags|=128,c=!0,Zo(m,!1),i.lanes=4194304);m.isBackwards?(b.sibling=i.child,i.child=b):(l=m.last,l!==null?l.sibling=b:i.child=b,m.last=b)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Ye(),i.sibling=null,l=qe.current,Ue(qe,c?l&1|2:l&1),i):(Et(i),null);case 22:case 23:return ch(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(Gt&1073741824)!==0&&(Et(i),i.subtreeFlags&6&&(i.flags|=8192)):Et(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function fx(n,i){switch(_d(i),i.tag){case 1:return Lt(i.type)&&_l(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ei(),ze(jt),ze(wt),Rd(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return Ad(i),null;case 13:if(ze(qe),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));vi()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ze(qe),null;case 4:return Ei(),null;case 10:return kd(i.type._context),null;case 22:case 23:return ch(),null;case 24:return null;default:return null}}var Ul=!1,St=!1,px=typeof WeakSet=="function"?WeakSet:Set,ae=null;function xi(n,i){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(c){Qe(n,i,c)}else l.current=null}function Zd(n,i,l){try{l()}catch(c){Qe(n,i,c)}}var l0=!1;function mx(n,i){if(cd=il,n=$m(),rd(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var b=0,k=-1,C=-1,B=0,J=0,Y=n,Q=null;t:for(;;){for(var ie;Y!==l||f!==0&&Y.nodeType!==3||(k=b+f),Y!==m||c!==0&&Y.nodeType!==3||(C=b+c),Y.nodeType===3&&(b+=Y.nodeValue.length),(ie=Y.firstChild)!==null;)Q=Y,Y=ie;for(;;){if(Y===n)break t;if(Q===l&&++B===f&&(k=b),Q===m&&++J===c&&(C=b),(ie=Y.nextSibling)!==null)break;Y=Q,Q=Y.parentNode}Y=ie}l=k===-1||C===-1?null:{start:k,end:C}}else l=null}l=l||{start:0,end:0}}else l=null;for(dd={focusedElem:n,selectionRange:l},il=!1,ae=i;ae!==null;)if(i=ae,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,ae=n;else for(;ae!==null;){i=ae;try{var ue=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var ce=ue.memoizedProps,Ze=ue.memoizedState,L=i.stateNode,A=L.getSnapshotBeforeUpdate(i.elementType===i.type?ce:yr(i.type,ce),Ze);L.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var D=i.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ee){Qe(i,i.return,ee)}if(n=i.sibling,n!==null){n.return=i.return,ae=n;break}ae=i.return}return ue=l0,l0=!1,ue}function Xo(n,i,l){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&n)===n){var m=f.destroy;f.destroy=void 0,m!==void 0&&Zd(i,l,m)}f=f.next}while(f!==c)}}function $l(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&n)===n){var c=l.create;l.destroy=c()}l=l.next}while(l!==i)}}function Xd(n){var i=n.ref;if(i!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof i=="function"?i(n):i.current=n}}function u0(n){var i=n.alternate;i!==null&&(n.alternate=null,u0(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Nr],delete i[zo],delete i[md],delete i[YS],delete i[ZS])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function c0(n){return n.tag===5||n.tag===3||n.tag===4}function d0(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||c0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function eh(n,i,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(n,i):l.insertBefore(n,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(n,l)):(i=l,i.appendChild(n)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=yl));else if(c!==4&&(n=n.child,n!==null))for(eh(n,i,l),n=n.sibling;n!==null;)eh(n,i,l),n=n.sibling}function th(n,i,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?l.insertBefore(n,i):l.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(th(n,i,l),n=n.sibling;n!==null;)th(n,i,l),n=n.sibling}var mt=null,vr=!1;function Nn(n,i,l){for(l=l.child;l!==null;)h0(n,i,l),l=l.sibling}function h0(n,i,l){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(Xa,l)}catch{}switch(l.tag){case 5:St||xi(l,i);case 6:var c=mt,f=vr;mt=null,Nn(n,i,l),mt=c,vr=f,mt!==null&&(vr?(n=mt,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):mt.removeChild(l.stateNode));break;case 18:mt!==null&&(vr?(n=mt,l=l.stateNode,n.nodeType===8?pd(n.parentNode,l):n.nodeType===1&&pd(n,l),No(n)):pd(mt,l.stateNode));break;case 4:c=mt,f=vr,mt=l.stateNode.containerInfo,vr=!0,Nn(n,i,l),mt=c,vr=f;break;case 0:case 11:case 14:case 15:if(!St&&(c=l.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var m=f,b=m.destroy;m=m.tag,b!==void 0&&((m&2)!==0||(m&4)!==0)&&Zd(l,i,b),f=f.next}while(f!==c)}Nn(n,i,l);break;case 1:if(!St&&(xi(l,i),c=l.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=l.memoizedProps,c.state=l.memoizedState,c.componentWillUnmount()}catch(k){Qe(l,i,k)}Nn(n,i,l);break;case 21:Nn(n,i,l);break;case 22:l.mode&1?(St=(c=St)||l.memoizedState!==null,Nn(n,i,l),St=c):Nn(n,i,l);break;default:Nn(n,i,l)}}function f0(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new px),i.forEach(function(c){var f=xx.bind(null,n,c);l.has(c)||(l.add(c),c.then(f,f))})}}function _r(n,i){var l=i.deletions;if(l!==null)for(var c=0;c<l.length;c++){var f=l[c];try{var m=n,b=i,k=b;e:for(;k!==null;){switch(k.tag){case 5:mt=k.stateNode,vr=!1;break e;case 3:mt=k.stateNode.containerInfo,vr=!0;break e;case 4:mt=k.stateNode.containerInfo,vr=!0;break e}k=k.return}if(mt===null)throw Error(r(160));h0(m,b,f),mt=null,vr=!1;var C=f.alternate;C!==null&&(C.return=null),f.return=null}catch(B){Qe(f,i,B)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)p0(i,n),i=i.sibling}function p0(n,i){var l=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(_r(i,n),jr(n),c&4){try{Xo(3,n,n.return),$l(3,n)}catch(ce){Qe(n,n.return,ce)}try{Xo(5,n,n.return)}catch(ce){Qe(n,n.return,ce)}}break;case 1:_r(i,n),jr(n),c&512&&l!==null&&xi(l,l.return);break;case 5:if(_r(i,n),jr(n),c&512&&l!==null&&xi(l,l.return),n.flags&32){var f=n.stateNode;try{wo(f,"")}catch(ce){Qe(n,n.return,ce)}}if(c&4&&(f=n.stateNode,f!=null)){var m=n.memoizedProps,b=l!==null?l.memoizedProps:m,k=n.type,C=n.updateQueue;if(n.updateQueue=null,C!==null)try{k==="input"&&m.type==="radio"&&m.name!=null&&zp(f,m),Rc(k,b);var B=Rc(k,m);for(b=0;b<C.length;b+=2){var J=C[b],Y=C[b+1];J==="style"?Jp(f,Y):J==="dangerouslySetInnerHTML"?Kp(f,Y):J==="children"?wo(f,Y):R(f,J,Y,B)}switch(k){case"input":Cc(f,m);break;case"textarea":Wp(f,m);break;case"select":var Q=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var ie=m.value;ie!=null?ni(f,!!m.multiple,ie,!1):Q!==!!m.multiple&&(m.defaultValue!=null?ni(f,!!m.multiple,m.defaultValue,!0):ni(f,!!m.multiple,m.multiple?[]:"",!1))}f[zo]=m}catch(ce){Qe(n,n.return,ce)}}break;case 6:if(_r(i,n),jr(n),c&4){if(n.stateNode===null)throw Error(r(162));f=n.stateNode,m=n.memoizedProps;try{f.nodeValue=m}catch(ce){Qe(n,n.return,ce)}}break;case 3:if(_r(i,n),jr(n),c&4&&l!==null&&l.memoizedState.isDehydrated)try{No(i.containerInfo)}catch(ce){Qe(n,n.return,ce)}break;case 4:_r(i,n),jr(n);break;case 13:_r(i,n),jr(n),f=n.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(sh=Ye())),c&4&&f0(n);break;case 22:if(J=l!==null&&l.memoizedState!==null,n.mode&1?(St=(B=St)||J,_r(i,n),St=B):_r(i,n),jr(n),c&8192){if(B=n.memoizedState!==null,(n.stateNode.isHidden=B)&&!J&&(n.mode&1)!==0)for(ae=n,J=n.child;J!==null;){for(Y=ae=J;ae!==null;){switch(Q=ae,ie=Q.child,Q.tag){case 0:case 11:case 14:case 15:Xo(4,Q,Q.return);break;case 1:xi(Q,Q.return);var ue=Q.stateNode;if(typeof ue.componentWillUnmount=="function"){c=Q,l=Q.return;try{i=c,ue.props=i.memoizedProps,ue.state=i.memoizedState,ue.componentWillUnmount()}catch(ce){Qe(c,l,ce)}}break;case 5:xi(Q,Q.return);break;case 22:if(Q.memoizedState!==null){y0(Y);continue}}ie!==null?(ie.return=Q,ae=ie):y0(Y)}J=J.sibling}e:for(J=null,Y=n;;){if(Y.tag===5){if(J===null){J=Y;try{f=Y.stateNode,B?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(k=Y.stateNode,C=Y.memoizedProps.style,b=C!=null&&C.hasOwnProperty("display")?C.display:null,k.style.display=Qp("display",b))}catch(ce){Qe(n,n.return,ce)}}}else if(Y.tag===6){if(J===null)try{Y.stateNode.nodeValue=B?"":Y.memoizedProps}catch(ce){Qe(n,n.return,ce)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===n)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===n)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===n)break e;J===Y&&(J=null),Y=Y.return}J===Y&&(J=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:_r(i,n),jr(n),c&4&&f0(n);break;case 21:break;default:_r(i,n),jr(n)}}function jr(n){var i=n.flags;if(i&2){try{e:{for(var l=n.return;l!==null;){if(c0(l)){var c=l;break e}l=l.return}throw Error(r(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(wo(f,""),c.flags&=-33);var m=d0(n);th(n,m,f);break;case 3:case 4:var b=c.stateNode.containerInfo,k=d0(n);eh(n,k,b);break;default:throw Error(r(161))}}catch(C){Qe(n,n.return,C)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function gx(n,i,l){ae=n,m0(n)}function m0(n,i,l){for(var c=(n.mode&1)!==0;ae!==null;){var f=ae,m=f.child;if(f.tag===22&&c){var b=f.memoizedState!==null||Ul;if(!b){var k=f.alternate,C=k!==null&&k.memoizedState!==null||St;k=Ul;var B=St;if(Ul=b,(St=C)&&!B)for(ae=f;ae!==null;)b=ae,C=b.child,b.tag===22&&b.memoizedState!==null?v0(f):C!==null?(C.return=b,ae=C):v0(f);for(;m!==null;)ae=m,m0(m),m=m.sibling;ae=f,Ul=k,St=B}g0(n)}else(f.subtreeFlags&8772)!==0&&m!==null?(m.return=f,ae=m):g0(n)}}function g0(n){for(;ae!==null;){var i=ae;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:St||$l(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!St)if(l===null)c.componentDidMount();else{var f=i.elementType===i.type?l.memoizedProps:yr(i.type,l.memoizedProps);c.componentDidUpdate(f,l.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&yg(i,m,c);break;case 3:var b=i.updateQueue;if(b!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}yg(i,b,l)}break;case 5:var k=i.stateNode;if(l===null&&i.flags&4){l=k;var C=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&l.focus();break;case"img":C.src&&(l.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var B=i.alternate;if(B!==null){var J=B.memoizedState;if(J!==null){var Y=J.dehydrated;Y!==null&&No(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}St||i.flags&512&&Xd(i)}catch(Q){Qe(i,i.return,Q)}}if(i===n){ae=null;break}if(l=i.sibling,l!==null){l.return=i.return,ae=l;break}ae=i.return}}function y0(n){for(;ae!==null;){var i=ae;if(i===n){ae=null;break}var l=i.sibling;if(l!==null){l.return=i.return,ae=l;break}ae=i.return}}function v0(n){for(;ae!==null;){var i=ae;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{$l(4,i)}catch(C){Qe(i,l,C)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var f=i.return;try{c.componentDidMount()}catch(C){Qe(i,f,C)}}var m=i.return;try{Xd(i)}catch(C){Qe(i,m,C)}break;case 5:var b=i.return;try{Xd(i)}catch(C){Qe(i,b,C)}}}catch(C){Qe(i,i.return,C)}if(i===n){ae=null;break}var k=i.sibling;if(k!==null){k.return=i.return,ae=k;break}ae=i.return}}var yx=Math.ceil,Bl=U.ReactCurrentDispatcher,rh=U.ReactCurrentOwner,rr=U.ReactCurrentBatchConfig,Ae=0,ht=null,et=null,gt=0,Gt=0,ki=Tn(0),ot=0,ea=null,gs=0,zl=0,nh=0,ta=null,Ft=null,sh=0,Ti=1/0,Xr=null,Vl=!1,ih=null,Rn=null,Hl=!1,Pn=null,Wl=0,ra=0,oh=null,ql=-1,Gl=0;function Ct(){return(Ae&6)!==0?Ye():ql!==-1?ql:ql=Ye()}function jn(n){return(n.mode&1)===0?1:(Ae&2)!==0&&gt!==0?gt&-gt:ex.transition!==null?(Gl===0&&(Gl=dm()),Gl):(n=Le,n!==0||(n=window.event,n=n===void 0?16:wm(n.type)),n)}function wr(n,i,l,c){if(50<ra)throw ra=0,oh=null,Error(r(185));To(n,l,c),((Ae&2)===0||n!==ht)&&(n===ht&&((Ae&2)===0&&(zl|=l),ot===4&&Ln(n,gt)),Mt(n,c),l===1&&Ae===0&&(i.mode&1)===0&&(Ti=Ye()+500,bl&&In()))}function Mt(n,i){var l=n.callbackNode;eS(n,i);var c=rl(n,n===ht?gt:0);if(c===0)l!==null&&lm(l),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(l!=null&&lm(l),i===1)n.tag===0?XS(w0.bind(null,n)):ig(w0.bind(null,n)),QS(function(){(Ae&6)===0&&In()}),l=null;else{switch(hm(c)){case 1:l=Uc;break;case 4:l=um;break;case 16:l=Za;break;case 536870912:l=cm;break;default:l=Za}l=I0(l,_0.bind(null,n))}n.callbackPriority=i,n.callbackNode=l}}function _0(n,i){if(ql=-1,Gl=0,(Ae&6)!==0)throw Error(r(327));var l=n.callbackNode;if(Ci()&&n.callbackNode!==l)return null;var c=rl(n,n===ht?gt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||i)i=Kl(n,c);else{i=c;var f=Ae;Ae|=2;var m=E0();(ht!==n||gt!==i)&&(Xr=null,Ti=Ye()+500,vs(n,i));do try{wx();break}catch(k){b0(n,k)}while(!0);xd(),Bl.current=m,Ae=f,et!==null?i=0:(ht=null,gt=0,i=ot)}if(i!==0){if(i===2&&(f=$c(n),f!==0&&(c=f,i=ah(n,f))),i===1)throw l=ea,vs(n,0),Ln(n,c),Mt(n,Ye()),l;if(i===6)Ln(n,c);else{if(f=n.current.alternate,(c&30)===0&&!vx(f)&&(i=Kl(n,c),i===2&&(m=$c(n),m!==0&&(c=m,i=ah(n,m))),i===1))throw l=ea,vs(n,0),Ln(n,c),Mt(n,Ye()),l;switch(n.finishedWork=f,n.finishedLanes=c,i){case 0:case 1:throw Error(r(345));case 2:_s(n,Ft,Xr);break;case 3:if(Ln(n,c),(c&130023424)===c&&(i=sh+500-Ye(),10<i)){if(rl(n,0)!==0)break;if(f=n.suspendedLanes,(f&c)!==c){Ct(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=fd(_s.bind(null,n,Ft,Xr),i);break}_s(n,Ft,Xr);break;case 4:if(Ln(n,c),(c&4194240)===c)break;for(i=n.eventTimes,f=-1;0<c;){var b=31-pr(c);m=1<<b,b=i[b],b>f&&(f=b),c&=~m}if(c=f,c=Ye()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*yx(c/1960))-c,10<c){n.timeoutHandle=fd(_s.bind(null,n,Ft,Xr),c);break}_s(n,Ft,Xr);break;case 5:_s(n,Ft,Xr);break;default:throw Error(r(329))}}}return Mt(n,Ye()),n.callbackNode===l?_0.bind(null,n):null}function ah(n,i){var l=ta;return n.current.memoizedState.isDehydrated&&(vs(n,i).flags|=256),n=Kl(n,i),n!==2&&(i=Ft,Ft=l,i!==null&&lh(i)),n}function lh(n){Ft===null?Ft=n:Ft.push.apply(Ft,n)}function vx(n){for(var i=n;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var c=0;c<l.length;c++){var f=l[c],m=f.getSnapshot;f=f.value;try{if(!mr(m(),f))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ln(n,i){for(i&=~nh,i&=~zl,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var l=31-pr(i),c=1<<l;n[l]=-1,i&=~c}}function w0(n){if((Ae&6)!==0)throw Error(r(327));Ci();var i=rl(n,0);if((i&1)===0)return Mt(n,Ye()),null;var l=Kl(n,i);if(n.tag!==0&&l===2){var c=$c(n);c!==0&&(i=c,l=ah(n,c))}if(l===1)throw l=ea,vs(n,0),Ln(n,i),Mt(n,Ye()),l;if(l===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,_s(n,Ft,Xr),Mt(n,Ye()),null}function uh(n,i){var l=Ae;Ae|=1;try{return n(i)}finally{Ae=l,Ae===0&&(Ti=Ye()+500,bl&&In())}}function ys(n){Pn!==null&&Pn.tag===0&&(Ae&6)===0&&Ci();var i=Ae;Ae|=1;var l=rr.transition,c=Le;try{if(rr.transition=null,Le=1,n)return n()}finally{Le=c,rr.transition=l,Ae=i,(Ae&6)===0&&In()}}function ch(){Gt=ki.current,ze(ki)}function vs(n,i){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,KS(l)),et!==null)for(l=et.return;l!==null;){var c=l;switch(_d(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&_l();break;case 3:Ei(),ze(jt),ze(wt),Rd();break;case 5:Ad(c);break;case 4:Ei();break;case 13:ze(qe);break;case 19:ze(qe);break;case 10:kd(c.type._context);break;case 22:case 23:ch()}l=l.return}if(ht=n,et=n=Dn(n.current,null),gt=Gt=i,ot=0,ea=null,nh=zl=gs=0,Ft=ta=null,fs!==null){for(i=0;i<fs.length;i++)if(l=fs[i],c=l.interleaved,c!==null){l.interleaved=null;var f=c.next,m=l.pending;if(m!==null){var b=m.next;m.next=f,c.next=b}l.pending=c}fs=null}return n}function b0(n,i){do{var l=et;try{if(xd(),Nl.current=Ll,Rl){for(var c=Ge.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Rl=!1}if(ms=0,dt=it=Ge=null,Ko=!1,Qo=0,rh.current=null,l===null||l.return===null){ot=1,ea=i,et=null;break}e:{var m=n,b=l.return,k=l,C=i;if(i=gt,k.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var B=C,J=k,Y=J.tag;if((J.mode&1)===0&&(Y===0||Y===11||Y===15)){var Q=J.alternate;Q?(J.updateQueue=Q.updateQueue,J.memoizedState=Q.memoizedState,J.lanes=Q.lanes):(J.updateQueue=null,J.memoizedState=null)}var ie=qg(b);if(ie!==null){ie.flags&=-257,Gg(ie,b,k,m,i),ie.mode&1&&Wg(m,B,i),i=ie,C=B;var ue=i.updateQueue;if(ue===null){var ce=new Set;ce.add(C),i.updateQueue=ce}else ue.add(C);break e}else{if((i&1)===0){Wg(m,B,i),dh();break e}C=Error(r(426))}}else if(He&&k.mode&1){var Ze=qg(b);if(Ze!==null){(Ze.flags&65536)===0&&(Ze.flags|=256),Gg(Ze,b,k,m,i),Ed(Si(C,k));break e}}m=C=Si(C,k),ot!==4&&(ot=2),ta===null?ta=[m]:ta.push(m),m=b;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var L=Vg(m,C,i);gg(m,L);break e;case 1:k=C;var A=m.type,D=m.stateNode;if((m.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Rn===null||!Rn.has(D)))){m.flags|=65536,i&=-i,m.lanes|=i;var ee=Hg(m,k,i);gg(m,ee);break e}}m=m.return}while(m!==null)}x0(l)}catch(he){i=he,et===l&&l!==null&&(et=l=l.return);continue}break}while(!0)}function E0(){var n=Bl.current;return Bl.current=Ll,n===null?Ll:n}function dh(){(ot===0||ot===3||ot===2)&&(ot=4),ht===null||(gs&268435455)===0&&(zl&268435455)===0||Ln(ht,gt)}function Kl(n,i){var l=Ae;Ae|=2;var c=E0();(ht!==n||gt!==i)&&(Xr=null,vs(n,i));do try{_x();break}catch(f){b0(n,f)}while(!0);if(xd(),Ae=l,Bl.current=c,et!==null)throw Error(r(261));return ht=null,gt=0,ot}function _x(){for(;et!==null;)S0(et)}function wx(){for(;et!==null&&!WE();)S0(et)}function S0(n){var i=C0(n.alternate,n,Gt);n.memoizedProps=n.pendingProps,i===null?x0(n):et=i,rh.current=null}function x0(n){var i=n;do{var l=i.alternate;if(n=i.return,(i.flags&32768)===0){if(l=hx(l,i,Gt),l!==null){et=l;return}}else{if(l=fx(l,i),l!==null){l.flags&=32767,et=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ot=6,et=null;return}}if(i=i.sibling,i!==null){et=i;return}et=i=n}while(i!==null);ot===0&&(ot=5)}function _s(n,i,l){var c=Le,f=rr.transition;try{rr.transition=null,Le=1,bx(n,i,l,c)}finally{rr.transition=f,Le=c}return null}function bx(n,i,l,c){do Ci();while(Pn!==null);if((Ae&6)!==0)throw Error(r(327));l=n.finishedWork;var f=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var m=l.lanes|l.childLanes;if(tS(n,m),n===ht&&(et=ht=null,gt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Hl||(Hl=!0,I0(Za,function(){return Ci(),null})),m=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||m){m=rr.transition,rr.transition=null;var b=Le;Le=1;var k=Ae;Ae|=4,rh.current=null,mx(n,l),p0(l,n),BS(dd),il=!!cd,dd=cd=null,n.current=l,gx(l),qE(),Ae=k,Le=b,rr.transition=m}else n.current=l;if(Hl&&(Hl=!1,Pn=n,Wl=f),m=n.pendingLanes,m===0&&(Rn=null),QE(l.stateNode),Mt(n,Ye()),i!==null)for(c=n.onRecoverableError,l=0;l<i.length;l++)f=i[l],c(f.value,{componentStack:f.stack,digest:f.digest});if(Vl)throw Vl=!1,n=ih,ih=null,n;return(Wl&1)!==0&&n.tag!==0&&Ci(),m=n.pendingLanes,(m&1)!==0?n===oh?ra++:(ra=0,oh=n):ra=0,In(),null}function Ci(){if(Pn!==null){var n=hm(Wl),i=rr.transition,l=Le;try{if(rr.transition=null,Le=16>n?16:n,Pn===null)var c=!1;else{if(n=Pn,Pn=null,Wl=0,(Ae&6)!==0)throw Error(r(331));var f=Ae;for(Ae|=4,ae=n.current;ae!==null;){var m=ae,b=m.child;if((ae.flags&16)!==0){var k=m.deletions;if(k!==null){for(var C=0;C<k.length;C++){var B=k[C];for(ae=B;ae!==null;){var J=ae;switch(J.tag){case 0:case 11:case 15:Xo(8,J,m)}var Y=J.child;if(Y!==null)Y.return=J,ae=Y;else for(;ae!==null;){J=ae;var Q=J.sibling,ie=J.return;if(u0(J),J===B){ae=null;break}if(Q!==null){Q.return=ie,ae=Q;break}ae=ie}}}var ue=m.alternate;if(ue!==null){var ce=ue.child;if(ce!==null){ue.child=null;do{var Ze=ce.sibling;ce.sibling=null,ce=Ze}while(ce!==null)}}ae=m}}if((m.subtreeFlags&2064)!==0&&b!==null)b.return=m,ae=b;else e:for(;ae!==null;){if(m=ae,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Xo(9,m,m.return)}var L=m.sibling;if(L!==null){L.return=m.return,ae=L;break e}ae=m.return}}var A=n.current;for(ae=A;ae!==null;){b=ae;var D=b.child;if((b.subtreeFlags&2064)!==0&&D!==null)D.return=b,ae=D;else e:for(b=A;ae!==null;){if(k=ae,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:$l(9,k)}}catch(he){Qe(k,k.return,he)}if(k===b){ae=null;break e}var ee=k.sibling;if(ee!==null){ee.return=k.return,ae=ee;break e}ae=k.return}}if(Ae=f,In(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(Xa,n)}catch{}c=!0}return c}finally{Le=l,rr.transition=i}}return!1}function k0(n,i,l){i=Si(l,i),i=Vg(n,i,1),n=An(n,i,1),i=Ct(),n!==null&&(To(n,1,i),Mt(n,i))}function Qe(n,i,l){if(n.tag===3)k0(n,n,l);else for(;i!==null;){if(i.tag===3){k0(i,n,l);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Rn===null||!Rn.has(c))){n=Si(l,n),n=Hg(i,n,1),i=An(i,n,1),n=Ct(),i!==null&&(To(i,1,n),Mt(i,n));break}}i=i.return}}function Ex(n,i,l){var c=n.pingCache;c!==null&&c.delete(i),i=Ct(),n.pingedLanes|=n.suspendedLanes&l,ht===n&&(gt&l)===l&&(ot===4||ot===3&&(gt&130023424)===gt&&500>Ye()-sh?vs(n,0):nh|=l),Mt(n,i)}function T0(n,i){i===0&&((n.mode&1)===0?i=1:(i=tl,tl<<=1,(tl&130023424)===0&&(tl=4194304)));var l=Ct();n=Jr(n,i),n!==null&&(To(n,i,l),Mt(n,l))}function Sx(n){var i=n.memoizedState,l=0;i!==null&&(l=i.retryLane),T0(n,l)}function xx(n,i){var l=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(l=f.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(r(314))}c!==null&&c.delete(i),T0(n,l)}var C0;C0=function(n,i,l){if(n!==null)if(n.memoizedProps!==i.pendingProps||jt.current)Dt=!0;else{if((n.lanes&l)===0&&(i.flags&128)===0)return Dt=!1,dx(n,i,l);Dt=(n.flags&131072)!==0}else Dt=!1,He&&(i.flags&1048576)!==0&&og(i,Sl,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Ml(n,i),n=i.pendingProps;var f=mi(i,wt.current);bi(i,l),f=Ld(null,i,c,n,f,l);var m=Dd();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Lt(c)?(m=!0,wl(i)):m=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Id(i),f.updater=Dl,i.stateNode=f,f._reactInternals=i,zd(i,c,n,l),i=qd(null,i,c,!0,m,l)):(i.tag=0,He&&m&&vd(i),Tt(null,i,f,l),i=i.child),i;case 16:c=i.elementType;e:{switch(Ml(n,i),n=i.pendingProps,f=c._init,c=f(c._payload),i.type=c,f=i.tag=Tx(c),n=yr(c,n),f){case 0:i=Wd(null,i,c,n,l);break e;case 1:i=Xg(null,i,c,n,l);break e;case 11:i=Kg(null,i,c,n,l);break e;case 14:i=Qg(null,i,c,yr(c.type,n),l);break e}throw Error(r(306,c,""))}return i;case 0:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:yr(c,f),Wd(n,i,c,f,l);case 1:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:yr(c,f),Xg(n,i,c,f,l);case 3:e:{if(e0(i),n===null)throw Error(r(387));c=i.pendingProps,m=i.memoizedState,f=m.element,mg(n,i),Ol(i,c,null,l);var b=i.memoizedState;if(c=b.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){f=Si(Error(r(423)),i),i=t0(n,i,c,l,f);break e}else if(c!==f){f=Si(Error(r(424)),i),i=t0(n,i,c,l,f);break e}else for(qt=kn(i.stateNode.containerInfo.firstChild),Wt=i,He=!0,gr=null,l=fg(i,null,c,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(vi(),c===f){i=Zr(n,i,l);break e}Tt(n,i,c,l)}i=i.child}return i;case 5:return vg(i),n===null&&bd(i),c=i.type,f=i.pendingProps,m=n!==null?n.memoizedProps:null,b=f.children,hd(c,f)?b=null:m!==null&&hd(c,m)&&(i.flags|=32),Zg(n,i),Tt(n,i,b,l),i.child;case 6:return n===null&&bd(i),null;case 13:return r0(n,i,l);case 4:return Od(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=_i(i,null,c,l):Tt(n,i,c,l),i.child;case 11:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:yr(c,f),Kg(n,i,c,f,l);case 7:return Tt(n,i,i.pendingProps,l),i.child;case 8:return Tt(n,i,i.pendingProps.children,l),i.child;case 12:return Tt(n,i,i.pendingProps.children,l),i.child;case 10:e:{if(c=i.type._context,f=i.pendingProps,m=i.memoizedProps,b=f.value,Ue(Tl,c._currentValue),c._currentValue=b,m!==null)if(mr(m.value,b)){if(m.children===f.children&&!jt.current){i=Zr(n,i,l);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var k=m.dependencies;if(k!==null){b=m.child;for(var C=k.firstContext;C!==null;){if(C.context===c){if(m.tag===1){C=Yr(-1,l&-l),C.tag=2;var B=m.updateQueue;if(B!==null){B=B.shared;var J=B.pending;J===null?C.next=C:(C.next=J.next,J.next=C),B.pending=C}}m.lanes|=l,C=m.alternate,C!==null&&(C.lanes|=l),Td(m.return,l,i),k.lanes|=l;break}C=C.next}}else if(m.tag===10)b=m.type===i.type?null:m.child;else if(m.tag===18){if(b=m.return,b===null)throw Error(r(341));b.lanes|=l,k=b.alternate,k!==null&&(k.lanes|=l),Td(b,l,i),b=m.sibling}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===i){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}Tt(n,i,f.children,l),i=i.child}return i;case 9:return f=i.type,c=i.pendingProps.children,bi(i,l),f=er(f),c=c(f),i.flags|=1,Tt(n,i,c,l),i.child;case 14:return c=i.type,f=yr(c,i.pendingProps),f=yr(c.type,f),Qg(n,i,c,f,l);case 15:return Jg(n,i,i.type,i.pendingProps,l);case 17:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:yr(c,f),Ml(n,i),i.tag=1,Lt(c)?(n=!0,wl(i)):n=!1,bi(i,l),Bg(i,c,f),zd(i,c,f,l),qd(null,i,c,!0,n,l);case 19:return s0(n,i,l);case 22:return Yg(n,i,l)}throw Error(r(156,i.tag))};function I0(n,i){return am(n,i)}function kx(n,i,l,c){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(n,i,l,c){return new kx(n,i,l,c)}function hh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Tx(n){if(typeof n=="function")return hh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===ve)return 11;if(n===P)return 14}return 2}function Dn(n,i){var l=n.alternate;return l===null?(l=nr(n.tag,i,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=i,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,i=n.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function Ql(n,i,l,c,f,m){var b=2;if(c=n,typeof n=="function")hh(n)&&(b=1);else if(typeof n=="string")b=5;else e:switch(n){case G:return ws(l.children,f,m,i);case te:b=8,f|=8;break;case Z:return n=nr(12,l,i,f|2),n.elementType=Z,n.lanes=m,n;case de:return n=nr(13,l,i,f),n.elementType=de,n.lanes=m,n;case W:return n=nr(19,l,i,f),n.elementType=W,n.lanes=m,n;case $:return Jl(l,f,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case X:b=10;break e;case se:b=9;break e;case ve:b=11;break e;case P:b=14;break e;case z:b=16,c=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return i=nr(b,l,i,f),i.elementType=n,i.type=c,i.lanes=m,i}function ws(n,i,l,c){return n=nr(7,n,c,i),n.lanes=l,n}function Jl(n,i,l,c){return n=nr(22,n,c,i),n.elementType=$,n.lanes=l,n.stateNode={isHidden:!1},n}function fh(n,i,l){return n=nr(6,n,null,i),n.lanes=l,n}function ph(n,i,l){return i=nr(4,n.children!==null?n.children:[],n.key,i),i.lanes=l,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function Cx(n,i,l,c,f){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bc(0),this.expirationTimes=Bc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bc(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function mh(n,i,l,c,f,m,b,k,C){return n=new Cx(n,i,l,k,C),i===1?(i=1,m===!0&&(i|=8)):i=0,m=nr(3,null,null,i),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Id(m),n}function Ix(n,i,l){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:c==null?null:""+c,children:n,containerInfo:i,implementation:l}}function O0(n){if(!n)return Cn;n=n._reactInternals;e:{if(ls(n)!==n||n.tag!==1)throw Error(r(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Lt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(n.tag===1){var l=n.type;if(Lt(l))return ng(n,l,i)}return i}function A0(n,i,l,c,f,m,b,k,C){return n=mh(l,c,!0,n,f,m,b,k,C),n.context=O0(null),l=n.current,c=Ct(),f=jn(l),m=Yr(c,f),m.callback=i??null,An(l,m,f),n.current.lanes=f,To(n,f,c),Mt(n,c),n}function Yl(n,i,l,c){var f=i.current,m=Ct(),b=jn(f);return l=O0(l),i.context===null?i.context=l:i.pendingContext=l,i=Yr(m,b),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=An(f,i,b),n!==null&&(wr(n,f,b,m),Il(n,f,b)),b}function Zl(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function N0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<i?l:i}}function gh(n,i){N0(n,i),(n=n.alternate)&&N0(n,i)}function Ox(){return null}var R0=typeof reportError=="function"?reportError:function(n){console.error(n)};function yh(n){this._internalRoot=n}Xl.prototype.render=yh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));Yl(n,i,null,null)},Xl.prototype.unmount=yh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;ys(function(){Yl(null,n,null,null)}),i[qr]=null}};function Xl(n){this._internalRoot=n}Xl.prototype.unstable_scheduleHydration=function(n){if(n){var i=mm();n={blockedOn:null,target:n,priority:i};for(var l=0;l<En.length&&i!==0&&i<En[l].priority;l++);En.splice(l,0,n),l===0&&vm(n)}};function vh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function eu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function P0(){}function Ax(n,i,l,c,f){if(f){if(typeof c=="function"){var m=c;c=function(){var B=Zl(b);m.call(B)}}var b=A0(i,c,n,0,null,!1,!1,"",P0);return n._reactRootContainer=b,n[qr]=b.current,$o(n.nodeType===8?n.parentNode:n),ys(),b}for(;f=n.lastChild;)n.removeChild(f);if(typeof c=="function"){var k=c;c=function(){var B=Zl(C);k.call(B)}}var C=mh(n,0,!1,null,null,!1,!1,"",P0);return n._reactRootContainer=C,n[qr]=C.current,$o(n.nodeType===8?n.parentNode:n),ys(function(){Yl(i,C,l,c)}),C}function tu(n,i,l,c,f){var m=l._reactRootContainer;if(m){var b=m;if(typeof f=="function"){var k=f;f=function(){var C=Zl(b);k.call(C)}}Yl(i,b,n,f)}else b=Ax(l,i,n,f,c);return Zl(b)}fm=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var l=ko(i.pendingLanes);l!==0&&(zc(i,l|1),Mt(i,Ye()),(Ae&6)===0&&(Ti=Ye()+500,In()))}break;case 13:ys(function(){var c=Jr(n,1);if(c!==null){var f=Ct();wr(c,n,1,f)}}),gh(n,1)}},Vc=function(n){if(n.tag===13){var i=Jr(n,134217728);if(i!==null){var l=Ct();wr(i,n,134217728,l)}gh(n,134217728)}},pm=function(n){if(n.tag===13){var i=jn(n),l=Jr(n,i);if(l!==null){var c=Ct();wr(l,n,i,c)}gh(n,i)}},mm=function(){return Le},gm=function(n,i){var l=Le;try{return Le=n,i()}finally{Le=l}},Lc=function(n,i,l){switch(i){case"input":if(Cc(n,l),i=l.name,l.type==="radio"&&i!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var c=l[i];if(c!==n&&c.form===n.form){var f=vl(c);if(!f)throw Error(r(90));$p(c),Cc(c,f)}}}break;case"textarea":Wp(n,l);break;case"select":i=l.value,i!=null&&ni(n,!!l.multiple,i,!1)}},em=uh,tm=ys;var Nx={usingClientEntryPoint:!1,Events:[Vo,fi,vl,Zp,Xp,uh]},na={findFiberByHostInstance:us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rx={bundleType:na.bundleType,version:na.version,rendererPackageName:na.rendererPackageName,rendererConfig:na.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=im(n),n===null?null:n.stateNode},findFiberByHostInstance:na.findFiberByHostInstance||Ox,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{Xa=ru.inject(Rx),Ar=ru}catch{}}return Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nx,Ut.createPortal=function(n,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vh(i))throw Error(r(200));return Ix(n,i,null,l)},Ut.createRoot=function(n,i){if(!vh(n))throw Error(r(299));var l=!1,c="",f=R0;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=mh(n,1,!1,null,null,l,!1,c,f),n[qr]=i.current,$o(n.nodeType===8?n.parentNode:n),new yh(i)},Ut.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=im(i),n=n===null?null:n.stateNode,n},Ut.flushSync=function(n){return ys(n)},Ut.hydrate=function(n,i,l){if(!eu(i))throw Error(r(200));return tu(null,n,i,!0,l)},Ut.hydrateRoot=function(n,i,l){if(!vh(n))throw Error(r(405));var c=l!=null&&l.hydratedSources||null,f=!1,m="",b=R0;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),i=A0(i,null,n,1,l??null,f,!1,m,b),n[qr]=i.current,$o(n),c)for(n=0;n<c.length;n++)l=c[n],f=l._getVersion,f=f(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,f]:i.mutableSourceEagerHydrationData.push(l,f);return new Xl(i)},Ut.render=function(n,i,l){if(!eu(i))throw Error(r(200));return tu(null,n,i,!1,l)},Ut.unmountComponentAtNode=function(n){if(!eu(n))throw Error(r(40));return n._reactRootContainer?(ys(function(){tu(null,null,n,!1,function(){n._reactRootContainer=null,n[qr]=null})}),!0):!1},Ut.unstable_batchedUpdates=uh,Ut.unstable_renderSubtreeIntoContainer=function(n,i,l,c){if(!eu(l))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return tu(n,i,l,!1,c)},Ut.version="18.3.1-next-f1338f8080-20240426",Ut}var z0;function A_(){if(z0)return Eh.exports;z0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Eh.exports=zx(),Eh.exports}var V0;function Vx(){if(V0)return su;V0=1;var t=A_();return su.createRoot=t.createRoot,su.hydrateRoot=t.hydrateRoot,su}var Hx=Vx();const Wx="modulepreload",qx=function(t,e){return new URL(t,e).href},H0={},ct=function(e,r,s){let o=Promise.resolve();if(r&&r.length>0){let u=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};const d=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=u(r.map(y=>{if(y=qx(y,s),y in H0)return;H0[y]=!0;const v=y.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(!!s)for(let S=d.length-1;S>=0;S--){const E=d[S];if(E.href===y&&(!v||E.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${_}`))return;const x=document.createElement("link");if(x.rel=v?"stylesheet":Wx,v||(x.as="script"),x.crossOrigin="",x.href=y,p&&x.setAttribute("nonce",p),document.head.appendChild(x),v)return new Promise((S,E)=>{x.addEventListener("load",S),x.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${y}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return o.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})};var wL=A_();/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ba(){return ba=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ba.apply(this,arguments)}var Zn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zn||(Zn={}));const W0="popstate";function Gx(t){t===void 0&&(t={});function e(o,a){let{pathname:u="/",search:d="",hash:h=""}=Zs(o.location.hash.substr(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Zh("",{pathname:u,search:d,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(o,a){let u=o.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let h=o.location.href,p=h.indexOf("#");d=p===-1?h:h.slice(0,p)}return d+"#"+(typeof a=="string"?a:N_(a))}function s(o,a){np(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return Qx(e,r,s,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function np(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Kx(){return Math.random().toString(36).substr(2,8)}function q0(t,e){return{usr:t.state,key:t.key,idx:e}}function Zh(t,e,r,s){return r===void 0&&(r=null),ba({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Zs(e):e,{state:r,key:e&&e.key||s||Kx()})}function N_(t){let{pathname:e="/",search:r="",hash:s=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Zs(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function Qx(t,e,r,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:a=!1}=s,u=o.history,d=Zn.Pop,h=null,p=y();p==null&&(p=0,u.replaceState(ba({},u.state,{idx:p}),""));function y(){return(u.state||{idx:null}).idx}function v(){d=Zn.Pop;let E=y(),N=E==null?null:E-p;p=E,h&&h({action:d,location:S.location,delta:N})}function _(E,N){d=Zn.Push;let j=Zh(S.location,E,N);r&&r(j,E),p=y()+1;let R=q0(j,p),U=S.createHref(j);try{u.pushState(R,"",U)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;o.location.assign(U)}a&&h&&h({action:d,location:S.location,delta:1})}function w(E,N){d=Zn.Replace;let j=Zh(S.location,E,N);r&&r(j,E),p=y();let R=q0(j,p),U=S.createHref(j);u.replaceState(R,"",U),a&&h&&h({action:d,location:S.location,delta:0})}function x(E){let N=o.location.origin!=="null"?o.location.origin:o.location.href,j=typeof E=="string"?E:N_(E);return j=j.replace(/ $/,"%20"),st(N,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,N)}let S={get action(){return d},get location(){return t(o,u)},listen(E){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(W0,v),h=E,()=>{o.removeEventListener(W0,v),h=null}},createHref(E){return e(o,E)},createURL:x,encodeLocation(E){let N=x(E);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:_,replace:w,go(E){return u.go(E)}};return S}var G0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(G0||(G0={}));function Jx(t,e,r){return r===void 0&&(r="/"),Yx(t,e,r)}function Yx(t,e,r,s){let o=typeof e=="string"?Zs(e):e,a=j_(o.pathname||"/",r);if(a==null)return null;let u=R_(t);Zx(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let p=ck(a);d=ak(u[h],p)}return d}function R_(t,e,r,s){e===void 0&&(e=[]),r===void 0&&(r=[]),s===void 0&&(s="");let o=(a,u,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(st(h.relativePath.startsWith(s),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(s.length));let p=qs([s,h.relativePath]),y=r.concat(h);a.children&&a.children.length>0&&(st(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),R_(a.children,e,y,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:ik(p,a.index),routesMeta:y})};return t.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,u);else for(let h of P_(a.path))o(a,u,h)}),e}function P_(t){let e=t.split("/");if(e.length===0)return[];let[r,...s]=e,o=r.endsWith("?"),a=r.replace(/\?$/,"");if(s.length===0)return o?[a,""]:[a];let u=P_(s.join("/")),d=[];return d.push(...u.map(h=>h===""?a:[a,h].join("/"))),o&&d.push(...u),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function Zx(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:ok(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const Xx=/^:[\w-]+$/,ek=3,tk=2,rk=1,nk=10,sk=-2,K0=t=>t==="*";function ik(t,e){let r=t.split("/"),s=r.length;return r.some(K0)&&(s+=sk),e&&(s+=tk),r.filter(o=>!K0(o)).reduce((o,a)=>o+(Xx.test(a)?ek:a===""?rk:nk),s)}function ok(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function ak(t,e,r){let{routesMeta:s}=t,o={},a="/",u=[];for(let d=0;d<s.length;++d){let h=s[d],p=d===s.length-1,y=a==="/"?e:e.slice(a.length)||"/",v=lk({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},y),_=h.route;if(!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:qs([a,v.pathname]),pathnameBase:pk(qs([a,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(a=qs([a,v.pathnameBase]))}return u}function lk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=uk(t.path,t.caseSensitive,t.end),o=e.match(r);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((p,y,v)=>{let{paramName:_,isOptional:w}=y;if(_==="*"){let S=d[v]||"";u=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const x=d[v];return w&&!x?p[_]=void 0:p[_]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:t}}function uk(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),np(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(s.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function ck(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return np(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function j_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}function dk(t,e){e===void 0&&(e="/");let{pathname:r,search:s="",hash:o=""}=typeof t=="string"?Zs(t):t;return{pathname:r?r.startsWith("/")?r:hk(r,e):e,search:mk(s),hash:gk(o)}}function hk(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function kh(t,e,r,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fk(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function L_(t,e){let r=fk(t);return e?r.map((s,o)=>o===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function D_(t,e,r,s){s===void 0&&(s=!1);let o;typeof t=="string"?o=Zs(t):(o=ba({},t),st(!o.pathname||!o.pathname.includes("?"),kh("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),kh("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),kh("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,d;if(u==null)d=r;else{let v=e.length-1;if(!s&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),v-=1;o.pathname=_.join("/")}d=v>=0?e[v]:"/"}let h=dk(o,d),p=u&&u!=="/"&&u.endsWith("/"),y=(a||u===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(p||y)&&(h.pathname+="/"),h}const qs=t=>t.join("/").replace(/\/\/+/g,"/"),pk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function yk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const F_=["post","put","patch","delete"];new Set(F_);const vk=["get",...F_];new Set(vk);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ea(){return Ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ea.apply(this,arguments)}const sp=O.createContext(null),_k=O.createContext(null),Da=O.createContext(null),ac=O.createContext(null),gn=O.createContext({outlet:null,matches:[],isDataRoute:!1}),M_=O.createContext(null);function Fa(){return O.useContext(ac)!=null}function Xs(){return Fa()||st(!1),O.useContext(ac).location}function U_(t){O.useContext(Da).static||O.useLayoutEffect(t)}function lc(){let{isDataRoute:t}=O.useContext(gn);return t?Lk():wk()}function wk(){Fa()||st(!1);let t=O.useContext(sp),{basename:e,future:r,navigator:s}=O.useContext(Da),{matches:o}=O.useContext(gn),{pathname:a}=Xs(),u=JSON.stringify(L_(o,r.v7_relativeSplatPath)),d=O.useRef(!1);return U_(()=>{d.current=!0}),O.useCallback(function(p,y){if(y===void 0&&(y={}),!d.current)return;if(typeof p=="number"){s.go(p);return}let v=D_(p,JSON.parse(u),a,y.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:qs([e,v.pathname])),(y.replace?s.replace:s.push)(v,y.state,y)},[e,s,u,a,t])}const bk=O.createContext(null);function Ek(t){let e=O.useContext(gn).outlet;return e&&O.createElement(bk.Provider,{value:t},e)}function Sk(){let{matches:t}=O.useContext(gn),e=t[t.length-1];return e?e.params:{}}function xk(t,e){return kk(t,e)}function kk(t,e,r,s){Fa()||st(!1);let{navigator:o}=O.useContext(Da),{matches:a}=O.useContext(gn),u=a[a.length-1],d=u?u.params:{};u&&u.pathname;let h=u?u.pathnameBase:"/";u&&u.route;let p=Xs(),y;if(e){var v;let E=typeof e=="string"?Zs(e):e;h==="/"||(v=E.pathname)!=null&&v.startsWith(h)||st(!1),y=E}else y=p;let _=y.pathname||"/",w=_;if(h!=="/"){let E=h.replace(/^\//,"").split("/");w="/"+_.replace(/^\//,"").split("/").slice(E.length).join("/")}let x=Jx(t,{pathname:w}),S=Ak(x&&x.map(E=>Object.assign({},E,{params:Object.assign({},d,E.params),pathname:qs([h,o.encodeLocation?o.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:qs([h,o.encodeLocation?o.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),a,r,s);return e&&S?O.createElement(ac.Provider,{value:{location:Ea({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Zn.Pop}},S):S}function Tk(){let t=jk(),e=yk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),r?O.createElement("pre",{style:o},r):null,null)}const Ck=O.createElement(Tk,null);class Ik extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?O.createElement(gn.Provider,{value:this.props.routeContext},O.createElement(M_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ok(t){let{routeContext:e,match:r,children:s}=t,o=O.useContext(sp);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(gn.Provider,{value:e},s)}function Ak(t,e,r,s){var o;if(e===void 0&&(e=[]),r===void 0&&(r=null),s===void 0&&(s=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=s)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let u=t,d=(o=r)==null?void 0:o.errors;if(d!=null){let y=u.findIndex(v=>v.route.id&&(d==null?void 0:d[v.route.id])!==void 0);y>=0||st(!1),u=u.slice(0,Math.min(u.length,y+1))}let h=!1,p=-1;if(r&&s&&s.v7_partialHydration)for(let y=0;y<u.length;y++){let v=u[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=y),v.route.id){let{loaderData:_,errors:w}=r,x=v.route.loader&&_[v.route.id]===void 0&&(!w||w[v.route.id]===void 0);if(v.route.lazy||x){h=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((y,v,_)=>{let w,x=!1,S=null,E=null;r&&(w=d&&v.route.id?d[v.route.id]:void 0,S=v.route.errorElement||Ck,h&&(p<0&&_===0?(Dk("route-fallback"),x=!0,E=null):p===_&&(x=!0,E=v.route.hydrateFallbackElement||null)));let N=e.concat(u.slice(0,_+1)),j=()=>{let R;return w?R=S:x?R=E:v.route.Component?R=O.createElement(v.route.Component,null):v.route.element?R=v.route.element:R=y,O.createElement(Ok,{match:v,routeContext:{outlet:y,matches:N,isDataRoute:r!=null},children:R})};return r&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?O.createElement(Ik,{location:r.location,revalidation:r.revalidation,component:S,error:w,children:j(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):j()},null)}var $_=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})($_||{}),B_=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(B_||{});function Nk(t){let e=O.useContext(sp);return e||st(!1),e}function Rk(t){let e=O.useContext(_k);return e||st(!1),e}function Pk(t){let e=O.useContext(gn);return e||st(!1),e}function z_(t){let e=Pk(),r=e.matches[e.matches.length-1];return r.route.id||st(!1),r.route.id}function jk(){var t;let e=O.useContext(M_),r=Rk(),s=z_();return e!==void 0?e:(t=r.errors)==null?void 0:t[s]}function Lk(){let{router:t}=Nk($_.UseNavigateStable),e=z_(B_.UseNavigateStable),r=O.useRef(!1);return U_(()=>{r.current=!0}),O.useCallback(function(o,a){a===void 0&&(a={}),r.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,Ea({fromRouteId:e},a)))},[t,e])}const Q0={};function Dk(t,e,r){Q0[t]||(Q0[t]=!0)}function Kt(t){let{to:e,replace:r,state:s,relative:o}=t;Fa()||st(!1);let{future:a,static:u}=O.useContext(Da),{matches:d}=O.useContext(gn),{pathname:h}=Xs(),p=lc(),y=D_(e,L_(d,a.v7_relativeSplatPath),h,o==="path"),v=JSON.stringify(y);return O.useEffect(()=>p(JSON.parse(v),{replace:r,state:s,relative:o}),[p,v,o,r,s]),null}function bL(t){return Ek(t.context)}function Ke(t){st(!1)}function Fk(t){let{basename:e="/",children:r=null,location:s,navigationType:o=Zn.Pop,navigator:a,static:u=!1,future:d}=t;Fa()&&st(!1);let h=e.replace(/^\/*/,"/"),p=O.useMemo(()=>({basename:h,navigator:a,static:u,future:Ea({v7_relativeSplatPath:!1},d)}),[h,d,a,u]);typeof s=="string"&&(s=Zs(s));let{pathname:y="/",search:v="",hash:_="",state:w=null,key:x="default"}=s,S=O.useMemo(()=>{let E=j_(y,h);return E==null?null:{location:{pathname:E,search:v,hash:_,state:w,key:x},navigationType:o}},[h,y,v,_,w,x,o]);return S==null?null:O.createElement(Da.Provider,{value:p},O.createElement(ac.Provider,{children:r,value:S}))}function Mk(t){let{children:e,location:r}=t;return xk(Xh(e),r)}new Promise(()=>{});function Xh(t,e){e===void 0&&(e=[]);let r=[];return O.Children.forEach(t,(s,o)=>{if(!O.isValidElement(s))return;let a=[...e,o];if(s.type===O.Fragment){r.push.apply(r,Xh(s.props.children,a));return}s.type!==Ke&&st(!1),!s.props.index||!s.props.children||st(!1);let u={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Xh(s.props.children,a)),r.push(u)}),r}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ef(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let s=t[r];return e.concat(Array.isArray(s)?s.map(o=>[r,o]):[[r,s]])},[]))}function Uk(t,e){let r=ef(t);return e&&e.forEach((s,o)=>{r.has(o)||e.getAll(o).forEach(a=>{r.append(o,a)})}),r}const $k="6";try{window.__reactRouterVersion=$k}catch{}const Bk="startTransition",J0=Ux[Bk];function zk(t){let{basename:e,children:r,future:s,window:o}=t,a=O.useRef();a.current==null&&(a.current=Gx({window:o,v5Compat:!0}));let u=a.current,[d,h]=O.useState({action:u.action,location:u.location}),{v7_startTransition:p}=s||{},y=O.useCallback(v=>{p&&J0?J0(()=>h(v)):h(v)},[h,p]);return O.useLayoutEffect(()=>u.listen(y),[u,y]),O.createElement(Fk,{basename:e,children:r,location:d.location,navigationType:d.action,navigator:u,future:s})}var Y0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Y0||(Y0={}));var Z0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Z0||(Z0={}));function EL(t){let e=O.useRef(ef(t)),r=O.useRef(!1),s=Xs(),o=O.useMemo(()=>Uk(s.search,r.current?null:e.current),[s.search]),a=lc(),u=O.useCallback((d,h)=>{const p=ef(typeof d=="function"?d(o):d);r.current=!0,a("?"+p,h)},[a,o]);return[o,u]}const V_=()=>g.jsxs("div",{className:"flex justify-center items-center my-10 sm:my-12",style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"3rem 0",width:"100%"},children:[g.jsx("div",{className:"border-4 border-slate-200 border-t-blue-500 rounded-full w-10 h-10 animate-spin",style:{width:"40px",height:"40px",borderRadius:"9999px",borderWidth:"4px",borderStyle:"solid",borderColor:"#e2e8f0",borderTopColor:"#3b82f6"}}),g.jsx("span",{className:"sr-only",style:{position:"absolute",width:"1px",height:"1px",overflow:"hidden"},children:"Cargando..."})]}),H_=({className:t,variant:e="light",style:r})=>{const s=e==="dark",o="#2563eb",a="#ffffff",u="#1e293b",d="#475569",h="#e2e8f0",y=s?"#94a3b8":d,v=s?h:u;return g.jsx("svg",{className:t,style:r,width:"180",height:"70",viewBox:"0 0 180 70",xmlns:"http://www.w3.org/2000/svg","aria-label":"Logo de Mi Panel",children:g.jsxs("g",{children:[g.jsx("rect",{x:"0",y:"10",width:"50",height:"50",fill:o,rx:"12"}),g.jsxs("g",{transform:"translate(0, 2)",children:[g.jsx("rect",{x:"10",y:"22",width:"6",height:"22",fill:a,rx:"2",opacity:"0.95"}),g.jsx("rect",{x:"22",y:"28",width:"6",height:"16",fill:a,rx:"2",opacity:"0.95"}),g.jsx("rect",{x:"34",y:"25",width:"6",height:"19",fill:a,rx:"2",opacity:"0.95"})]}),g.jsxs("text",{x:"65",y:"35",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif",fontSize:"24",dominantBaseline:"middle",letterSpacing:"-0.5",children:[g.jsx("tspan",{fontWeight:"500",fill:y,children:"Mi"}),g.jsx("tspan",{fontWeight:"800",fill:v,dx:"0.2em",children:"Panel"})]})]})})},tf=({className:t,variant:e="light",style:r})=>{const s=e==="dark",o=s?"#e2e8f0":"#1e293b",a=s?"#94a3b8":"#475569";return g.jsxs("svg",{className:t,style:r,width:"120",height:"70",viewBox:"0 0 120 70",xmlns:"http://www.w3.org/2000/svg","aria-label":"UFLO Universidad Logo",children:[g.jsx("text",{x:"60",y:"33",fontFamily:"Inter, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif",fontSize:"38",fontWeight:"bold",fill:o,textAnchor:"middle",dominantBaseline:"middle",children:"UFLO"}),g.jsx("text",{x:"60",y:"56",fontFamily:"Inter, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif",fontSize:"10.5",fontWeight:"500",fill:a,letterSpacing:"0.5",textAnchor:"middle",style:{textTransform:"uppercase"},children:"Universidad"})]})},W_=O.createContext(void 0),Vk=()=>{if(typeof window<"u"){const t=window.localStorage.getItem("theme");if(typeof t=="string")return t==="dark"?"dark":"light";if(window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}return"light"},Hk=({children:t})=>{const[e,r]=O.useState(Vk);O.useEffect(()=>{const a=window.document.documentElement;e==="dark"?a.classList.add("dark"):a.classList.remove("dark"),window.localStorage.setItem("theme",e)},[e]);const s=a=>{r(a)};O.useEffect(()=>{const a=u=>{u.key==="theme"&&u.newValue&&(u.newValue==="light"||u.newValue==="dark")&&r(u.newValue)};return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[]);const o=O.useMemo(()=>({theme:e,setTheme:s,resolvedTheme:e}),[e]);return g.jsx(W_.Provider,{value:o,children:t})},ip=()=>{const t=O.useContext(W_);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},q_=()=>{const{theme:t,setTheme:e}=ip(),r=()=>{e(t==="dark"?"light":"dark")},s=t==="dark"?"dark_mode":"light_mode",o=t==="dark"?"Cambiar a modo claro":"Cambiar a modo oscuro";return g.jsx("button",{onClick:r,className:"bg-white dark:bg-slate-800 hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-500 dark:text-slate-400 font-semibold p-2.5 rounded-full transition-all duration-200 shadow-sm border border-slate-200/80 dark:border-slate-700 flex items-center justify-center group","aria-label":o,children:g.jsx("span",{className:"material-icons !text-xl sm:!text-2xl transition-transform duration-300 ease-out group-hover:rotate-12 group-hover:scale-110",children:s})})};var ao=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Wk={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Vn,Xf,v_,qk=(v_=class{constructor(){pe(this,Vn,Wk);pe(this,Xf,!1)}setTimeoutProvider(t){ne(this,Vn,t)}setTimeout(t,e){return T(this,Vn).setTimeout(t,e)}clearTimeout(t){T(this,Vn).clearTimeout(t)}setInterval(t,e){return T(this,Vn).setInterval(t,e)}clearInterval(t){T(this,Vn).clearInterval(t)}},Vn=new WeakMap,Xf=new WeakMap,v_),Ps=new qk;function Gk(t){setTimeout(t,0)}var Qs=typeof window>"u"||"Deno"in globalThis;function At(){}function Kk(t,e){return typeof t=="function"?t(e):t}function rf(t){return typeof t=="number"&&t>=0&&t!==1/0}function G_(t,e){return Math.max(t+(e||0)-Date.now(),0)}function es(t,e){return typeof t=="function"?t(e):t}function or(t,e){return typeof t=="function"?t(e):t}function X0(t,e){const{type:r="all",exact:s,fetchStatus:o,predicate:a,queryKey:u,stale:d}=t;if(u){if(s){if(e.queryHash!==op(u,e.options))return!1}else if(!Sa(e.queryKey,u))return!1}if(r!=="all"){const h=e.isActive();if(r==="active"&&!h||r==="inactive"&&h)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||o&&o!==e.state.fetchStatus||a&&!a(e))}function ey(t,e){const{exact:r,status:s,predicate:o,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(Js(e.options.mutationKey)!==Js(a))return!1}else if(!Sa(e.options.mutationKey,a))return!1}return!(s&&e.state.status!==s||o&&!o(e))}function op(t,e){return((e==null?void 0:e.queryKeyHashFn)||Js)(t)}function Js(t){return JSON.stringify(t,(e,r)=>nf(r)?Object.keys(r).sort().reduce((s,o)=>(s[o]=r[o],s),{}):r)}function Sa(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Sa(t[r],e[r])):!1}var Qk=Object.prototype.hasOwnProperty;function K_(t,e){if(t===e)return t;const r=ty(t)&&ty(e);if(!r&&!(nf(t)&&nf(e)))return e;const o=(r?t:Object.keys(t)).length,a=r?e:Object.keys(e),u=a.length,d=r?new Array(u):{};let h=0;for(let p=0;p<u;p++){const y=r?p:a[p],v=t[y],_=e[y];if(v===_){d[y]=v,(r?p<o:Qk.call(t,y))&&h++;continue}if(v===null||_===null||typeof v!="object"||typeof _!="object"){d[y]=_;continue}const w=K_(v,_);d[y]=w,w===v&&h++}return o===u&&h===o?t:d}function Ru(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function ty(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function nf(t){if(!ry(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!ry(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ry(t){return Object.prototype.toString.call(t)==="[object Object]"}function Jk(t){return new Promise(e=>{Ps.setTimeout(e,t)})}function sf(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?K_(t,e):e}function Yk(t,e,r=0){const s=[...t,e];return r&&s.length>r?s.slice(1):s}function Zk(t,e,r=0){const s=[e,...t];return r&&s.length>r?s.slice(0,-1):s}var ap=Symbol();function Q_(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ap?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function J_(t,e){return typeof t=="function"?t(...e):!!t}var Fs,Hn,$i,__,Xk=(__=class extends ao{constructor(){super();pe(this,Fs);pe(this,Hn);pe(this,$i);ne(this,$i,e=>{if(!Qs&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){T(this,Hn)||this.setEventListener(T(this,$i))}onUnsubscribe(){var e;this.hasListeners()||((e=T(this,Hn))==null||e.call(this),ne(this,Hn,void 0))}setEventListener(e){var r;ne(this,$i,e),(r=T(this,Hn))==null||r.call(this),ne(this,Hn,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){T(this,Fs)!==e&&(ne(this,Fs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof T(this,Fs)=="boolean"?T(this,Fs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Fs=new WeakMap,Hn=new WeakMap,$i=new WeakMap,__),lp=new Xk;function of(){let t,e;const r=new Promise((o,a)=>{t=o,e=a});r.status="pending",r.catch(()=>{});function s(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{s({status:"fulfilled",value:o}),t(o)},r.reject=o=>{s({status:"rejected",reason:o}),e(o)},r}var eT=Gk;function tT(){let t=[],e=0,r=d=>{d()},s=d=>{d()},o=eT;const a=d=>{e?t.push(d):o(()=>{r(d)})},u=()=>{const d=t;t=[],d.length&&o(()=>{s(()=>{d.forEach(h=>{r(h)})})})};return{batch:d=>{let h;e++;try{h=d()}finally{e--,e||u()}return h},batchCalls:d=>(...h)=>{a(()=>{d(...h)})},schedule:a,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{s=d},setScheduler:d=>{o=d}}}var lt=tT(),Bi,Wn,zi,w_,rT=(w_=class extends ao{constructor(){super();pe(this,Bi,!0);pe(this,Wn);pe(this,zi);ne(this,zi,e=>{if(!Qs&&window.addEventListener){const r=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){T(this,Wn)||this.setEventListener(T(this,zi))}onUnsubscribe(){var e;this.hasListeners()||((e=T(this,Wn))==null||e.call(this),ne(this,Wn,void 0))}setEventListener(e){var r;ne(this,zi,e),(r=T(this,Wn))==null||r.call(this),ne(this,Wn,e(this.setOnline.bind(this)))}setOnline(e){T(this,Bi)!==e&&(ne(this,Bi,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return T(this,Bi)}},Bi=new WeakMap,Wn=new WeakMap,zi=new WeakMap,w_),Pu=new rT;function nT(t){return Math.min(1e3*2**t,3e4)}function Y_(t){return(t??"online")==="online"?Pu.isOnline():!0}var af=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Z_(t){let e=!1,r=0,s;const o=of(),a=()=>o.status!=="pending",u=S=>{var E;if(!a()){const N=new af(S);_(N),(E=t.onCancel)==null||E.call(t,N)}},d=()=>{e=!0},h=()=>{e=!1},p=()=>lp.isFocused()&&(t.networkMode==="always"||Pu.isOnline())&&t.canRun(),y=()=>Y_(t.networkMode)&&t.canRun(),v=S=>{a()||(s==null||s(),o.resolve(S))},_=S=>{a()||(s==null||s(),o.reject(S))},w=()=>new Promise(S=>{var E;s=N=>{(a()||p())&&S(N)},(E=t.onPause)==null||E.call(t)}).then(()=>{var S;s=void 0,a()||(S=t.onContinue)==null||S.call(t)}),x=()=>{if(a())return;let S;const E=r===0?t.initialPromise:void 0;try{S=E??t.fn()}catch(N){S=Promise.reject(N)}Promise.resolve(S).then(v).catch(N=>{var K;if(a())return;const j=t.retry??(Qs?0:3),R=t.retryDelay??nT,U=typeof R=="function"?R(r,N):R,H=j===!0||typeof j=="number"&&r<j||typeof j=="function"&&j(r,N);if(e||!H){_(N);return}r++,(K=t.onFail)==null||K.call(t,r,N),Jk(U).then(()=>p()?void 0:w()).then(()=>{e?_(N):x()})})};return{promise:o,status:()=>o.status,cancel:u,continue:()=>(s==null||s(),o),cancelRetry:d,continueRetry:h,canStart:y,start:()=>(y()?x():w().then(x),o)}}var Ms,b_,X_=(b_=class{constructor(){pe(this,Ms)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rf(this.gcTime)&&ne(this,Ms,Ps.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Qs?1/0:300*1e3))}clearGcTimeout(){T(this,Ms)&&(Ps.clearTimeout(T(this,Ms)),ne(this,Ms,void 0))}},Ms=new WeakMap,b_),Us,Vi,ir,$s,pt,Aa,Bs,Sr,nn,E_,sT=(E_=class extends X_{constructor(e){super();pe(this,Sr);pe(this,Us);pe(this,Vi);pe(this,ir);pe(this,$s);pe(this,pt);pe(this,Aa);pe(this,Bs);ne(this,Bs,!1),ne(this,Aa,e.defaultOptions),this.setOptions(e.options),this.observers=[],ne(this,$s,e.client),ne(this,ir,T(this,$s).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ne(this,Us,sy(this.options)),this.state=e.state??T(this,Us),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=T(this,pt))==null?void 0:e.promise}setOptions(e){if(this.options={...T(this,Aa),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=sy(this.options);r.data!==void 0&&(this.setState(ny(r.data,r.dataUpdatedAt)),ne(this,Us,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&T(this,ir).remove(this)}setData(e,r){const s=sf(this.state.data,e,this.options);return ke(this,Sr,nn).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(e,r){ke(this,Sr,nn).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var s,o;const r=(s=T(this,pt))==null?void 0:s.promise;return(o=T(this,pt))==null||o.cancel(e),r?r.then(At).catch(At):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(T(this,Us))}isActive(){return this.observers.some(e=>or(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ap||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>es(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!G_(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=T(this,pt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=T(this,pt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),T(this,ir).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(T(this,pt)&&(T(this,Bs)?T(this,pt).cancel({revert:!0}):T(this,pt).cancelRetry()),this.scheduleGc()),T(this,ir).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ke(this,Sr,nn).call(this,{type:"invalidate"})}async fetch(e,r){var h,p,y,v,_,w,x,S,E,N,j,R;if(this.state.fetchStatus!=="idle"&&((h=T(this,pt))==null?void 0:h.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(T(this,pt))return T(this,pt).continueRetry(),T(this,pt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const U=this.observers.find(H=>H.options.queryFn);U&&this.setOptions(U.options)}const s=new AbortController,o=U=>{Object.defineProperty(U,"signal",{enumerable:!0,get:()=>(ne(this,Bs,!0),s.signal)})},a=()=>{const U=Q_(this.options,r),K=(()=>{const G={client:T(this,$s),queryKey:this.queryKey,meta:this.meta};return o(G),G})();return ne(this,Bs,!1),this.options.persister?this.options.persister(U,K,this):U(K)},d=(()=>{const U={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:T(this,$s),state:this.state,fetchFn:a};return o(U),U})();(p=this.options.behavior)==null||p.onFetch(d,this),ne(this,Vi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((y=d.fetchOptions)==null?void 0:y.meta))&&ke(this,Sr,nn).call(this,{type:"fetch",meta:(v=d.fetchOptions)==null?void 0:v.meta}),ne(this,pt,Z_({initialPromise:r==null?void 0:r.initialPromise,fn:d.fetchFn,onCancel:U=>{U instanceof af&&U.revert&&this.setState({...T(this,Vi),fetchStatus:"idle"}),s.abort()},onFail:(U,H)=>{ke(this,Sr,nn).call(this,{type:"failed",failureCount:U,error:H})},onPause:()=>{ke(this,Sr,nn).call(this,{type:"pause"})},onContinue:()=>{ke(this,Sr,nn).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0}));try{const U=await T(this,pt).start();if(U===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(U),(w=(_=T(this,ir).config).onSuccess)==null||w.call(_,U,this),(S=(x=T(this,ir).config).onSettled)==null||S.call(x,U,this.state.error,this),U}catch(U){if(U instanceof af){if(U.silent)return T(this,pt).promise;if(U.revert){if(this.state.data===void 0)throw U;return this.state.data}}throw ke(this,Sr,nn).call(this,{type:"error",error:U}),(N=(E=T(this,ir).config).onError)==null||N.call(E,U,this),(R=(j=T(this,ir).config).onSettled)==null||R.call(j,this.state.data,U,this),U}finally{this.scheduleGc()}}},Us=new WeakMap,Vi=new WeakMap,ir=new WeakMap,$s=new WeakMap,pt=new WeakMap,Aa=new WeakMap,Bs=new WeakMap,Sr=new WeakSet,nn=function(e){const r=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...ew(s.data,this.options),fetchMeta:e.meta??null};case"success":const o={...s,...ny(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ne(this,Vi,e.manual?o:void 0),o;case"error":const a=e.error;return{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=r(this.state),lt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),T(this,ir).notify({query:this,type:"updated",action:e})})},E_);function ew(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Y_(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ny(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function sy(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,s=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Bt,Oe,Na,It,zs,Hi,on,qn,Ra,Wi,qi,Vs,Hs,Gn,Gi,je,pa,lf,uf,cf,df,hf,ff,pf,tw,S_,iT=(S_=class extends ao{constructor(e,r){super();pe(this,je);pe(this,Bt);pe(this,Oe);pe(this,Na);pe(this,It);pe(this,zs);pe(this,Hi);pe(this,on);pe(this,qn);pe(this,Ra);pe(this,Wi);pe(this,qi);pe(this,Vs);pe(this,Hs);pe(this,Gn);pe(this,Gi,new Set);this.options=r,ne(this,Bt,e),ne(this,qn,null),ne(this,on,of()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(T(this,Oe).addObserver(this),iy(T(this,Oe),this.options)?ke(this,je,pa).call(this):this.updateResult(),ke(this,je,df).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return mf(T(this,Oe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return mf(T(this,Oe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ke(this,je,hf).call(this),ke(this,je,ff).call(this),T(this,Oe).removeObserver(this)}setOptions(e){const r=this.options,s=T(this,Oe);if(this.options=T(this,Bt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof or(this.options.enabled,T(this,Oe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ke(this,je,pf).call(this),T(this,Oe).setOptions(this.options),r._defaulted&&!Ru(this.options,r)&&T(this,Bt).getQueryCache().notify({type:"observerOptionsUpdated",query:T(this,Oe),observer:this});const o=this.hasListeners();o&&oy(T(this,Oe),s,this.options,r)&&ke(this,je,pa).call(this),this.updateResult(),o&&(T(this,Oe)!==s||or(this.options.enabled,T(this,Oe))!==or(r.enabled,T(this,Oe))||es(this.options.staleTime,T(this,Oe))!==es(r.staleTime,T(this,Oe)))&&ke(this,je,lf).call(this);const a=ke(this,je,uf).call(this);o&&(T(this,Oe)!==s||or(this.options.enabled,T(this,Oe))!==or(r.enabled,T(this,Oe))||a!==T(this,Gn))&&ke(this,je,cf).call(this,a)}getOptimisticResult(e){const r=T(this,Bt).getQueryCache().build(T(this,Bt),e),s=this.createResult(r,e);return aT(this,s)&&(ne(this,It,s),ne(this,Hi,this.options),ne(this,zs,T(this,Oe).state)),s}getCurrentResult(){return T(this,It)}trackResult(e,r){return new Proxy(e,{get:(s,o)=>(this.trackProp(o),r==null||r(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&T(this,on).status==="pending"&&T(this,on).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,o))})}trackProp(e){T(this,Gi).add(e)}getCurrentQuery(){return T(this,Oe)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=T(this,Bt).defaultQueryOptions(e),s=T(this,Bt).getQueryCache().build(T(this,Bt),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(e){return ke(this,je,pa).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),T(this,It)))}createResult(e,r){var Z;const s=T(this,Oe),o=this.options,a=T(this,It),u=T(this,zs),d=T(this,Hi),p=e!==s?e.state:T(this,Na),{state:y}=e;let v={...y},_=!1,w;if(r._optimisticResults){const X=this.hasListeners(),se=!X&&iy(e,r),ve=X&&oy(e,s,r,o);(se||ve)&&(v={...v,...ew(y.data,e.options)}),r._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:x,errorUpdatedAt:S,status:E}=v;w=v.data;let N=!1;if(r.placeholderData!==void 0&&w===void 0&&E==="pending"){let X;a!=null&&a.isPlaceholderData&&r.placeholderData===(d==null?void 0:d.placeholderData)?(X=a.data,N=!0):X=typeof r.placeholderData=="function"?r.placeholderData((Z=T(this,qi))==null?void 0:Z.state.data,T(this,qi)):r.placeholderData,X!==void 0&&(E="success",w=sf(a==null?void 0:a.data,X,r),_=!0)}if(r.select&&w!==void 0&&!N)if(a&&w===(u==null?void 0:u.data)&&r.select===T(this,Ra))w=T(this,Wi);else try{ne(this,Ra,r.select),w=r.select(w),w=sf(a==null?void 0:a.data,w,r),ne(this,Wi,w),ne(this,qn,null)}catch(X){ne(this,qn,X)}T(this,qn)&&(x=T(this,qn),w=T(this,Wi),S=Date.now(),E="error");const j=v.fetchStatus==="fetching",R=E==="pending",U=E==="error",H=R&&j,K=w!==void 0,te={status:E,fetchStatus:v.fetchStatus,isPending:R,isSuccess:E==="success",isError:U,isInitialLoading:H,isLoading:H,data:w,dataUpdatedAt:v.dataUpdatedAt,error:x,errorUpdatedAt:S,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>p.dataUpdateCount||v.errorUpdateCount>p.errorUpdateCount,isFetching:j,isRefetching:j&&!R,isLoadingError:U&&!K,isPaused:v.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:U&&K,isStale:up(e,r),refetch:this.refetch,promise:T(this,on),isEnabled:or(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const X=de=>{te.status==="error"?de.reject(te.error):te.data!==void 0&&de.resolve(te.data)},se=()=>{const de=ne(this,on,te.promise=of());X(de)},ve=T(this,on);switch(ve.status){case"pending":e.queryHash===s.queryHash&&X(ve);break;case"fulfilled":(te.status==="error"||te.data!==ve.value)&&se();break;case"rejected":(te.status!=="error"||te.error!==ve.reason)&&se();break}}return te}updateResult(){const e=T(this,It),r=this.createResult(T(this,Oe),this.options);if(ne(this,zs,T(this,Oe).state),ne(this,Hi,this.options),T(this,zs).data!==void 0&&ne(this,qi,T(this,Oe)),Ru(r,e))return;ne(this,It,r);const s=()=>{if(!e)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!T(this,Gi).size)return!0;const u=new Set(a??T(this,Gi));return this.options.throwOnError&&u.add("error"),Object.keys(T(this,It)).some(d=>{const h=d;return T(this,It)[h]!==e[h]&&u.has(h)})};ke(this,je,tw).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ke(this,je,df).call(this)}},Bt=new WeakMap,Oe=new WeakMap,Na=new WeakMap,It=new WeakMap,zs=new WeakMap,Hi=new WeakMap,on=new WeakMap,qn=new WeakMap,Ra=new WeakMap,Wi=new WeakMap,qi=new WeakMap,Vs=new WeakMap,Hs=new WeakMap,Gn=new WeakMap,Gi=new WeakMap,je=new WeakSet,pa=function(e){ke(this,je,pf).call(this);let r=T(this,Oe).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(At)),r},lf=function(){ke(this,je,hf).call(this);const e=es(this.options.staleTime,T(this,Oe));if(Qs||T(this,It).isStale||!rf(e))return;const s=G_(T(this,It).dataUpdatedAt,e)+1;ne(this,Vs,Ps.setTimeout(()=>{T(this,It).isStale||this.updateResult()},s))},uf=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(T(this,Oe)):this.options.refetchInterval)??!1},cf=function(e){ke(this,je,ff).call(this),ne(this,Gn,e),!(Qs||or(this.options.enabled,T(this,Oe))===!1||!rf(T(this,Gn))||T(this,Gn)===0)&&ne(this,Hs,Ps.setInterval(()=>{(this.options.refetchIntervalInBackground||lp.isFocused())&&ke(this,je,pa).call(this)},T(this,Gn)))},df=function(){ke(this,je,lf).call(this),ke(this,je,cf).call(this,ke(this,je,uf).call(this))},hf=function(){T(this,Vs)&&(Ps.clearTimeout(T(this,Vs)),ne(this,Vs,void 0))},ff=function(){T(this,Hs)&&(Ps.clearInterval(T(this,Hs)),ne(this,Hs,void 0))},pf=function(){const e=T(this,Bt).getQueryCache().build(T(this,Bt),this.options);if(e===T(this,Oe))return;const r=T(this,Oe);ne(this,Oe,e),ne(this,Na,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},tw=function(e){lt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(T(this,It))}),T(this,Bt).getQueryCache().notify({query:T(this,Oe),type:"observerResultsUpdated"})})},S_);function oT(t,e){return or(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function iy(t,e){return oT(t,e)||t.state.data!==void 0&&mf(t,e,e.refetchOnMount)}function mf(t,e,r){if(or(e.enabled,t)!==!1&&es(e.staleTime,t)!=="static"){const s=typeof r=="function"?r(t):r;return s==="always"||s!==!1&&up(t,e)}return!1}function oy(t,e,r,s){return(t!==e||or(s.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&up(t,r)}function up(t,e){return or(e.enabled,t)!==!1&&t.isStaleByTime(es(e.staleTime,t))}function aT(t,e){return!Ru(t.getCurrentResult(),e)}function ay(t){return{onFetch:(e,r)=>{var y,v,_,w,x;const s=e.options,o=(_=(v=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:v.fetchMore)==null?void 0:_.direction,a=((w=e.state.data)==null?void 0:w.pages)||[],u=((x=e.state.data)==null?void 0:x.pageParams)||[];let d={pages:[],pageParams:[]},h=0;const p=async()=>{let S=!1;const E=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(e.signal.aborted?S=!0:e.signal.addEventListener("abort",()=>{S=!0}),e.signal)})},N=Q_(e.options,e.fetchOptions),j=async(R,U,H)=>{if(S)return Promise.reject();if(U==null&&R.pages.length)return Promise.resolve(R);const G=(()=>{const se={client:e.client,queryKey:e.queryKey,pageParam:U,direction:H?"backward":"forward",meta:e.options.meta};return E(se),se})(),te=await N(G),{maxPages:Z}=e.options,X=H?Zk:Yk;return{pages:X(R.pages,te,Z),pageParams:X(R.pageParams,U,Z)}};if(o&&a.length){const R=o==="backward",U=R?lT:ly,H={pages:a,pageParams:u},K=U(s,H);d=await j(H,K,R)}else{const R=t??a.length;do{const U=h===0?u[0]??s.initialPageParam:ly(s,d);if(h>0&&U==null)break;d=await j(d,U),h++}while(h<R)}return d};e.options.persister?e.fetchFn=()=>{var S,E;return(E=(S=e.options).persister)==null?void 0:E.call(S,p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=p}}}function ly(t,{pages:e,pageParams:r}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,r[s],r):void 0}function lT(t,{pages:e,pageParams:r}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,r[0],r):void 0}var Pa,Dr,Ot,Ws,Fr,$n,x_,uT=(x_=class extends X_{constructor(e){super();pe(this,Fr);pe(this,Pa);pe(this,Dr);pe(this,Ot);pe(this,Ws);ne(this,Pa,e.client),this.mutationId=e.mutationId,ne(this,Ot,e.mutationCache),ne(this,Dr,[]),this.state=e.state||rw(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){T(this,Dr).includes(e)||(T(this,Dr).push(e),this.clearGcTimeout(),T(this,Ot).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ne(this,Dr,T(this,Dr).filter(r=>r!==e)),this.scheduleGc(),T(this,Ot).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){T(this,Dr).length||(this.state.status==="pending"?this.scheduleGc():T(this,Ot).remove(this))}continue(){var e;return((e=T(this,Ws))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var u,d,h,p,y,v,_,w,x,S,E,N,j,R,U,H,K,G,te,Z;const r=()=>{ke(this,Fr,$n).call(this,{type:"continue"})},s={client:T(this,Pa),meta:this.options.meta,mutationKey:this.options.mutationKey};ne(this,Ws,Z_({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(X,se)=>{ke(this,Fr,$n).call(this,{type:"failed",failureCount:X,error:se})},onPause:()=>{ke(this,Fr,$n).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>T(this,Ot).canRun(this)}));const o=this.state.status==="pending",a=!T(this,Ws).canStart();try{if(o)r();else{ke(this,Fr,$n).call(this,{type:"pending",variables:e,isPaused:a}),await((d=(u=T(this,Ot).config).onMutate)==null?void 0:d.call(u,e,this,s));const se=await((p=(h=this.options).onMutate)==null?void 0:p.call(h,e,s));se!==this.state.context&&ke(this,Fr,$n).call(this,{type:"pending",context:se,variables:e,isPaused:a})}const X=await T(this,Ws).start();return await((v=(y=T(this,Ot).config).onSuccess)==null?void 0:v.call(y,X,e,this.state.context,this,s)),await((w=(_=this.options).onSuccess)==null?void 0:w.call(_,X,e,this.state.context,s)),await((S=(x=T(this,Ot).config).onSettled)==null?void 0:S.call(x,X,null,this.state.variables,this.state.context,this,s)),await((N=(E=this.options).onSettled)==null?void 0:N.call(E,X,null,e,this.state.context,s)),ke(this,Fr,$n).call(this,{type:"success",data:X}),X}catch(X){try{throw await((R=(j=T(this,Ot).config).onError)==null?void 0:R.call(j,X,e,this.state.context,this,s)),await((H=(U=this.options).onError)==null?void 0:H.call(U,X,e,this.state.context,s)),await((G=(K=T(this,Ot).config).onSettled)==null?void 0:G.call(K,void 0,X,this.state.variables,this.state.context,this,s)),await((Z=(te=this.options).onSettled)==null?void 0:Z.call(te,void 0,X,e,this.state.context,s)),X}finally{ke(this,Fr,$n).call(this,{type:"error",error:X})}}finally{T(this,Ot).runNext(this)}}},Pa=new WeakMap,Dr=new WeakMap,Ot=new WeakMap,Ws=new WeakMap,Fr=new WeakSet,$n=function(e){const r=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),lt.batch(()=>{T(this,Dr).forEach(s=>{s.onMutationUpdate(e)}),T(this,Ot).notify({mutation:this,type:"updated",action:e})})},x_);function rw(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var an,xr,ja,k_,cT=(k_=class extends ao{constructor(e={}){super();pe(this,an);pe(this,xr);pe(this,ja);this.config=e,ne(this,an,new Set),ne(this,xr,new Map),ne(this,ja,0)}build(e,r,s){const o=new uT({client:e,mutationCache:this,mutationId:++nu(this,ja)._,options:e.defaultMutationOptions(r),state:s});return this.add(o),o}add(e){T(this,an).add(e);const r=iu(e);if(typeof r=="string"){const s=T(this,xr).get(r);s?s.push(e):T(this,xr).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(T(this,an).delete(e)){const r=iu(e);if(typeof r=="string"){const s=T(this,xr).get(r);if(s)if(s.length>1){const o=s.indexOf(e);o!==-1&&s.splice(o,1)}else s[0]===e&&T(this,xr).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=iu(e);if(typeof r=="string"){const s=T(this,xr).get(r),o=s==null?void 0:s.find(a=>a.state.status==="pending");return!o||o===e}else return!0}runNext(e){var s;const r=iu(e);if(typeof r=="string"){const o=(s=T(this,xr).get(r))==null?void 0:s.find(a=>a!==e&&a.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){lt.batch(()=>{T(this,an).forEach(e=>{this.notify({type:"removed",mutation:e})}),T(this,an).clear(),T(this,xr).clear()})}getAll(){return Array.from(T(this,an))}find(e){const r={exact:!0,...e};return this.getAll().find(s=>ey(r,s))}findAll(e={}){return this.getAll().filter(r=>ey(e,r))}notify(e){lt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return lt.batch(()=>Promise.all(e.map(r=>r.continue().catch(At))))}},an=new WeakMap,xr=new WeakMap,ja=new WeakMap,k_);function iu(t){var e;return(e=t.options.scope)==null?void 0:e.id}var ln,Kn,zt,un,pn,Eu,gf,T_,dT=(T_=class extends ao{constructor(r,s){super();pe(this,pn);pe(this,ln);pe(this,Kn);pe(this,zt);pe(this,un);ne(this,ln,r),this.setOptions(s),this.bindMethods(),ke(this,pn,Eu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var o;const s=this.options;this.options=T(this,ln).defaultMutationOptions(r),Ru(this.options,s)||T(this,ln).getMutationCache().notify({type:"observerOptionsUpdated",mutation:T(this,zt),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Js(s.mutationKey)!==Js(this.options.mutationKey)?this.reset():((o=T(this,zt))==null?void 0:o.state.status)==="pending"&&T(this,zt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=T(this,zt))==null||r.removeObserver(this)}onMutationUpdate(r){ke(this,pn,Eu).call(this),ke(this,pn,gf).call(this,r)}getCurrentResult(){return T(this,Kn)}reset(){var r;(r=T(this,zt))==null||r.removeObserver(this),ne(this,zt,void 0),ke(this,pn,Eu).call(this),ke(this,pn,gf).call(this)}mutate(r,s){var o;return ne(this,un,s),(o=T(this,zt))==null||o.removeObserver(this),ne(this,zt,T(this,ln).getMutationCache().build(T(this,ln),this.options)),T(this,zt).addObserver(this),T(this,zt).execute(r)}},ln=new WeakMap,Kn=new WeakMap,zt=new WeakMap,un=new WeakMap,pn=new WeakSet,Eu=function(){var s;const r=((s=T(this,zt))==null?void 0:s.state)??rw();ne(this,Kn,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},gf=function(r){lt.batch(()=>{var s,o,a,u,d,h,p,y;if(T(this,un)&&this.hasListeners()){const v=T(this,Kn).variables,_=T(this,Kn).context,w={client:T(this,ln),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((o=(s=T(this,un)).onSuccess)==null||o.call(s,r.data,v,_,w),(u=(a=T(this,un)).onSettled)==null||u.call(a,r.data,null,v,_,w)):(r==null?void 0:r.type)==="error"&&((h=(d=T(this,un)).onError)==null||h.call(d,r.error,v,_,w),(y=(p=T(this,un)).onSettled)==null||y.call(p,void 0,r.error,v,_,w))}this.listeners.forEach(v=>{v(T(this,Kn))})})},T_),Mr,C_,hT=(C_=class extends ao{constructor(e={}){super();pe(this,Mr);this.config=e,ne(this,Mr,new Map)}build(e,r,s){const o=r.queryKey,a=r.queryHash??op(o,r);let u=this.get(a);return u||(u=new sT({client:e,queryKey:o,queryHash:a,options:e.defaultQueryOptions(r),state:s,defaultOptions:e.getQueryDefaults(o)}),this.add(u)),u}add(e){T(this,Mr).has(e.queryHash)||(T(this,Mr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=T(this,Mr).get(e.queryHash);r&&(e.destroy(),r===e&&T(this,Mr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return T(this,Mr).get(e)}getAll(){return[...T(this,Mr).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(s=>X0(r,s))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(s=>X0(e,s)):r}notify(e){lt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){lt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){lt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Mr=new WeakMap,C_),Je,Qn,Jn,Ki,Qi,Yn,Ji,Yi,I_,fT=(I_=class{constructor(t={}){pe(this,Je);pe(this,Qn);pe(this,Jn);pe(this,Ki);pe(this,Qi);pe(this,Yn);pe(this,Ji);pe(this,Yi);ne(this,Je,t.queryCache||new hT),ne(this,Qn,t.mutationCache||new cT),ne(this,Jn,t.defaultOptions||{}),ne(this,Ki,new Map),ne(this,Qi,new Map),ne(this,Yn,0)}mount(){nu(this,Yn)._++,T(this,Yn)===1&&(ne(this,Ji,lp.subscribe(async t=>{t&&(await this.resumePausedMutations(),T(this,Je).onFocus())})),ne(this,Yi,Pu.subscribe(async t=>{t&&(await this.resumePausedMutations(),T(this,Je).onOnline())})))}unmount(){var t,e;nu(this,Yn)._--,T(this,Yn)===0&&((t=T(this,Ji))==null||t.call(this),ne(this,Ji,void 0),(e=T(this,Yi))==null||e.call(this),ne(this,Yi,void 0))}isFetching(t){return T(this,Je).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return T(this,Qn).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=T(this,Je).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=T(this,Je).build(this,e),s=r.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(es(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return T(this,Je).findAll(t).map(({queryKey:e,state:r})=>{const s=r.data;return[e,s]})}setQueryData(t,e,r){const s=this.defaultQueryOptions({queryKey:t}),o=T(this,Je).get(s.queryHash),a=o==null?void 0:o.state.data,u=Kk(e,a);if(u!==void 0)return T(this,Je).build(this,s).setData(u,{...r,manual:!0})}setQueriesData(t,e,r){return lt.batch(()=>T(this,Je).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=T(this,Je).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=T(this,Je);lt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=T(this,Je);return lt.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},s=lt.batch(()=>T(this,Je).findAll(t).map(o=>o.cancel(r)));return Promise.all(s).then(At).catch(At)}invalidateQueries(t,e={}){return lt.batch(()=>(T(this,Je).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},s=lt.batch(()=>T(this,Je).findAll(t).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let a=o.fetch(void 0,r);return r.throwOnError||(a=a.catch(At)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(At)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=T(this,Je).build(this,e);return r.isStaleByTime(es(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(At).catch(At)}fetchInfiniteQuery(t){return t.behavior=ay(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(At).catch(At)}ensureInfiniteQueryData(t){return t.behavior=ay(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Pu.isOnline()?T(this,Qn).resumePausedMutations():Promise.resolve()}getQueryCache(){return T(this,Je)}getMutationCache(){return T(this,Qn)}getDefaultOptions(){return T(this,Jn)}setDefaultOptions(t){ne(this,Jn,t)}setQueryDefaults(t,e){T(this,Ki).set(Js(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...T(this,Ki).values()],r={};return e.forEach(s=>{Sa(t,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(t,e){T(this,Qi).set(Js(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...T(this,Qi).values()],r={};return e.forEach(s=>{Sa(t,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...T(this,Jn).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=op(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ap&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...T(this,Jn).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){T(this,Je).clear(),T(this,Qn).clear()}},Je=new WeakMap,Qn=new WeakMap,Jn=new WeakMap,Ki=new WeakMap,Qi=new WeakMap,Yn=new WeakMap,Ji=new WeakMap,Yi=new WeakMap,I_),nw=O.createContext(void 0),lo=t=>{const e=O.useContext(nw);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},pT=({client:t,children:e})=>(O.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(nw.Provider,{value:t,children:e})),sw=O.createContext(!1),mT=()=>O.useContext(sw);sw.Provider;function gT(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var yT=O.createContext(gT()),vT=()=>O.useContext(yT),_T=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},wT=t=>{O.useEffect(()=>{t.clearReset()},[t])},bT=({result:t,errorResetBoundary:e,throwOnError:r,query:s,suspense:o})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&(o&&t.data===void 0||J_(r,[t.error,s])),ET=t=>{if(t.suspense){const r=o=>o==="static"?o:Math.max(o??1e3,1e3),s=t.staleTime;t.staleTime=typeof s=="function"?(...o)=>r(s(...o)):r(s),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},ST=(t,e)=>t.isLoading&&t.isFetching&&!e,xT=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,uy=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function kT(t,e,r){var v,_,w,x,S;const s=mT(),o=vT(),a=lo(),u=a.defaultQueryOptions(t);(_=(v=a.getDefaultOptions().queries)==null?void 0:v._experimental_beforeQuery)==null||_.call(v,u),u._optimisticResults=s?"isRestoring":"optimistic",ET(u),_T(u,o),wT(o);const d=!a.getQueryCache().get(u.queryHash),[h]=O.useState(()=>new e(a,u)),p=h.getOptimisticResult(u),y=!s&&t.subscribed!==!1;if(O.useSyncExternalStore(O.useCallback(E=>{const N=y?h.subscribe(lt.batchCalls(E)):At;return h.updateResult(),N},[h,y]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),O.useEffect(()=>{h.setOptions(u)},[u,h]),xT(u,p))throw uy(u,h,o);if(bT({result:p,errorResetBoundary:o,throwOnError:u.throwOnError,query:a.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw p.error;if((x=(w=a.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||x.call(w,u,p),u.experimental_prefetchInRender&&!Qs&&ST(p,s)){const E=d?uy(u,h,o):(S=a.getQueryCache().get(u.queryHash))==null?void 0:S.promise;E==null||E.catch(At).finally(()=>{h.updateResult()})}return u.notifyOnChangeProps?p:h.trackResult(p)}function Ma(t,e){return kT(t,iT)}function Zi(t,e){const r=lo(),[s]=O.useState(()=>new dT(r,t));O.useEffect(()=>{s.setOptions(t)},[s,t]);const o=O.useSyncExternalStore(O.useCallback(u=>s.subscribe(lt.batchCalls(u)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=O.useCallback((u,d)=>{s.mutate(u,d).catch(At)},[s]);if(o.error&&J_(s.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}var en={},ou={},yf=function(t,e){return yf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},yf(t,e)};function iw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");yf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ju=function(){return ju=Object.assign||function(e){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ju.apply(this,arguments)};function uo(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(r[s[o]]=t[s[o]]);return r}function ow(t,e,r,s){var o=arguments.length,a=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,r):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,s);else for(var d=t.length-1;d>=0;d--)(u=t[d])&&(a=(o<3?u(a):o>3?u(e,r,a):u(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a}function aw(t,e){return function(r,s){e(r,s,t)}}function lw(t,e,r,s,o,a){function u(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var d=s.kind,h=d==="getter"?"get":d==="setter"?"set":"value",p=!e&&t?s.static?t:t.prototype:null,y=e||(p?Object.getOwnPropertyDescriptor(p,s.name):{}),v,_=!1,w=r.length-1;w>=0;w--){var x={};for(var S in s)x[S]=S==="access"?{}:s[S];for(var S in s.access)x.access[S]=s.access[S];x.addInitializer=function(N){if(_)throw new TypeError("Cannot add initializers after decoration has completed");a.push(u(N||null))};var E=(0,r[w])(d==="accessor"?{get:y.get,set:y.set}:y[h],x);if(d==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(v=u(E.get))&&(y.get=v),(v=u(E.set))&&(y.set=v),(v=u(E.init))&&o.unshift(v)}else(v=u(E))&&(d==="field"?o.unshift(v):y[h]=v)}p&&Object.defineProperty(p,s.name,y),_=!0}function uw(t,e,r){for(var s=arguments.length>2,o=0;o<e.length;o++)r=s?e[o].call(t,r):e[o].call(t);return s?r:void 0}function cw(t){return typeof t=="symbol"?t:"".concat(t)}function dw(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function hw(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function le(t,e,r,s){function o(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function d(y){try{p(s.next(y))}catch(v){u(v)}}function h(y){try{p(s.throw(y))}catch(v){u(v)}}function p(y){y.done?a(y.value):o(y.value).then(d,h)}p((s=s.apply(t,e||[])).next())})}function fw(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,o,a,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=d(0),u.throw=d(1),u.return=d(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(p){return function(y){return h([p,y])}}function h(p){if(s)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(r=0)),r;)try{if(s=1,o&&(a=p[0]&2?o.return:p[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,p[1])).done)return a;switch(o=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,o=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=e.call(t,r)}catch(y){p=[6,y],o=0}finally{s=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var uc=Object.create?(function(t,e,r,s){s===void 0&&(s=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,o)}):(function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]});function pw(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&uc(e,t,r)}function Lu(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function cp(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var s=r.call(t),o,a=[],u;try{for(;(e===void 0||e-- >0)&&!(o=s.next()).done;)a.push(o.value)}catch(d){u={error:d}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(u)throw u.error}}return a}function mw(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(cp(arguments[e]));return t}function gw(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var s=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],u=0,d=a.length;u<d;u++,o++)s[o]=a[u];return s}function yw(t,e,r){if(r||arguments.length===2)for(var s=0,o=e.length,a;s<o;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))}function Xi(t){return this instanceof Xi?(this.v=t,this):new Xi(t)}function vw(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(t,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(w){return function(x){return Promise.resolve(x).then(w,v)}}function d(w,x){s[w]&&(o[w]=function(S){return new Promise(function(E,N){a.push([w,S,E,N])>1||h(w,S)})},x&&(o[w]=x(o[w])))}function h(w,x){try{p(s[w](x))}catch(S){_(a[0][3],S)}}function p(w){w.value instanceof Xi?Promise.resolve(w.value.v).then(y,v):_(a[0][2],w)}function y(w){h("next",w)}function v(w){h("throw",w)}function _(w,x){w(x),a.shift(),a.length&&h(a[0][0],a[0][1])}}function _w(t){var e,r;return e={},s("next"),s("throw",function(o){throw o}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(o,a){e[o]=t[o]?function(u){return(r=!r)?{value:Xi(t[o](u)),done:!1}:a?a(u):u}:a}}function ww(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Lu=="function"?Lu(t):t[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(a){r[a]=t[a]&&function(u){return new Promise(function(d,h){u=t[a](u),o(d,h,u.done,u.value)})}}function o(a,u,d,h){Promise.resolve(h).then(function(p){a({value:p,done:d})},u)}}function bw(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var TT=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},vf=function(t){return vf=Object.getOwnPropertyNames||function(e){var r=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[r.length]=s);return r},vf(t)};function Ew(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=vf(t),s=0;s<r.length;s++)r[s]!=="default"&&uc(e,t,r[s]);return TT(e,t),e}function Sw(t){return t&&t.__esModule?t:{default:t}}function xw(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)}function kw(t,e,r,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r}function Tw(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Cw(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],r&&(o=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");o&&(s=function(){try{o.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:s,async:r})}else r&&t.stack.push({async:!0});return e}var CT=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var s=new Error(r);return s.name="SuppressedError",s.error=t,s.suppressed=e,s};function Iw(t){function e(a){t.error=t.hasError?new CT(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var r,s=0;function o(){for(;r=t.stack.pop();)try{if(!r.async&&s===1)return s=0,t.stack.push(r),Promise.resolve().then(o);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(a).then(o,function(u){return e(u),o()})}else s|=1}catch(u){e(u)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function Ow(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,s,o,a,u){return s?e?".jsx":".js":o&&(!a||!u)?r:o+a+"."+u.toLowerCase()+"js"}):t}const IT={__extends:iw,__assign:ju,__rest:uo,__decorate:ow,__param:aw,__esDecorate:lw,__runInitializers:uw,__propKey:cw,__setFunctionName:dw,__metadata:hw,__awaiter:le,__generator:fw,__createBinding:uc,__exportStar:pw,__values:Lu,__read:cp,__spread:mw,__spreadArrays:gw,__spreadArray:yw,__await:Xi,__asyncGenerator:vw,__asyncDelegator:_w,__asyncValues:ww,__makeTemplateObject:bw,__importStar:Ew,__importDefault:Sw,__classPrivateFieldGet:xw,__classPrivateFieldSet:kw,__classPrivateFieldIn:Tw,__addDisposableResource:Cw,__disposeResources:Iw,__rewriteRelativeImportExtension:Ow},OT=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Cw,get __assign(){return ju},__asyncDelegator:_w,__asyncGenerator:vw,__asyncValues:ww,__await:Xi,__awaiter:le,__classPrivateFieldGet:xw,__classPrivateFieldIn:Tw,__classPrivateFieldSet:kw,__createBinding:uc,__decorate:ow,__disposeResources:Iw,__esDecorate:lw,__exportStar:pw,__extends:iw,__generator:fw,__importDefault:Sw,__importStar:Ew,__makeTemplateObject:bw,__metadata:hw,__param:aw,__propKey:cw,__read:cp,__rest:uo,__rewriteRelativeImportExtension:Ow,__runInitializers:uw,__setFunctionName:dw,__spread:mw,__spreadArray:yw,__spreadArrays:gw,__values:Lu,default:IT},Symbol.toStringTag,{value:"Module"})),AT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let cc=class extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}},Aw=class extends cc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},_f=class extends cc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},wf=class extends cc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var Du;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Du||(Du={}));class NT{constructor(e,{headers:r={},customFetch:s,region:o=Du.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=AT(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return le(this,arguments,void 0,function*(r,s={}){var o;let a,u;try{const{headers:d,method:h,body:p,signal:y,timeout:v}=s;let _={},{region:w}=s;w||(w=this.region);const x=new URL(`${this.url}/${r}`);w&&w!=="any"&&(_["x-region"]=w,x.searchParams.set("forceFunctionRegion",w));let S;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",S=p):typeof p=="string"?(_["Content-Type"]="text/plain",S=p):typeof FormData<"u"&&p instanceof FormData?S=p:(_["Content-Type"]="application/json",S=JSON.stringify(p)):S=p;let E=y;v&&(u=new AbortController,a=setTimeout(()=>u.abort(),v),y?(E=u.signal,y.addEventListener("abort",()=>u.abort())):E=u.signal);const N=yield this.fetch(x.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),d),body:S,signal:E}).catch(H=>{throw new Aw(H)}),j=N.headers.get("x-relay-error");if(j&&j==="true")throw new _f(N);if(!N.ok)throw new wf(N);let R=((o=N.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),U;return R==="application/json"?U=yield N.json():R==="application/octet-stream"||R==="application/pdf"?U=yield N.blob():R==="text/event-stream"?U=N:R==="multipart/form-data"?U=yield N.formData():U=yield N.text(),{data:U,error:null,response:N}}catch(d){return{data:null,error:d,response:d instanceof wf||d instanceof _f?d.context:void 0}}finally{a&&clearTimeout(a)}})}}const RT=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Du},FunctionsClient:NT,FunctionsError:cc,FunctionsFetchError:Aw,FunctionsHttpError:wf,FunctionsRelayError:_f},Symbol.toStringTag,{value:"Module"})),Nw=La(RT);var xt={};const co=La(OT);var au={},lu={},uu={},cu={},du={},hu={},cy;function Rw(){if(cy)return hu;cy=1,Object.defineProperty(hu,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return hu.default=t,hu}var dy;function Pw(){if(dy)return du;dy=1,Object.defineProperty(du,"__esModule",{value:!0});const e=co.__importDefault(Rw());let r=class{constructor(o){var a,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(a=o.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,a){return this.headers=new Headers(this.headers),this.headers.set(o,a),this}then(o,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var p,y,v,_;let w=null,x=null,S=null,E=h.status,N=h.statusText;if(h.ok){if(this.method!=="HEAD"){const H=await h.text();H===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?x=H:x=JSON.parse(H))}const R=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),U=(v=h.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");R&&U&&U.length>1&&(S=parseInt(U[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(w={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,S=null,E=406,N="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const R=await h.text();try{w=JSON.parse(R),Array.isArray(w)&&h.status===404&&(x=[],w=null,E=200,N="OK")}catch{h.status===404&&R===""?(E=204,N="No Content"):w={message:R}}if(w&&this.isMaybeSingle&&(!((_=w==null?void 0:w.details)===null||_===void 0)&&_.includes("0 rows"))&&(w=null,E=200,N="OK"),w&&this.shouldThrowOnError)throw new e.default(w)}return{error:w,data:x,count:S,status:E,statusText:N}});return this.shouldThrowOnError||(d=d.catch(h=>{var p,y,v,_,w,x;let S="";const E=h==null?void 0:h.cause;if(E){const N=(p=E==null?void 0:E.message)!==null&&p!==void 0?p:"",j=(y=E==null?void 0:E.code)!==null&&y!==void 0?y:"";S=`${(v=h==null?void 0:h.name)!==null&&v!==void 0?v:"FetchError"}: ${h==null?void 0:h.message}`,S+=`

Caused by: ${(_=E==null?void 0:E.name)!==null&&_!==void 0?_:"Error"}: ${N}`,j&&(S+=` (${j})`),E!=null&&E.stack&&(S+=`
${E.stack}`)}else S=(w=h==null?void 0:h.stack)!==null&&w!==void 0?w:"";return{error:{message:`${(x=h==null?void 0:h.name)!==null&&x!==void 0?x:"FetchError"}: ${h==null?void 0:h.message}`,details:S,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(o,a)}returns(){return this}overrideTypes(){return this}};return du.default=r,du}var hy;function jw(){if(hy)return cu;hy=1,Object.defineProperty(cu,"__esModule",{value:!0});const e=co.__importDefault(Pw());let r=class extends e.default{select(o){let a=!1;const u=(o??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:a=!0,nullsFirst:u,foreignTable:d,referencedTable:h=d}={}){const p=h?`${h}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${o}.${a?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:a,referencedTable:u=a}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,a,{foreignTable:u,referencedTable:d=u}={}){const h=typeof d>"u"?"offset":`${d}.offset`,p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${o}`),this.url.searchParams.set(p,`${a-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:a=!1,settings:u=!1,buffers:d=!1,wal:h=!1,format:p="text"}={}){var y;const v=[o?"analyze":null,a?"verbose":null,u?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),_=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${_}"; options=${v};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}};return cu.default=r,cu}var fy;function dp(){if(fy)return uu;fy=1,Object.defineProperty(uu,"__esModule",{value:!0});const e=co.__importDefault(jw()),r=new RegExp("[,()]");let s=class extends e.default{eq(a,u){return this.url.searchParams.append(a,`eq.${u}`),this}neq(a,u){return this.url.searchParams.append(a,`neq.${u}`),this}gt(a,u){return this.url.searchParams.append(a,`gt.${u}`),this}gte(a,u){return this.url.searchParams.append(a,`gte.${u}`),this}lt(a,u){return this.url.searchParams.append(a,`lt.${u}`),this}lte(a,u){return this.url.searchParams.append(a,`lte.${u}`),this}like(a,u){return this.url.searchParams.append(a,`like.${u}`),this}likeAllOf(a,u){return this.url.searchParams.append(a,`like(all).{${u.join(",")}}`),this}likeAnyOf(a,u){return this.url.searchParams.append(a,`like(any).{${u.join(",")}}`),this}ilike(a,u){return this.url.searchParams.append(a,`ilike.${u}`),this}ilikeAllOf(a,u){return this.url.searchParams.append(a,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(a,u){return this.url.searchParams.append(a,`ilike(any).{${u.join(",")}}`),this}regexMatch(a,u){return this.url.searchParams.append(a,`match.${u}`),this}regexIMatch(a,u){return this.url.searchParams.append(a,`imatch.${u}`),this}is(a,u){return this.url.searchParams.append(a,`is.${u}`),this}isDistinct(a,u){return this.url.searchParams.append(a,`isdistinct.${u}`),this}in(a,u){const d=Array.from(new Set(u)).map(h=>typeof h=="string"&&r.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(a,`in.(${d})`),this}contains(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cs.{${u.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(u)}`),this}containedBy(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cd.{${u.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(u)}`),this}rangeGt(a,u){return this.url.searchParams.append(a,`sr.${u}`),this}rangeGte(a,u){return this.url.searchParams.append(a,`nxl.${u}`),this}rangeLt(a,u){return this.url.searchParams.append(a,`sl.${u}`),this}rangeLte(a,u){return this.url.searchParams.append(a,`nxr.${u}`),this}rangeAdjacent(a,u){return this.url.searchParams.append(a,`adj.${u}`),this}overlaps(a,u){return typeof u=="string"?this.url.searchParams.append(a,`ov.${u}`):this.url.searchParams.append(a,`ov.{${u.join(",")}}`),this}textSearch(a,u,{config:d,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const y=d===void 0?"":`(${d})`;return this.url.searchParams.append(a,`${p}fts${y}.${u}`),this}match(a){return Object.entries(a).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(a,u,d){return this.url.searchParams.append(a,`not.${u}.${d}`),this}or(a,{foreignTable:u,referencedTable:d=u}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${a})`),this}filter(a,u,d){return this.url.searchParams.append(a,`${u}.${d}`),this}};return uu.default=s,uu}var py;function Lw(){if(py)return lu;py=1,Object.defineProperty(lu,"__esModule",{value:!0});const e=co.__importDefault(dp());let r=class{constructor(o,{headers:a={},schema:u,fetch:d}){this.url=o,this.headers=new Headers(a),this.schema=u,this.fetch=d}select(o,a){const{head:u=!1,count:d}=a??{},h=u?"HEAD":"GET";let p=!1;const y=(o??"*").split("").map(v=>/\s/.test(v)&&!p?"":(v==='"'&&(p=!p),v)).join("");return this.url.searchParams.set("select",y),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:a,defaultToNull:u=!0}={}){var d;const h="POST";if(a&&this.headers.append("Prefer",`count=${a}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(p.length>0){const y=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:a,ignoreDuplicates:u=!1,count:d,defaultToNull:h=!0}={}){var p;const y="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const v=o.reduce((_,w)=>_.concat(Object.keys(w)),[]);if(v.length>0){const _=[...new Set(v)].map(w=>`"${w}"`);this.url.searchParams.set("columns",_.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:a}={}){var u;const d="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var a;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return lu.default=r,lu}var my;function PT(){if(my)return au;my=1,Object.defineProperty(au,"__esModule",{value:!0});const t=co,e=t.__importDefault(Lw()),r=t.__importDefault(dp());let s=class Dw{constructor(a,{headers:u={},schema:d,fetch:h}={}){this.url=a,this.headers=new Headers(u),this.schemaName=d,this.fetch=h}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const u=new URL(`${this.url}/${a}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new Dw(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,u={},{head:d=!1,get:h=!1,count:p}={}){var y;let v;const _=new URL(`${this.url}/rpc/${a}`);let w;d||h?(v=d?"HEAD":"GET",Object.entries(u).filter(([S,E])=>E!==void 0).map(([S,E])=>[S,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([S,E])=>{_.searchParams.append(S,E)})):(v="POST",w=u);const x=new Headers(this.headers);return p&&x.set("Prefer",`count=${p}`),new r.default({method:v,url:_,headers:x,schema:this.schemaName,body:w,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}};return au.default=s,au}var gy;function Fw(){if(gy)return xt;gy=1,Object.defineProperty(xt,"__esModule",{value:!0}),xt.PostgrestError=xt.PostgrestBuilder=xt.PostgrestTransformBuilder=xt.PostgrestFilterBuilder=xt.PostgrestQueryBuilder=xt.PostgrestClient=void 0;const t=co,e=t.__importDefault(PT());xt.PostgrestClient=e.default;const r=t.__importDefault(Lw());xt.PostgrestQueryBuilder=r.default;const s=t.__importDefault(dp());xt.PostgrestFilterBuilder=s.default;const o=t.__importDefault(jw());xt.PostgrestTransformBuilder=o.default;const a=t.__importDefault(Pw());xt.PostgrestBuilder=a.default;const u=t.__importDefault(Rw());return xt.PostgrestError=u.default,xt.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:a.default,PostgrestError:u.default},xt}class Mw{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const jT="2.87.1",LT=`realtime-js/${jT}`,Uw="1.0.0",DT="2.0.0",yy=Uw,bf=1e4,FT=1e3,MT=100;var Cs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Cs||(Cs={}));var tt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(tt||(tt={}));var kr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(kr||(kr={}));var Ef;(function(t){t.websocket="websocket"})(Ef||(Ef={}));var Is;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Is||(Is={}));class UT{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,s;const o=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var r,s;const o=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,r,s){var o,a;const u=e.topic,d=(o=e.ref)!==null&&o!==void 0?o:"",h=(a=e.join_ref)!==null&&a!==void 0?a:"",p=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(y).length===0?"":JSON.stringify(y);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+u.length+p.length+v.length,w=new ArrayBuffer(this.HEADER_LENGTH+_);let x=new DataView(w),S=0;x.setUint8(S++,this.KINDS.userBroadcastPush),x.setUint8(S++,h.length),x.setUint8(S++,d.length),x.setUint8(S++,u.length),x.setUint8(S++,p.length),x.setUint8(S++,v.length),x.setUint8(S++,r),Array.from(h,N=>x.setUint8(S++,N.charCodeAt(0))),Array.from(d,N=>x.setUint8(S++,N.charCodeAt(0))),Array.from(u,N=>x.setUint8(S++,N.charCodeAt(0))),Array.from(p,N=>x.setUint8(S++,N.charCodeAt(0))),Array.from(v,N=>x.setUint8(S++,N.charCodeAt(0)));var E=new Uint8Array(w.byteLength+s.byteLength);return E.set(new Uint8Array(w),0),E.set(new Uint8Array(s),w.byteLength),E.buffer}decode(e,r){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return r(s)}if(typeof e=="string"){const s=JSON.parse(e),[o,a,u,d,h]=s;return r({join_ref:o,ref:a,topic:u,event:d,payload:h})}return r({})}_binaryDecode(e){const r=new DataView(e),s=r.getUint8(0),o=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,o)}}_decodeUserBroadcast(e,r,s){const o=r.getUint8(1),a=r.getUint8(2),u=r.getUint8(3),d=r.getUint8(4);let h=this.HEADER_LENGTH+4;const p=s.decode(e.slice(h,h+o));h=h+o;const y=s.decode(e.slice(h,h+a));h=h+a;const v=s.decode(e.slice(h,h+u));h=h+u;const _=e.slice(h,e.byteLength),w=d===this.JSON_ENCODING?JSON.parse(s.decode(_)):_,x={type:this.BROADCAST_EVENT,event:y,payload:w};return u>0&&(x.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>r.includes(s)))}}class $w{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})($e||($e={}));const vy=(t,e,r={})=>{var s;const o=(s=r.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((a,u)=>(a[u]=$T(u,t,e,o),a),{}):{}},$T=(t,e,r,s)=>{const o=e.find(d=>d.name===t),a=o==null?void 0:o.type,u=r[t];return a&&!s.includes(a)?Bw(a,u):Sf(u)},Bw=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return HT(e,r)}switch(t){case $e.bool:return BT(e);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return zT(e);case $e.json:case $e.jsonb:return VT(e);case $e.timestamp:return WT(e);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return Sf(e);default:return Sf(e)}},Sf=t=>t,BT=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},zT=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},VT=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},HT=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let a;const u=t.slice(1,r);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(d=>Bw(e,d))}return t},WT=t=>typeof t=="string"?t.replace(" ","T"):t,zw=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Th{constructor(e,r,s={},o=bf){this.channel=e,this.event=r,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var xf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(xf||(xf={}));let Vw=class Su{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:a,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Su.syncState(this.state,o,a,u),this.pendingDiffs.forEach(h=>{this.state=Su.syncDiff(this.state,h,a,u)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},o=>{const{onJoin:a,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Su.syncDiff(this.state,o,a,u),d())}),this.onJoin((o,a,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:u})}),this.onLeave((o,a,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,o){const a=this.cloneDeep(e),u=this.transformState(r),d={},h={};return this.map(a,(p,y)=>{u[p]||(h[p]=y)}),this.map(u,(p,y)=>{const v=a[p];if(v){const _=y.map(E=>E.presence_ref),w=v.map(E=>E.presence_ref),x=y.filter(E=>w.indexOf(E.presence_ref)<0),S=v.filter(E=>_.indexOf(E.presence_ref)<0);x.length>0&&(d[p]=x),S.length>0&&(h[p]=S)}else d[p]=y}),this.syncDiff(a,{joins:d,leaves:h},s,o)}static syncDiff(e,r,s,o){const{joins:a,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(a,(d,h)=>{var p;const y=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(h),y.length>0){const v=e[d].map(w=>w.presence_ref),_=y.filter(w=>v.indexOf(w.presence_ref)<0);e[d].unshift(..._)}s(d,y,h)}),this.map(u,(d,h)=>{let p=e[d];if(!p)return;const y=h.map(v=>v.presence_ref);p=p.filter(v=>y.indexOf(v.presence_ref)<0),e[d]=p,o(d,p,h),p.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const o=e[s];return"metas"in o?r[s]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[s]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var kf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(kf||(kf={}));var Mi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Mi||(Mi={}));var Lr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Lr||(Lr={}));const qT=tt;let Hw=class ma{constructor(e,r={config:{}},s){var o,a;if(this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Th(this,kr.join,this.params,this.timeout),this.rejoinTimer=new $w(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kr.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Vw(this),this.broadcastEndpointURL=zw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var s,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==tt.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,p=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(w=>w.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[Mi.PRESENCE]&&this.bindings[Mi.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,v={},_={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:y}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(w=>e==null?void 0:e(Lr.CHANNEL_ERROR,w)),this._onClose(()=>e==null?void 0:e(Lr.CLOSED)),this.updateJoinPayload(Object.assign({config:_},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){e==null||e(Lr.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,E=(x=S==null?void 0:S.length)!==null&&x!==void 0?x:0,N=[];for(let j=0;j<E;j++){const R=S[j],{filter:{event:U,schema:H,table:K,filter:G}}=R,te=w&&w[j];if(te&&te.event===U&&ma.isFilterValueEqual(te.schema,H)&&ma.isFilterValueEqual(te.table,K)&&ma.isFilterValueEqual(te.filter,G))N.push(Object.assign(Object.assign({},R),{id:te.id}));else{this.unsubscribe(),this.state=tt.errored,e==null||e(Lr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,e&&e(Lr.SUBSCRIBED);return}}).receive("error",w=>{this.state=tt.errored,e==null||e(Lr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Lr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===tt.joined&&e===Mi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,s)}async httpSend(e,r,s={}){var o;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const p=await d.json();h=p.error||p.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:u}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,d,h;const p=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=tt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kr.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new Th(this,kr.leave,{},e),s.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tt.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const o=new AbortController,a=setTimeout(()=>o.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(a),u}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Th(this,e,r,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>MT){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var o,a;const u=e.toLocaleLowerCase(),{close:d,error:h,leave:p,join:y}=kr;if(s&&[d,h,p,y].indexOf(u)>=0&&s!==this._joinRef())return;let _=this._onMessage(u,r,s);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var x,S,E;return((x=w.filter)===null||x===void 0?void 0:x.event)==="*"||((E=(S=w.filter)===null||S===void 0?void 0:S.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===u}).map(w=>w.callback(_,s)):(a=this.bindings[u])===null||a===void 0||a.filter(w=>{var x,S,E,N,j,R;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in w){const U=w.id,H=(x=w.filter)===null||x===void 0?void 0:x.event;return U&&((S=r.ids)===null||S===void 0?void 0:S.includes(U))&&(H==="*"||(H==null?void 0:H.toLocaleLowerCase())===((E=r.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const U=(j=(N=w==null?void 0:w.filter)===null||N===void 0?void 0:N.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return U==="*"||U===((R=r==null?void 0:r.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===u}).map(w=>{if(typeof _=="object"&&"ids"in _){const x=_.data,{schema:S,table:E,commit_timestamp:N,type:j,errors:R}=x;_=Object.assign(Object.assign({},{schema:S,table:E,commit_timestamp:N,eventType:j,new:{},old:{},errors:R}),this._getPayloadRecords(x))}w.callback(_,s)})}_isClosed(){return this.state===tt.closed}_isJoined(){return this.state===tt.joined}_isJoining(){return this.state===tt.joining}_isLeaving(){return this.state===tt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const o=e.toLocaleLowerCase(),a={type:o,filter:r,callback:s};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&ma.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(kr.close,{},e)}_onError(e){this._on(kr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=vy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=vy(e.columns,e.old_record)),r}};const Ch=()=>{},fu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},GT=[1e3,2e3,5e3,1e4],KT=1e4,QT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let JT=class{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=bf,this.transport=null,this.heartbeatIntervalMs=fu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ch,this.ref=0,this.reconnectTimer=null,this.vsn=yy,this.logger=Ch,this.conn=null,this.sendBuffer=[],this.serializer=new UT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...a)=>o(...a):(...a)=>fetch(...a),!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Ef.websocket}`,this.httpEndpoint=zw(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Mw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Cs.connecting:return Is.Connecting;case Cs.open:return Is.Open;case Cs.closing:return Is.Closing;default:return Is.Closed}}isConnected(){return this.connectionState()===Is.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===s);if(o)return o;{const a=new Hw(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:s,payload:o,ref:a}=e,u=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${s} (${a})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(FT,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},fu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:o,payload:a,ref:u}=r,d=u?`(${u})`:"",h=a.status||"";this.log("receive",`${h} ${s} ${o} ${d}`.trim(),a),this.channels.filter(p=>p._isMember(s)).forEach(p=>p._trigger(o,a,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Cs.open||this.conn.readyState===Cs.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(kr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${s}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([QT],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,s=!1;if(e)r=e,s=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),r=this.accessTokenValue}else r=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const a={access_token:r,version:LT};r&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(kr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new $w(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,o,a,u,d,h,p,y,v,_,w;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:bf,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:fu.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e==null?void 0:e.heartbeatCallback)!==null&&d!==void 0?d:Ch,this.vsn=(h=e==null?void 0:e.vsn)!==null&&h!==void 0?h:yy,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:(x=>GT[x-1]||KT),this.vsn){case Uw:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:((x,S)=>S(JSON.stringify(x))),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:((x,S)=>S(JSON.parse(x)));break;case DT:this.encode=(_=e==null?void 0:e.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(w=e==null?void 0:e.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const YT=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:qT,get REALTIME_LISTEN_TYPES(){return Mi},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return kf},get REALTIME_PRESENCE_LISTEN_EVENTS(){return xf},get REALTIME_SUBSCRIBE_STATES(){return Lr},RealtimeChannel:Hw,RealtimeClient:JT,RealtimePresence:Vw,WebSocketFactory:Mw},Symbol.toStringTag,{value:"Module"})),Ww=La(YT);class Ua extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function We(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class qw extends Ua{constructor(e,r,s){super(e),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fu extends Ua{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const hp=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ZT=()=>Response,Tf=t=>{if(Array.isArray(t))return t.map(r=>Tf(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const o=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=Tf(s)}),e},XT=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},eC=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Ih=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},tC=(t,e,r)=>le(void 0,void 0,void 0,function*(){const s=yield ZT();t instanceof s&&!(r!=null&&r.noResolveJson)?t.json().then(o=>{const a=t.status||500,u=(o==null?void 0:o.statusCode)||a+"";e(new qw(Ih(o),a,u))}).catch(o=>{e(new Fu(Ih(o),o))}):e(new Fu(Ih(t),t))}),rC=(t,e,r,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?o:(XT(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(s)):o.body=s,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),r))};function $a(t,e,r,s,o,a){return le(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(r,rC(e,s,o,a)).then(h=>{if(!h.ok)throw h;return s!=null&&s.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>tC(h,d,s))})})}function xa(t,e,r,s){return le(this,void 0,void 0,function*(){return $a(t,"GET",e,r,s)})}function Er(t,e,r,s,o){return le(this,void 0,void 0,function*(){return $a(t,"POST",e,s,o,r)})}function Cf(t,e,r,s,o){return le(this,void 0,void 0,function*(){return $a(t,"PUT",e,s,o,r)})}function nC(t,e,r,s){return le(this,void 0,void 0,function*(){return $a(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function fp(t,e,r,s,o){return le(this,void 0,void 0,function*(){return $a(t,"DELETE",e,s,o,r)})}class sC{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return le(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(We(e))return{data:null,error:e};throw e}})}}var Gw;class iC{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Gw]="BlobDownloadBuilder",this.promise=null}asStream(){return new sC(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return le(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(We(e))return{data:null,error:e};throw e}})}}Gw=Symbol.toStringTag;const oC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_y={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class aC{constructor(e,r={},s,o){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=s,this.fetch=hp(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,s,o){return le(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},_y),o);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),h&&a.append("metadata",this.encodeMetadata(h)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.has("cacheControl")||a.append("cacheControl",u.cacheControl),h&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(h))):(a=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!u.duplex&&(u.duplex="half")),o!=null&&o.headers&&(d=Object.assign(Object.assign({},d),o.headers));const p=this._removeEmptyFolders(r),y=this._getFinalPath(p),v=yield(e=="PUT"?Cf:Er)(this.fetch,`${this.url}/object/${y}`,a,Object.assign({headers:d},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(We(a))return{data:null,error:a};throw a}})}upload(e,r,s){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,o){return le(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),u=this._getFinalPath(a),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",r);try{let h;const p=Object.assign({upsert:_y.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&s instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",s)):typeof FormData<"u"&&s instanceof FormData?(h=s,h.append("cacheControl",p.cacheControl)):(h=s,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const v=yield Cf(this.fetch,d.toString(),h,{headers:y});return{data:{path:a,fullPath:v.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(We(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,r){return le(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const o=Object.assign({},this.headers);r!=null&&r.upsert&&(o["x-upsert"]="true");const a=yield Er(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:o}),u=new URL(this.url+a.url),d=u.searchParams.get("token");if(!d)throw new Ua("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}})}update(e,r,s){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return le(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}})}copy(e,r,s){return le(this,void 0,void 0,function*(){try{return{data:{path:(yield Er(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}})}createSignedUrl(e,r,s){return le(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield Er(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const u=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}})}createSignedUrls(e,r,s){return le(this,void 0,void 0,function*(){try{const o=yield Er(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}})}download(e,r){const o=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),u=a?`?${a}`:"",d=this._getFinalPath(e),h=()=>xa(this.fetch,`${this.url}/${o}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new iC(h,this.shouldThrowOnError)}info(e){return le(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield xa(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Tf(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}})}exists(e){return le(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield nC(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(We(s)&&s instanceof Fu){const o=s.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),o=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&o.push(a);const d=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});h!==""&&o.push(h);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${p}`)}}}remove(e){return le(this,void 0,void 0,function*(){try{return{data:yield fp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}list(e,r,s){return le(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},oC),r),{prefix:e||""});return{data:yield Er(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}})}listV2(e,r){return le(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Er(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Kw="2.87.1",Qw={"X-Client-Info":`storage-js/${Kw}`};class lC{constructor(e,r={},s,o){this.shouldThrowOnError=!1;const a=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qw),r),this.fetch=hp(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return le(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield xa(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}getBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}createBucket(e){return le(this,arguments,void 0,function*(r,s={public:!1}){try{return{data:yield Er(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}})}updateBucket(e,r){return le(this,void 0,void 0,function*(){try{return{data:yield Cf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}})}emptyBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}deleteBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield fp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var ka=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function uC(t,e,r){const s=new URL(e,t);if(r)for(const[o,a]of Object.entries(r))a!==void 0&&s.searchParams.set(o,a);return s.toString()}async function cC(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function dC(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:o,body:a,headers:u}){const d=uC(t.baseUrl,s,o),h=await cC(t.auth),p=await e(d,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...h,...u},body:a?JSON.stringify(a):void 0}),y=await p.text(),v=(p.headers.get("content-type")||"").includes("application/json"),_=v&&y?JSON.parse(y):y;if(!p.ok){const w=v?_:void 0,x=w==null?void 0:w.error;throw new ka((x==null?void 0:x.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:w})}return{status:p.status,headers:p.headers,data:_}}}}function pu(t){return t.join("")}var hC=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:pu(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${pu(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pu(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${pu(t.namespace)}`}),!0}catch(e){if(e instanceof ka&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof ka&&r.status===409)return;throw r}}};function Ii(t){return t.join("")}var fC=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ii(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ii(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ii(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ii(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ii(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ii(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof ka&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof ka&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},pC=class{constructor(t){var s;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=dC({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(s=t.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new hC(this.client,e),this.tableOps=new fC(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class Jw{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qw),r),this.fetch=hp(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}listBuckets(e){return le(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const s=r.toString(),o=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield xa(this.fetch,o,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}deleteBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield fp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}from(e){if(!eC(e))throw new Ua("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new pC({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>le(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(a,u){const d=a[u];return typeof d!="function"?d:(...h)=>le(this,void 0,void 0,function*(){try{return{data:yield d.apply(a,h),error:null}}catch(p){if(s)throw p;return{data:null,error:p}}})}})}}const pp={"X-Client-Info":`storage-js/${Kw}`,"Content-Type":"application/json"};class mp extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Vt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class xu extends mp{constructor(e,r,s){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Yw extends mp{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var If;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(If||(If={}));const dc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),mC=()=>Response,Zw=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},gC=t=>Array.from(new Float32Array(t)),yC=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},wy=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vC=(t,e,r)=>le(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const o=t.status||500,a=t;if(typeof a.json=="function")a.json().then(u=>{const d=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||o+"";e(new xu(wy(u),o,d))}).catch(()=>{const u=o+"",d=a.statusText||`HTTP ${o} error`;e(new xu(d,o,u))});else{const u=o+"",d=a.statusText||`HTTP ${o} error`;e(new xu(d,o,u))}}else e(new Yw(wy(t),t))}),_C=(t,e,r,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return s?(Zw(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(s)):o.body=s,Object.assign(Object.assign({},o),r)):o};function wC(t,e,r,s,o,a){return le(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(r,_C(e,s,o,a)).then(h=>{if(!h.ok)throw h;if(s!=null&&s.noResolveJson)return h;const p=h.headers.get("content-type");return!p||!p.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>vC(h,d,s))})})}function Qt(t,e,r,s,o){return le(this,void 0,void 0,function*(){return wC(t,"POST",e,s,o,r)})}class Xw{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pp),r),this.fetch=dc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return le(this,void 0,void 0,function*(){try{return{data:(yield Qt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}getIndex(e,r){return le(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}listIndexes(e){return le(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return le(this,void 0,void 0,function*(){try{return{data:(yield Qt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}}class eb{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pp),r),this.fetch=dc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return le(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Qt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}getVectors(e){return le(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}listVectors(e){return le(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Qt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}queryVectors(e){return le(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}deleteVectors(e){return le(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Qt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}}class tb{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pp),r),this.fetch=dc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return le(this,void 0,void 0,function*(){try{return{data:(yield Qt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}getBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}listBuckets(){return le(this,arguments,void 0,function*(e={}){try{return{data:yield Qt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return le(this,void 0,void 0,function*(){try{return{data:(yield Qt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}}class rb extends tb{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new nb(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return le(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return le(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return le(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return le(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class nb extends Xw{constructor(e,r,s,o){super(e,r,o),this.vectorBucketName=s}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return le(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return le(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return le(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return le(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new sb(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class sb extends eb{constructor(e,r,s,o,a){super(e,r,a),this.vectorBucketName=s,this.indexName=o}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return le(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return le(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return le(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return le(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return le(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class bC extends lC{constructor(e,r={},s,o){super(e,r,s,o)}from(e){return new aC(this.url,this.headers,e,this.fetch)}get vectors(){return new rb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Jw(this.url+"/iceberg",this.headers,this.fetch)}}const EC=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Jw,StorageApiError:qw,StorageClient:bC,StorageError:Ua,StorageUnknownError:Fu,StorageVectorsApiError:xu,StorageVectorsClient:rb,StorageVectorsError:mp,get StorageVectorsErrorCode(){return If},StorageVectorsUnknownError:Yw,VectorBucketApi:tb,VectorBucketScope:nb,VectorDataApi:eb,VectorIndexApi:Xw,VectorIndexScope:sb,isPlainObject:Zw,isStorageError:We,isStorageVectorsError:Vt,normalizeToFloat32:gC,resolveFetch:dc,resolveResponse:mC,validateVectorDimension:yC},Symbol.toStringTag,{value:"Module"})),SC=La(EC);var Oh={},ia={},by;function xC(){return by||(by=1,Object.defineProperty(ia,"__esModule",{value:!0}),ia.version=void 0,ia.version="2.87.1"),ia}var Ey;function kC(){return Ey||(Ey=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=xC();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(Oh)),Oh}var Ah={},Sy;function TC(){return Sy||(Sy=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=o=>o?(...a)=>o(...a):(...a)=>fetch(...a);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const s=(o,a,u)=>{const d=(0,t.resolveFetch)(u),h=(0,t.resolveHeadersConstructor)();return async(p,y)=>{var v;const _=(v=await a())!==null&&v!==void 0?v:o;let w=new h(y==null?void 0:y.headers);return w.has("apikey")||w.set("apikey",o),w.has("Authorization")||w.set("Authorization",`Bearer ${_}`),d(p,Object.assign(Object.assign({},y),{headers:w}))}};t.fetchWithAuth=s})(Ah)),Ah}var tn={},xy;function CC(){if(xy)return tn;xy=1,Object.defineProperty(tn,"__esModule",{value:!0}),tn.isBrowser=void 0,tn.uuid=t,tn.ensureTrailingSlash=e,tn.applySettingDefaults=s,tn.validateSupabaseUrl=o;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var u=Math.random()*16|0,d=a=="x"?u:u&3|8;return d.toString(16)})}function e(a){return a.endsWith("/")?a:a+"/"}const r=()=>typeof window<"u";tn.isBrowser=r;function s(a,u){var d,h;const{db:p,auth:y,realtime:v,global:_}=a,{db:w,auth:x,realtime:S,global:E}=u,N={db:Object.assign(Object.assign({},w),p),auth:Object.assign(Object.assign({},x),y),realtime:Object.assign(Object.assign({},S),v),storage:{},global:Object.assign(Object.assign(Object.assign({},E),_),{headers:Object.assign(Object.assign({},(d=E==null?void 0:E.headers)!==null&&d!==void 0?d:{}),(h=_==null?void 0:_.headers)!==null&&h!==void 0?h:{})}),accessToken:async()=>""};return a.accessToken?N.accessToken=a.accessToken:delete N.accessToken,N}function o(a){const u=a==null?void 0:a.trim();if(!u)throw new Error("supabaseUrl is required.");if(!u.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(u))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return tn}var oa={};const ib="2.87.1",ji=30*1e3,Of=3,Nh=Of*ji,IC="http://localhost:9999",OC="supabase.auth.token",AC={"X-Client-Info":`gotrue-js/${ib}`},Af="X-Supabase-Api-Version",ob={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},NC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,RC=600*1e3;let eo=class extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}};function fe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let ab=class extends eo{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}};function lb(t){return fe(t)&&t.name==="AuthApiError"}let Bn=class extends eo{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},yn=class extends eo{constructor(e,r,s,o){super(e,s,o),this.name=r,this.status=s}},$t=class extends yn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function ub(t){return fe(t)&&t.name==="AuthSessionMissingError"}let xs=class extends yn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},ga=class extends yn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},ya=class extends yn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function cb(t){return fe(t)&&t.name==="AuthImplicitGrantRedirectError"}let Nf=class extends yn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Mu=class extends yn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function ku(t){return fe(t)&&t.name==="AuthRetryableFetchError"}let Rf=class extends yn{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}};function PC(t){return fe(t)&&t.name==="AuthWeakPasswordError"}let Uu=class extends yn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const $u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ky=` 	
\r=`.split(""),jC=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ky.length;e+=1)t[ky[e].charCodeAt(0)]=-2;for(let e=0;e<$u.length;e+=1)t[$u[e].charCodeAt(0)]=e;return t})();function Ty(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r($u[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r($u[s]),e.queuedBits-=6}}function db(t,e,r){const s=jC[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Cy(t){const e=[],r=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=u=>{FC(u,s,r)};for(let u=0;u<t.length;u+=1)db(t.charCodeAt(u),o,a);return e.join("")}function LC(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function DC(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}LC(s,e)}}function FC(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ui(t){const e=[],r={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)db(t.charCodeAt(o),r,s);return new Uint8Array(e)}function MC(t){const e=[];return DC(t,r=>e.push(r)),new Uint8Array(e)}function js(t){const e=[],r={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>Ty(o,r,s)),Ty(null,r,s),e.join("")}function UC(t){return Math.round(Date.now()/1e3)+t}function $C(){return Symbol("auth-callback")}const vt=()=>typeof window<"u"&&typeof document<"u",bs={tested:!1,writable:!1},hb=()=>{if(!vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bs.tested)return bs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),bs.tested=!0,bs.writable=!0}catch{bs.tested=!0,bs.writable=!1}return bs.writable};function BC(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return r.searchParams.forEach((s,o)=>{e[o]=s}),e}const fb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),zC=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Li=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Es=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},yt=async(t,e)=>{await t.removeItem(e)};class hc{constructor(){this.promise=new hc.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}hc.promiseConstructor=Promise;function Rh(t){const e=t.split(".");if(e.length!==3)throw new Uu("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!NC.test(e[s]))throw new Uu("JWT not in base64url format");return{header:JSON.parse(Cy(e[0])),payload:JSON.parse(Cy(e[1])),signature:Ui(e[2]),raw:{header:e[0],payload:e[1]}}}async function VC(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function HC(t,e){return new Promise((s,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await t(a);if(!e(a,null,u)){s(u);return}}catch(u){if(!e(a,u)){o(u);return}}})()})}function WC(t){return("0"+t.toString(16)).substr(-2)}function qC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let o="";for(let a=0;a<56;a++)o+=r.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,WC).join("")}async function GC(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(s);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function KC(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await GC(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Oi(t,e,r=!1){const s=qC();let o=s;r&&(o+="/PASSWORD_RECOVERY"),await Li(t,`${e}-code-verifier`,o);const a=await KC(s);return[a,s===a?"plain":"s256"]}const QC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function JC(t){const e=t.headers.get(Af);if(!e||!e.match(QC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function YC(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ZC(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const XC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ai(t){if(!XC.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ph(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function eI(t,e){return new Proxy(t,{get:(r,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,o)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,s,o)}})}function Iy(t){return JSON.parse(JSON.stringify(t))}const ks=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tI=[502,503,504];async function Oy(t){var e;if(!zC(t))throw new Mu(ks(t),0);if(tI.includes(t.status))throw new Mu(ks(t),t.status);let r;try{r=await t.json()}catch(a){throw new Bn(ks(a),a)}let s;const o=JC(t);if(o&&o.getTime()>=ob["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Rf(ks(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new $t}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new Rf(ks(r),t.status,r.weak_password.reasons);throw new ab(ks(r),t.status||500,s)}const rI=(t,e,r,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),r))};async function _e(t,e,r,s){var o;const a=Object.assign({},s==null?void 0:s.headers);a[Af]||(a[Af]=ob["2024-01-01"].name),s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const u=(o=s==null?void 0:s.query)!==null&&o!==void 0?o:{};s!=null&&s.redirectTo&&(u.redirect_to=s.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await nI(t,e,r+d,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(h):{data:Object.assign({},h),error:null}}async function nI(t,e,r,s,o,a){const u=rI(e,s,o,a);let d;try{d=await t(r,Object.assign({},u))}catch(h){throw console.error(h),new Mu(ks(h),0)}if(d.ok||await Oy(d),s!=null&&s.noResolveJson)return d;try{return await d.json()}catch(h){await Oy(h)}}function br(t){var e;let r=null;oI(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=UC(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function Ay(t){const e=br(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function zn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function sI(t){return{data:t,error:null}}function iI(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:o,verification_type:a}=t,u=uo(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:s,redirect_to:o,verification_type:a},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function Ny(t){return t}function oI(t){return t.access_token&&t.refresh_token&&t.expires_in}const Tu=["global","local","others"];let gp=class{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=fb(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Tu[0]){if(Tu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tu.join(", ")}`);try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zn})}catch(s){if(fe(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=uo(e,["options"]),o=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(o.new_email=s==null?void 0:s.newEmail,delete o.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:iI,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(fe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:zn})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,o,a,u,d,h;try{const p={nextPage:null,lastPage:0,total:0},y=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Ny});if(y.error)throw y.error;const v=await y.json(),_=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(h=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(x.split(";")[1].split("=")[1]);p[`${E}Page`]=S}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(fe(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Ai(e);try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:zn})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Ai(e);try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:zn})}catch(s){if(fe(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){Ai(e);try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:zn})}catch(s){if(fe(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Ai(e.userId);try{const{data:r,error:s}=await _e(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:s}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Ai(e.userId),Ai(e.id);try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,s,o,a,u,d,h;try{const p={nextPage:null,lastPage:0,total:0},y=await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Ny});if(y.error)throw y.error;const v=await y.json(),_=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(h=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(x.split(";")[1].split("=")[1]);p[`${E}Page`]=S}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(fe(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await _e(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(fe(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await _e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}};function Ry(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Ts={debug:!!(globalThis&&hb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yp extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let pb=class extends yp{};class aI extends yp{}async function mb(t,e,r){Ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Ts.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{Ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new pb(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ts.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const Py={};async function lI(t,e,r){var s;const o=(s=Py[t])!==null&&s!==void 0?s:Promise.resolve(),a=Promise.race([o.catch(()=>null),e>=0?new Promise((u,d)=>{setTimeout(()=>{d(new aI(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(u=>u)).catch(u=>{if(u&&u.isAcquireTimeout)throw u;return null}).then(async()=>await r());return Py[t]=a.catch(async u=>{if(u&&u.isAcquireTimeout)return await o,null;throw u}),await a}function uI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function gb(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function cI(t){return parseInt(t,16)}function dI(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function hI(t){var e;const{chainId:r,domain:s,expirationTime:o,issuedAt:a=new Date,nonce:u,notBefore:d,requestId:h,resources:p,scheme:y,uri:v,version:_}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const w=gb(t.address),x=y?`${y}://${s}`:s,S=t.statement?`${t.statement}
`:"",E=`${x} wants you to sign in with your Ethereum account:
${w}

${S}`;let N=`URI: ${v}
Version: ${_}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${a.toISOString()}`;if(o&&(N+=`
Expiration Time: ${o.toISOString()}`),d&&(N+=`
Not Before: ${d.toISOString()}`),h&&(N+=`
Request ID: ${h}`),p){let j=`
Resources:`;for(const R of p){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);j+=`
- ${R}`}N+=j}return`${E}
${N}`}class rt extends Error{constructor({message:e,code:r,cause:s,name:o}){var a;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(a=o??(s instanceof Error?s.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Bu extends rt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function fI({error:t,options:e}){var r,s,o;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new rt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(yb(u)){if(a.rp.id!==u)return new rt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function pI({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new rt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(yb(s)){if(r.rpId!==s)return new rt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class mI{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const gI=new mI;function yI(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:s}=t,o=uo(t,["challenge","user","excludeCredentials"]),a=Ui(e).buffer,u=Object.assign(Object.assign({},r),{id:Ui(r.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:a,user:u});if(s&&s.length>0){d.excludeCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const p=s[h];d.excludeCredentials[h]=Object.assign(Object.assign({},p),{id:Ui(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function vI(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,s=uo(t,["challenge","allowCredentials"]),o=Ui(e).buffer,a=Object.assign(Object.assign({},s),{challenge:o});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const d=r[u];a.allowCredentials[u]=Object.assign(Object.assign({},d),{id:Ui(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function _I(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:js(new Uint8Array(t.response.attestationObject)),clientDataJSON:js(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function wI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,s=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:js(new Uint8Array(o.authenticatorData)),clientDataJSON:js(new Uint8Array(o.clientDataJSON)),signature:js(new Uint8Array(o.signature)),userHandle:o.userHandle?js(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function yb(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function jy(){var t,e;return!!(vt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function bI(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Bu("Browser returned unexpected credential type",e)}:{data:null,error:new Bu("Empty credential response",e)}}catch(e){return{data:null,error:fI({error:e,options:t})}}}async function EI(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Bu("Browser returned unexpected credential type",e)}:{data:null,error:new Bu("Empty credential response",e)}}catch(e){return{data:null,error:pI({error:e,options:t})}}}const SI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},xI={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function zu(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of t)if(o)for(const a in o){const u=o[a];if(u!==void 0)if(Array.isArray(u))s[a]=u;else if(r(u))s[a]=u;else if(e(u)){const d=s[a];e(d)?s[a]=zu(d,u):s[a]=zu(u)}else s[a]=u}return s}function kI(t,e){return zu(SI,t,e||{})}function TI(t,e){return zu(xI,t,e||{})}class CI{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:s,signal:o},a){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!u)return{data:null,error:d};const h=o??gI.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${s}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=kI(u.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:y,error:v}=await bI({publicKey:p,signal:h});return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const p=TI(u.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:y,error:v}=await EI(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:h}));return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(u){return fe(u)?{data:null,error:u}:{data:null,error:new Bn("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!r)return{data:null,error:new eo("rpId is required for WebAuthn authentication")};try{if(!jy())return{data:null,error:new Bn("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:s},signal:o},{request:a});if(!u)return{data:null,error:d};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:s,credential_response:h.credential_response}})}catch(u){return fe(u)?{data:null,error:u}:{data:null,error:new Bn("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!r)return{data:null,error:new eo("rpId is required for WebAuthn registration")};try{if(!jy())return{data:null,error:new Bn("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===e&&_.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:d};const{data:h,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:o},{create:a});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:s,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:p}}catch(u){return fe(u)?{data:null,error:u}:{data:null,error:new Bn("Unexpected error in register",u)}}}}uI();const II={url:IC,storageKey:OC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:AC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ly(t,e,r){return await r()}const Ni={};let vp=class Pf{get jwks(){var e,r;return(r=(e=Ni[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ni[this.storageKey]=Object.assign(Object.assign({},Ni[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ni[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ni[this.storageKey]=Object.assign(Object.assign({},Ni[this.storageKey]),{cachedAt:e})}constructor(e){var r,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},II),e);if(this.storageKey=a.storageKey,this.instanceID=(r=Pf.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Pf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&vt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new gp({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=fb(a.fetch),this.lock=a.lock||Ly,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&vt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=mb:this.lock=Ly,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new CI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:hb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ry(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Ry(this.memoryStorage)),vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ib}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},s="none";if(vt()&&(r=BC(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),vt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:a}=await this._getSessionFromURL(r,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),cb(a)){const h=(e=a.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return fe(r)?this._returnResult({error:r}):this._returnResult({error:new Bn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,o;try{const a=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:br}),{data:u,error:d}=a;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(a){if(fe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,s,o;try{let a;if("email"in e){const{email:y,password:v,options:_}=e;let w=null,x=null;this.flowType==="pkce"&&([w,x]=await Oi(this.storage,this.storageKey)),a=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:y,password:v,data:(r=_==null?void 0:_.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:w,code_challenge_method:x},xform:br})}else if("phone"in e){const{phone:y,password:v,options:_}=e;a=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(s=_==null?void 0:_.data)!==null&&s!==void 0?s:{},channel:(o=_==null?void 0:_.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:br})}else throw new ga("You must provide either an email or phone number and a password");const{data:u,error:d}=a;if(d||!u)return await yt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(a){if(await yt(this.storage,`${this.storageKey}-code-verifier`),fe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:u,options:d}=e;r=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Ay})}else if("phone"in e){const{phone:a,password:u,options:d}=e;r=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Ay})}else throw new ga("You must provide either an email or phone number and a password");const{data:s,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const a=new xs;return this._returnResult({data:{user:null,session:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(r){if(fe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,s,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,o,a,u,d,h,p,y,v,_;let w,x;if("message"in e)w=e.message,x=e.signature;else{const{chain:S,wallet:E,statement:N,options:j}=e;let R;if(vt())if(typeof E=="object")R=E;else{const Z=window;if("ethereum"in Z&&typeof Z.ethereum=="object"&&"request"in Z.ethereum&&typeof Z.ethereum.request=="function")R=Z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=E}const U=new URL((r=j==null?void 0:j.url)!==null&&r!==void 0?r:window.location.href),H=await R.request({method:"eth_requestAccounts"}).then(Z=>Z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=gb(H[0]);let G=(s=j==null?void 0:j.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!G){const Z=await R.request({method:"eth_chainId"});G=cI(Z)}const te={domain:U.host,address:K,statement:N,uri:U.href,version:"1",chainId:G,nonce:(o=j==null?void 0:j.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(a=j==null?void 0:j.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=j==null?void 0:j.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=j==null?void 0:j.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(p=j==null?void 0:j.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=j==null?void 0:j.signInWithEthereum)===null||y===void 0?void 0:y.resources};w=hI(te),x=await R.request({method:"personal_sign",params:[dI(w),K]})}try{const{data:S,error:E}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:x},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:br});if(E)throw E;if(!S||!S.session||!S.user){const N=new xs;return this._returnResult({data:{user:null,session:null},error:N})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:E})}catch(S){if(fe(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var r,s,o,a,u,d,h,p,y,v,_,w;let x,S;if("message"in e)x=e.message,S=e.signature;else{const{chain:E,wallet:N,statement:j,options:R}=e;let U;if(vt())if(typeof N=="object")U=N;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))U=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=N}const H=new URL((r=R==null?void 0:R.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in U&&U.signIn){const K=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),j?{statement:j}:null));let G;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")G=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)G=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)x=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),S=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${H.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(o=(s=R==null?void 0:R.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=R==null?void 0:R.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((u=R==null?void 0:R.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((d=R==null?void 0:R.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((h=R==null?void 0:R.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((p=R==null?void 0:R.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((v=(y=R==null?void 0:R.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...R.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const K=await U.signMessage(new TextEncoder().encode(x),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=K}}try{const{data:E,error:N}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:js(S)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:br});if(N)throw N;if(!E||!E.session||!E.user){const j=new xs;return this._returnResult({data:{user:null,session:null},error:j})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:N})}catch(E){if(fe(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(e){const r=await Es(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(r??"").split("/");try{const{data:a,error:u}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:br});if(await yt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!a||!a.session||!a.user){const d=new xs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:u})}catch(a){if(await yt(this.storage,`${this.storageKey}-code-verifier`),fe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:s,token:o,access_token:a,nonce:u}=e,d=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:br}),{data:h,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h||!h.session||!h.user){const y=new xs;return this._returnResult({data:{user:null,session:null},error:y})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:p})}catch(r){if(fe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,s,o,a,u;try{if("email"in e){const{email:d,options:h}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Oi(this.storage,this.storageKey));const{error:v}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},create_user:(s=h==null?void 0:h.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:d,options:h}=e,{data:p,error:y}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=h==null?void 0:h.data)!==null&&o!==void 0?o:{},create_user:(a=h==null?void 0:h.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(u=h==null?void 0:h.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:y})}throw new ga("You must provide either an email or phone number.")}catch(d){if(await yt(this.storage,`${this.storageKey}-code-verifier`),fe(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var r,s;try{let o,a;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:d}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:br});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,p=u.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(o){if(fe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var r,s,o,a,u;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Oi(this.storage,this.storageKey));const p=await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:sI});return!((a=p.data)===null||a===void 0)&&a.url&&vt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(d){if(await yt(this.storage,`${this.storageKey}-code-verifier`),fe(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new $t;const{error:o}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(fe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:a}=e,{error:u}=await _e(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:s,type:o,options:a}=e,{data:u,error:d}=await _e(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new ga("You must provide either an email or phone number and a type")}catch(r){if(fe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Es(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Nh:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const u=await Es(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=Ph()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=eI(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:zn}):await this._useSession(async r=>{var s,o,a;const{data:u,error:d}=r;if(d)throw d;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $t}:await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:zn})})}catch(r){if(fe(r))return ub(r)&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:o,error:a}=s;if(a)throw a;if(!o.session)throw new $t;const u=o.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await Oi(this.storage,this.storageKey));const{data:p,error:y}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:zn});if(y)throw y;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(s){if(await yt(this.storage,`${this.storageKey}-code-verifier`),fe(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $t;const r=Date.now()/1e3;let s=r,o=!0,a=null;const{payload:u}=Rh(e.access_token);if(u.exp&&(s=u.exp,o=s<=r),o){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};a=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;a={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(fe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:u,error:d}=r;if(d)throw d;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new $t;const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(fe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!vt())throw new ya("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ya(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Nf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ya("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Nf("No code detected.");const{data:j,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:a,refresh_token:u,expires_in:d,expires_at:h,token_type:p}=e;if(!a||!d||!u||!p)throw new ya("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(d);let _=y+v;h&&(_=parseInt(h));const w=_-y;w*1e3<=ji&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${v}s`);const x=_-v;y-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,_,y):y-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,_,y);const{data:S,error:E}=await this._getUser(a);if(E)throw E;const N={provider_token:s,provider_refresh_token:o,access_token:a,expires_in:v,expires_at:_,refresh_token:u,token_type:p,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:e.type},error:null})}catch(s){if(fe(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Es(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:o,error:a}=r;if(a)return this._returnResult({error:a});const u=(s=o.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(lb(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=$C(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,o;try{const{data:{session:a},error:u}=r;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Oi(this.storage,this.storageKey,!0));try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await yt(this.storage,`${this.storageKey}-code-verifier`),fe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:s,error:o}=await this._useSession(async a=>{var u,d,h,p,y;const{data:v,error:_}=a;if(_)throw _;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return vt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:e.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(fe(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var s;try{const{error:o,data:{session:a}}=r;if(o)throw o;const{options:u,provider:d,token:h,access_token:p,nonce:y}=e,v=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=a==null?void 0:a.access_token)!==null&&s!==void 0?s:void 0,body:{provider:d,id_token:h,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:br}),{data:_,error:w}=v;return w?this._returnResult({data:{user:null,session:null},error:w}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new xs}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:w}))}catch(o){if(await yt(this.storage,`${this.storageKey}-code-verifier`),fe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,o;const{data:a,error:u}=r;if(u)throw u;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await HC(async o=>(o>0&&await VC(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:br})),(o,a)=>{const u=200*Math.pow(2,o);return a&&ku(a)&&Date.now()+u-s<ji})}catch(s){if(this._debug(r,"error",s),fe(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),vt()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Es(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Es(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Li(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:Ph()}else if(o&&!o.user&&!o.user){const u=await Es(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await yt(this.storage,this.storageKey+"-user"),await Li(this.storage,this.storageKey,o)):o.user=Ph()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const a=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Nh;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${Nh}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),ku(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(o.access_token);!d&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new $t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new hc;const{data:a,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!a.session)throw new $t;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const d={data:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(o,"error",a),fe(a)){const u={data:null,error:a};return ku(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(h){a.push(h)}});if(await Promise.all(u),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await yt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await Li(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const a=Iy(o);await Li(this.storage,this.storageKey,a)}else{const o=Iy(r);await Li(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await yt(this.storage,this.storageKey),await yt(this.storage,this.storageKey+"-code-verifier"),await yt(this.storage,this.storageKey+"-user"),this.userStorage&&await yt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&vt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ji);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/ji);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ji}ms, refresh threshold is ${Of} ticks`),o<=Of&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof yp)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const o=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,u]=await Oi(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(d.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);o.push(a.toString())}return s!=null&&s.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:o,error:a}=r;return a?this._returnResult({data:null,error:a}):await _e(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,o;const{data:a,error:u}=r;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:p}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&h.type==="totp"&&(!((o=h==null?void 0:h.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:a}=r;if(a)return this._returnResult({data:null,error:a});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?_I(e.webauthn.credential_response):wI(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await _e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:a}=r;if(a)return this._returnResult({data:null,error:a});const u=await _e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:yI(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:vI(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Rh(s.access_token);let u=null;a.aal&&(u=a.aal);let d=u;((r=(e=s.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const p=a.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;return o?this._returnResult({data:null,error:o}):s?await _e(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new $t})})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:o},error:a}=s;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new $t});const u=await _e(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&vt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(s){if(fe(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:o},error:a}=s;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new $t});const u=await _e(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&vt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(s){if(fe(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;return s?this._returnResult({data:null,error:s}):r?await _e(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new $t})})}catch(e){if(fe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;return o?this._returnResult({data:null,error:o}):s?(await _e(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $t})})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(d=>d.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(d=>d.kid===e),s&&this.jwks_cached_at+RC>o)return s;const{data:a,error:u}=await _e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,s=a.keys.find(d=>d.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:w,error:x}=await this.getSession();if(x||!w.session)return this._returnResult({data:null,error:x});s=w.session.access_token}const{header:o,payload:a,signature:u,raw:{header:d,payload:h}}=Rh(s);r!=null&&r.allowExpired||YC(a.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!p){const{error:w}=await this.getUser(s);if(w)throw w;return{data:{claims:a,header:o,signature:u},error:null}}const y=ZC(o.alg),v=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,u,MC(`${d}.${h}`)))throw new Uu("Invalid JWT signature");return{data:{claims:a,header:o,signature:u},error:null}}catch(s){if(fe(s))return this._returnResult({data:null,error:s});throw s}}};vp.nextInstanceID={};const OI=gp,AI=vp,NI=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:OI,AuthApiError:ab,AuthClient:AI,AuthError:eo,AuthImplicitGrantRedirectError:ya,AuthInvalidCredentialsError:ga,AuthInvalidJwtError:Uu,AuthInvalidTokenResponseError:xs,AuthPKCEGrantCodeExchangeError:Nf,AuthRetryableFetchError:Mu,AuthSessionMissingError:$t,AuthUnknownError:Bn,AuthWeakPasswordError:Rf,CustomAuthError:yn,GoTrueAdminApi:gp,GoTrueClient:vp,NavigatorLockAcquireTimeoutError:pb,SIGN_OUT_SCOPES:Tu,isAuthApiError:lb,isAuthError:fe,isAuthImplicitGrantRedirectError:cb,isAuthRetryableFetchError:ku,isAuthSessionMissingError:ub,isAuthWeakPasswordError:PC,lockInternals:Ts,navigatorLock:mb,processLock:lI},Symbol.toStringTag,{value:"Module"})),vb=La(NI);var Dy;function RI(){if(Dy)return oa;Dy=1,Object.defineProperty(oa,"__esModule",{value:!0}),oa.SupabaseAuthClient=void 0;const t=vb;let e=class extends t.AuthClient{constructor(s){super(s)}};return oa.SupabaseAuthClient=e,oa}var Fy;function My(){if(Fy)return ou;Fy=1,Object.defineProperty(ou,"__esModule",{value:!0});const t=Nw,e=Fw(),r=Ww,s=SC,o=kC(),a=TC(),u=CC(),d=RI();class h{constructor(y,v,_){var w,x,S;this.supabaseUrl=y,this.supabaseKey=v;const E=(0,u.validateSupabaseUrl)(y);if(!v)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",E),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",E),this.storageUrl=new URL("storage/v1",E),this.functionsUrl=new URL("functions/v1",E);const N=`sb-${E.hostname.split(".")[0]}-auth-token`,j={db:o.DEFAULT_DB_OPTIONS,realtime:o.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},o.DEFAULT_AUTH_OPTIONS),{storageKey:N}),global:o.DEFAULT_GLOBAL_OPTIONS},R=(0,u.applySettingDefaults)(_??{},j);this.storageKey=(w=R.auth.storageKey)!==null&&w!==void 0?w:"",this.headers=(x=R.global.headers)!==null&&x!==void 0?x:{},R.accessToken?(this.accessToken=R.accessToken,this.auth=new Proxy({},{get:(U,H)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(H)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((S=R.auth)!==null&&S!==void 0?S:{},this.headers,R.global.fetch),this.fetch=(0,a.fetchWithAuth)(v,this._getAccessToken.bind(this),R.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},R.realtime)),this.accessToken&&this.accessToken().then(U=>this.realtime.setAuth(U)).catch(U=>console.warn("Failed to set initial Realtime auth token:",U)),this.rest=new e.PostgrestClient(new URL("rest/v1",E).href,{headers:this.headers,schema:R.db.schema,fetch:this.fetch}),this.storage=new s.StorageClient(this.storageUrl.href,this.headers,this.fetch,_==null?void 0:_.storage),R.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(y){return this.rest.from(y)}schema(y){return this.rest.schema(y)}rpc(y,v={},_={head:!1,get:!1,count:void 0}){return this.rest.rpc(y,v,_)}channel(y,v={config:{}}){return this.realtime.channel(y,v)}getChannels(){return this.realtime.getChannels()}removeChannel(y){return this.realtime.removeChannel(y)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var y,v;if(this.accessToken)return await this.accessToken();const{data:_}=await this.auth.getSession();return(v=(y=_.session)===null||y===void 0?void 0:y.access_token)!==null&&v!==void 0?v:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:y,persistSession:v,detectSessionInUrl:_,storage:w,userStorage:x,storageKey:S,flowType:E,lock:N,debug:j,throwOnError:R},U,H){const K={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new d.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},K),U),storageKey:S,autoRefreshToken:y,persistSession:v,detectSessionInUrl:_,storage:w,userStorage:x,flowType:E,lock:N,debug:j,throwOnError:R,fetch:H,hasCustomAuthorizationHeader:Object.keys(this.headers).some(G=>G.toLowerCase()==="authorization")})}_initRealtimeClient(y){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},y),{params:Object.assign({apikey:this.supabaseKey},y==null?void 0:y.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((v,_)=>{this._handleTokenChanged(v,"CLIENT",_==null?void 0:_.access_token)})}_handleTokenChanged(y,v,_){(y==="TOKEN_REFRESHED"||y==="SIGNED_IN")&&this.changedAccessToken!==_?(this.changedAccessToken=_,this.realtime.setAuth(_)):y==="SIGNED_OUT"&&(this.realtime.setAuth(),v=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return ou.default=h,ou}var Uy;function PI(){return Uy||(Uy=1,(function(t){var e=en&&en.__createBinding||(Object.create?(function(y,v,_,w){w===void 0&&(w=_);var x=Object.getOwnPropertyDescriptor(v,_);(!x||("get"in x?!v.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return v[_]}}),Object.defineProperty(y,w,x)}):(function(y,v,_,w){w===void 0&&(w=_),y[w]=v[_]})),r=en&&en.__exportStar||function(y,v){for(var _ in y)_!=="default"&&!Object.prototype.hasOwnProperty.call(v,_)&&e(v,y,_)},s=en&&en.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const o=s(My());r(vb,t);var a=Fw();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var u=Nw;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return u.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return u.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return u.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return u.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return u.FunctionRegion}}),r(Ww,t);var d=My();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return s(d).default}});const h=(y,v,_)=>new o.default(y,v,_);t.createClient=h;function p(){if(typeof window<"u"||typeof process>"u")return!1;const y=process.version;if(y==null)return!1;const v=y.match(/^v(\d+)\./);return v?parseInt(v[1],10)<=18:!1}p()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(en)),en}var _b=PI();const wb=ep(_b),jI=O_({__proto__:null,default:wb},[_b]),{PostgrestError:KL,FunctionsHttpError:QL,FunctionsFetchError:JL,FunctionsRelayError:YL,FunctionsError:ZL,FunctionRegion:XL,SupabaseClient:eD,createClient:LI,GoTrueAdminApi:tD,GoTrueClient:rD,AuthAdminApi:nD,AuthClient:sD,navigatorLock:iD,NavigatorLockAcquireTimeoutError:oD,lockInternals:aD,processLock:lD,SIGN_OUT_SCOPES:uD,AuthError:cD,AuthApiError:dD,AuthUnknownError:hD,CustomAuthError:fD,AuthSessionMissingError:pD,AuthInvalidTokenResponseError:mD,AuthInvalidCredentialsError:gD,AuthImplicitGrantRedirectError:yD,AuthPKCEGrantCodeExchangeError:vD,AuthRetryableFetchError:_D,AuthWeakPasswordError:wD,AuthInvalidJwtError:bD,isAuthError:ED,isAuthApiError:SD,isAuthSessionMissingError:xD,isAuthImplicitGrantRedirectError:kD,isAuthRetryableFetchError:TD,isAuthWeakPasswordError:CD,RealtimePresence:ID,RealtimeChannel:OD,RealtimeClient:AD,REALTIME_LISTEN_TYPES:ND,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:RD,REALTIME_PRESENCE_LISTEN_EVENTS:PD,REALTIME_SUBSCRIBE_STATES:jD,REALTIME_CHANNEL_STATES:LD}=wb||jI,DI="",FI="",MI="solicitudes_pps",UI="practicas",$I="estudiantes",BI="lanzamientos_pps",zI="convocatorias",VI="instituciones",HI="finalizacion_pps",WI="penalizaciones",jf=MI,DD=UI,FD=$I,$y=BI,qI=zI,MD=VI,By=HI,UD=WI,Tr="legajo",ar="nombre",GI="nombre_separado",KI="apellido_separado",Cr="dni",lr="correo",Vu="telefono",ur="orientacion_elegida",zy="estado",QI="user_id",bb="notas_internas",$D="fecha_nacimiento",BD="genero",jh="fecha_finalizacion",Ri="finalizaron",Vy="must_change_password",Hy="role",JI="trabaja",Lh="certificado_trabajo",Gs="estudiante_id",ts="lanzamiento_id",zD="institucion_id",to="horas_realizadas",zr="nota",Ir="estado",rs="fecha_inicio",Jt="fecha_finalizacion",Vr="especialidad",cn="nombre_institucion",VD="legajo_busqueda",ut="nombre_pps",cr="estado_convocatoria",Di="estado_gestion",mu="cupos_disponibles",Xn="orientacion",$r="fecha_inicio",Br="fecha_finalizacion",HD="fecha_relanzamiento",dn="direccion",WD="req_certificado_trabajo",qD="req_cv",GD="notas_gestion",gu="horario_seleccionado",Ls="horas_acreditadas",yu="informe",KD="permite_certificado",QD="codigo_tarjeta_campus",JD="telefono",YD="plantilla_seguro_url",ZD="plazo_inscripcion_dias",XD="descripcion_larga",e2="actividades_lista",t2="requisito_obligatorio",r2="actividades_label",YI="fecha_inicio_inscripcion",n2="fecha_fin_inscripcion",ZI="fecha_publicacion",s2="mensaje_whatsapp",i2="horarios_fijos",Rt="estado_inscripcion",Hu="informe_subido",Os="horario_seleccionado",dr="estudiante_id",hr="lanzamiento_id",Eb="fecha_entrega_informe",wa="nombre_pps",Wu="fecha_inicio",qu="fecha_finalizacion",Gu="direccion",Ku="orientacion",Qu="horas_acreditadas",o2="cupos_disponibles",XI="legajo",eO="dni",tO="correo",a2="fecha_nacimiento",rO="telefono",nO="termino_cursar",Wy="cursando_electivas",sO="finales_adeuda",iO="otra_situacion_academica",l2="certificado_url",oO="trabaja",aO="certificado_trabajo",lO="cv_url",Ta="estado_seguimiento",ro="nombre_alumno",Ju="nombre_institucion",Yu="estudiante_id",u2="actualizacion",c2="notas",qy="legajo",Gy="email",d2="orientacion_sugerida",h2="localidad",f2="direccion_completa",p2="email_institucion",m2="telefono_institucion",g2="referente_institucion",y2="convenio_uflo",v2="tutor_disponible",_2="contacto_tutor",w2="tipo_practica",b2="descripcion_institucion",E2="legajo",S2="nombre",x2="password_hash",k2="salt",T2="role",C2="orientaciones",As="nombre",aa="telefono",la="direccion",ua="convenio_nuevo",ca="tutor",I2="codigo_tarjeta_campus",O2="orientaciones",Ky="logo_url",Qy="logo_invert_dark",Zu="estudiante_id",Xu="fecha_solicitud",ec="estado",uO="informe_final_url",cO="planilla_horas_url",dO="planilla_asistencia_url",hO="sugerencias_mejoras",A2="estudiante_id",N2="tipo_incumplimiento",R2="fecha_incidente",P2="notas",j2="puntaje_penalizacion",L2="convocatoria_afectada",D2="pps_email_monthly_count",F2="pps_email_current_month_key",fO=250,pO=70,mO=3,M2="Aviso Importante",U2="La informacin visualizada es una herramienta de seguimiento interno y no constituye un registro acadmico oficial, por lo que podra contener discrepancias. Para un registro ms preciso, se recomienda utilizar su Planilla de Seguimiento personal. Recuerde que tiene la posibilidad de editar la fecha de finalizacin de sus prcticas directamente en este panel. Las correcciones de datos no son obligatorias, pero si desea realizarlas, deber enviar las planillas correspondientes.";throw new Error("Supabase URL and Anon Key must be provided in src/constants.ts");const Se=LI(DI,FI),Sb=O.createContext(void 0),gO=({children:t})=>{const[e,r]=O.useState(null),[s,o]=O.useState(!0),a=lo(),u=O.useRef(0),d=O.useRef(null),h=O.useRef(null),p=O.useCallback(()=>{console.log(" Ejecutando limpieza profunda de sesin..."),localStorage.removeItem("sb-qxnxtnhtbpsgzprqtrjl-auth-token"),sessionStorage.clear(),a.clear(),r(null)},[a]),y=O.useCallback(async()=>{try{console.log(" Cerrando sesin..."),a.cancelQueries(),r(null);const{error:j}=await Se.auth.signOut();j&&console.warn("Supabase signOut warning:",j.message),p()}catch(j){console.error("Error during forced logout:",j),p()}},[a,p]);O.useEffect(()=>{let j=!0;d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{j&&s&&(console.warn(" Auth check timed out. Stopping spinner."),o(!1))},8e3);const R=async H=>{if(!(H!=null&&H.user)){j&&(r(null),o(!1));return}try{const{data:K,error:G}=await Se.from("estudiantes").select(`${Tr}, ${ar}, ${ur}, ${Vy}, ${Hy}`).eq(QI,H.user.id).maybeSingle();if(j)if(K&&!G){const te=K[Hy];h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{r({id:H.user.id,legajo:K[Tr]||"",nombre:K[ar]||"Usuario",orientaciones:K[ur]?[K[ur]]:[],mustChangePassword:!!K[Vy],role:te}),o(!1)},50)}else console.warn("Profile not found for authenticated user. Posible Admin o Error de Integridad."),H.user.email!=="admin@uflo.edu.ar"&&(r(null),o(!1))}catch(K){console.error("Profile fetch error:",K),j&&(r(null),o(!1))}};Se.auth.getSession().then(({data:H,error:K})=>{if(K){const G=K.message.toLowerCase();(G.includes("refresh token")||G.includes("not found")||G.includes("invalid"))&&(console.error(" Token corrupto detectado. Limpiando almacenamiento."),p()),j&&o(!1)}else R(H.session)});const{data:{subscription:U}}=Se.auth.onAuthStateChange(async(H,K)=>{if(console.log(`AUTH EVENT: ${H}`),d.current&&clearTimeout(d.current),H==="TOKEN_REFRESHED"){if(u.current+=1,u.current>3){console.error(" Bucle de refresco detectado. Forzando salida."),u.current=0,p(),j&&o(!1);return}}else H==="SIGNED_IN"||H==="INITIAL_SESSION"?(u.current=0,R(K)):H==="SIGNED_OUT"&&(u.current=0,j&&(r(null),o(!1),a.clear()))});return()=>{j=!1,d.current&&clearTimeout(d.current),h.current&&clearTimeout(h.current),U.unsubscribe()}},[a,p]);const v=O.useCallback(j=>{r(j),o(!1)},[]),_=O.useCallback(()=>{r(j=>j?{...j,mustChangePassword:!1}:null)},[]),w=(e==null?void 0:e.role)==="SuperUser"||(e==null?void 0:e.legajo)==="admin",x=(e==null?void 0:e.role)==="Jefe",S=(e==null?void 0:e.role)==="Directivo",E=(e==null?void 0:e.role)==="AdminTester",N=(e==null?void 0:e.role)==="Reportero";return g.jsx(Sb.Provider,{value:{authenticatedUser:e,isSuperUserMode:w,isJefeMode:x,isDirectivoMode:S,isAdminTesterMode:E,isReporteroMode:N,isAuthLoading:s,login:v,logout:y,completePasswordChange:_},children:t})},ho=()=>{const t=O.useContext(Sb);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},xb=O.createContext(void 0),yO=({children:t})=>{const[e,r]=O.useState(null),[s,o]=O.useState(!1),[a,u]=O.useState(null),[d,h]=O.useState(null),[p,y]=O.useState(null),[v,_]=O.useState(!1),[w,x]=O.useState(!1),[S,E]=O.useState(null),[N,j]=O.useState(""),[R,U]=O.useState(!1),[H,K]=O.useState(null),G=O.useCallback((z,$)=>{r({title:z,message:$})},[]),te=O.useCallback(()=>{r(null)},[]),Z=O.useCallback((z,$,F)=>{u(z),h($),y(()=>F),o(!0)},[]),X=O.useCallback(()=>{o(!1),u(null),h(null),y(null)},[]),se=O.useCallback((z,$)=>{E(z),j($),x(!0)},[]),ve=O.useCallback(()=>{x(!1),E(null),j("")},[]),de=O.useCallback(z=>{K(()=>z),U(!0)},[]),W=O.useCallback(()=>{U(!1),K(null)},[]),P={modalInfo:e,showModal:G,closeModal:te,isEnrollmentFormOpen:s,selectedLanzamientoForEnrollment:a,studentProfileForEnrollment:d,openEnrollmentForm:Z,closeEnrollmentForm:X,onSubmitEnrollment:p,isSubmittingEnrollment:v,setIsSubmittingEnrollment:_,isSeleccionadosModalOpen:w,seleccionadosData:S,convocatoriaForModal:N,openSeleccionadosModal:se,closeSeleccionadosModal:ve,isSolicitudPPSModalOpen:R,openSolicitudPPSModal:de,closeSolicitudPPSModal:W,onSubmitSolicitudPPS:H};return g.jsx(xb.Provider,{value:P,children:t})},Ba=()=>{const t=O.useContext(xb);if(t===void 0)throw new Error("useModal must be used within a ModalProvider");return t},at=rp.forwardRef(({id:t,type:e,value:r,onChange:s,placeholder:o,icon:a,disabled:u=!1,className:d="",wrapperClassName:h="",error:p,...y},v)=>g.jsxs("div",{className:`relative group ${h}`,children:[a&&g.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-4 transition-colors duration-300 text-slate-400 group-focus-within:text-blue-600 dark:text-slate-500 dark:group-focus-within:text-blue-400",children:typeof a=="string"?g.jsx("span",{className:"material-icons !text-lg",children:a}):a}),g.jsx("input",{id:t,name:t,type:e,value:r,onChange:s,disabled:u,ref:v,className:`
            w-full rounded-xl border-2 
            bg-white dark:bg-slate-950 
            py-3.5 pr-4 text-sm font-medium 
            text-slate-900 dark:text-slate-100 
            shadow-sm transition-all duration-200 ease-out
            placeholder:text-slate-400 dark:placeholder:text-slate-600
            
            ${p?"border-red-300 dark:border-red-800/50 focus:border-red-500 focus:ring-red-100 dark:focus:ring-red-900/30":"border-slate-200 dark:border-slate-800 focus:border-blue-600 dark:focus:border-blue-400 focus:ring-4 focus:ring-blue-50 dark:focus:ring-blue-900/20"}

            focus:outline-none 
            disabled:bg-slate-50 dark:disabled:bg-slate-900/50 disabled:text-slate-400 dark:disabled:text-slate-600 disabled:border-slate-100 dark:disabled:border-slate-800 disabled:cursor-not-allowed
            ${a?"pl-11":"pl-4"} 
            ${d}
        `,placeholder:o,...y}),p&&g.jsx("span",{className:"text-xs text-red-500 mt-1 ml-1",children:p})]}));at.displayName="Input";const Jy=t=>t?String(t).replace(/\D/g,""):"",vO=({login:t,showModal:e})=>{const[r,s]=O.useState("login"),[o,a]=O.useState("verify"),[u,d]=O.useState(1),[h,p]=O.useState(1),[y,v]=O.useState(""),[_,w]=O.useState(""),[x,S]=O.useState(""),[E,N]=O.useState(!0),[j,R]=O.useState(!1),[U,H]=O.useState(null),[K,G]=O.useState(null),[te,Z]=O.useState(null),[X,se]=O.useState({dni:"",correo:"",telefono:""}),ve=()=>{H(null),G(null),w(""),S(""),a("verify"),d(1),p(1),se({dni:"",correo:"",telefono:""}),Z(null)};return{mode:r,setMode:z=>{s(z),Se.auth.signOut().catch(()=>{}),(z==="migration"||z==="recover")&&r==="login"?(d(1),p(1),a("verify"),H(null),G(null),Z(null)):ve()},resetStep:o,migrationStep:u,setMigrationStep:d,registerStep:h,setRegisterStep:p,legajo:y,setLegajo:v,password:_,setPassword:w,confirmPassword:x,setConfirmPassword:S,rememberMe:E,setRememberMe:N,isLoading:j,error:U,fieldError:K,foundStudent:te,verificationData:X,handleVerificationDataChange:z=>{const{name:$,value:F}=z.target;se(q=>({...q,[$]:F})),G(null)},handleFormSubmit:async z=>{var q;z.preventDefault();const $=y.trim(),F=_.trim();if($==="testing"&&F==="testing"){t({legajo:"99999",nombre:"Usuario de Prueba",role:"AdminTester"});return}if(R(!0),H(null),G(null),r==="login")try{if(await Se.auth.signOut(),!$||!F)throw new Error("Por favor, completa todos los campos.");const{data:V,error:I}=await Se.rpc("get_student_details_by_legajo",{legajo_input:$});if(I)throw new Error("Error de conexin al validar legajo. Intenta nuevamente.");const M=V&&V.length>0?V[0]:null;if(!M)throw new Error("Legajo no encontrado. Verific el nmero o cre una cuenta nueva.");const re=M[lr];if(!re)throw new Error('Tu usuario parece incompleto. Por favor, ve a "Crear Cuenta" para actualizar tus datos.');const{error:oe}=await Se.auth.signInWithPassword({email:re,password:F});if(oe){console.warn("Login failed:",oe.message),oe.message.includes("Invalid login credentials")?(H("Contrasea incorrecta. Verific tus datos o us el botn de recuperar contrasea."),G("password")):H("Ocurri un error al iniciar sesin. Intenta nuevamente."),R(!1);return}}catch(V){console.error("Login error:",V),H(V.message||"Error al iniciar sesin.")}finally{R(!1)}else if(r==="migration")try{if(u===1){if(!$||!X.dni||!X.correo)throw new Error("Por favor completa los campos para validar tu identidad.");const{data:V,error:I}=await Se.rpc("get_student_details_by_legajo",{legajo_input:$});if(I)throw new Error("Error de conexin. Intenta ms tarde.");const M=V&&V.length>0?V[0]:null;if(!M)throw new Error("No encontramos un estudiante con ese legajo.");const re=String(M[Cr]||"").trim(),oe=String(M[lr]||"").trim().toLowerCase(),me=X.dni.replace(/\D/g,"").trim(),Ee=X.correo.trim().toLowerCase();if(re.replace(/\D/g,"")!==me||oe!==Ee)throw new Error("Los datos ingresados no coinciden con nuestros registros.");Z(M),d(2),R(!1);return}if(u===2){if(_.length<6)throw new Error("La contrasea debe tener al menos 6 caracteres.");if(_!==x)throw new Error("Las contraseas no coinciden.");if(!te)throw new Error("Sesin de validacin expirada. Por favor comienza de nuevo.");const V=String(te[lr]).trim().toLowerCase(),{data:I,error:M}=await Se.auth.signUp({email:V,password:_,options:{data:{legajo:$}}});if(M)if(M.message.includes("already registered")||M.status===422||M.status===400){console.log("Usuario ya existe en Auth, intentando forzar actualizacin de clave...");const{error:me}=await Se.rpc("admin_reset_password",{legajo_input:$,new_password:_});if(me)throw console.error("RPC Reset Error:",me),me.message.includes("No existe usuario")||me.message.includes("not found")?new Error("Error de integridad: El email de tu legajo no coincide con el usuario registrado. Contacta soporte."):new Error("No se pudo actualizar tu usuario existente. Intenta 'Recuperar Acceso'.")}else throw new Error(`Error al crear usuario: ${M.message}`);const{data:re,error:oe}=await Se.auth.signInWithPassword({email:V,password:_});if(oe)s("login"),H("Cuenta configurada, pero el inicio de sesin automtico fall. Por favor ingresa manualmente.");else if(re.user){const{error:me}=await Se.rpc("register_new_student",{legajo_input:$,userid_input:re.user.id,dni_input:parseInt(te[Cr]||"0",10),correo_input:V,telefono_input:te[Vu]||""});me&&console.warn("Link RPC warning (non-critical):",me)}}}catch(V){console.error("Migration error:",V),H(V.message||"Error del servidor al procesar la solicitud.")}finally{R(!1)}else if(r==="register")try{if(h===1){if(!$)throw new Error("Por favor ingresa tu legajo.");const{data:V,error:I}=await Se.rpc("get_student_for_signup",{legajo_input:$});if(I)throw new Error(I.message);const M=V&&V.length>0?V[0]:null;if(!M)throw new Error("El legajo no figura en la lista o ya tiene usuario. Prueba 'Recuperar Acceso'.");if(M.user_id)throw new Error("Este legajo ya tiene cuenta activa. Usa 'Recuperar Acceso' si olvidaste la clave.");Z(M),p(2),R(!1);return}if(h===2){const{dni:V,correo:I,telefono:M}=X;if(!V||!I||!M||!_)throw new Error("Todos los campos son obligatorios.");if(_!==x)throw new Error("Las contraseas no coinciden.");const re=I.trim().toLowerCase(),oe=V.replace(/\D/g,""),me=parseInt(oe,10);if(isNaN(me)||me===0)throw new Error("El DNI debe ser un nmero vlido.");const{data:Ee,error:Ce}=await Se.auth.signUp({email:re,password:_,options:{data:{legajo:$}}});let Te=(q=Ee==null?void 0:Ee.user)==null?void 0:q.id;if(Ce||!Te){console.warn("SignUp failed, attempting fix via admin_reset_password");const{error:Re}=await Se.rpc("admin_reset_password",{legajo_input:$,new_password:_});if(Re)throw console.error("Fix failed:",Re),new Error("Este correo ya est registrado y no se pudo vincular a tu legajo. Contacta soporte.");const{data:_t,error:ri}=await Se.auth.signInWithPassword({email:re,password:_});if(ri||!_t.user)throw new Error("Cuenta reparada pero fall el inicio de sesin. Intenta ingresar normalmente.");Te=_t.user.id}Te&&await Se.rpc("register_new_student",{legajo_input:$,userid_input:Te,dni_input:me,correo_input:re,telefono_input:M})}}catch(V){H(V.message)}finally{R(!1)}else if(r==="recover")try{if(o==="verify"){if(!$||!X.dni||!X.correo||!X.telefono)throw new Error("Por favor completa todos los campos para validar tu identidad.");const{data:V,error:I}=await Se.rpc("get_student_details_by_legajo",{legajo_input:$});if(I)throw new Error("Error de conexin. Intenta ms tarde.");const M=V&&V.length>0?V[0]:null;if(!M)throw new Error("No encontramos un estudiante con ese legajo.");const re=String(M[Cr]||"").replace(/\D/g,""),oe=String(M[lr]||"").trim().toLowerCase(),me=Jy(M[Vu]),Ee=X.dni.replace(/\D/g,""),Ce=X.correo.trim().toLowerCase(),Te=Jy(X.telefono);let Re=!1;if(re!==Ee&&(Re=!0),oe!==Ce&&(Re=!0),(!me||!Te.includes(me.slice(-6)))&&(Re=!0),Re)throw new Error("Los datos ingresados no coinciden con nuestros registros.");a("reset_password"),R(!1);return}if(o==="reset_password"){if(_.length<6)throw new Error("La contrasea debe tener al menos 6 caracteres.");if(_!==x)throw new Error("Las contraseas no coinciden.");const{error:V}=await Se.rpc("admin_reset_password",{legajo_input:$,new_password:_});if(V)throw console.error("RPC Reset Error",V),new Error("Error del servidor. Si el problema persiste, pide al administrador que actualice la base de datos.");a("success"),R(!1)}}catch(V){H(V.message),R(!1)}else R(!1)},handleForgotLegajoSubmit:z=>z.preventDefault()}};function _p(t){if(!t)return"N/A";const e=new Date(t);if(isNaN(e.getTime()))return"Fecha invlida";const r=String(e.getUTCDate()).padStart(2,"0"),s=String(e.getUTCMonth()+1).padStart(2,"0"),o=e.getUTCFullYear();return`${r}/${s}/${o}`}function nt(t){if(t==null)return"";if(typeof t=="boolean")return t?"true":"false";const e=Me(t);return String(e).toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function _O(t){const e=nt(t);let r={tag:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-400 border border-slate-200 dark:border-slate-700",gradient:"from-slate-400 to-slate-600",headerBg:"bg-slate-50 dark:bg-slate-800",headerText:"text-slate-800 dark:text-slate-100",dot:"bg-slate-400",leftBorder:"border-l-slate-400 dark:border-l-slate-600"};return e.includes("clinica")?r={tag:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400 border border-emerald-200 dark:border-emerald-800",gradient:"from-emerald-400 to-teal-600",headerBg:"bg-emerald-50 dark:bg-emerald-900/20",headerText:"text-emerald-800 dark:text-emerald-300",dot:"bg-emerald-500",leftBorder:"border-l-emerald-500 dark:border-l-emerald-400"}:e.includes("educacional")||e.includes("educacion")?r={tag:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 border border-blue-200 dark:border-blue-800",gradient:"from-blue-400 to-indigo-600",headerBg:"bg-blue-50 dark:bg-blue-900/20",headerText:"text-blue-800 dark:text-blue-300",dot:"bg-blue-500",leftBorder:"border-l-blue-500 dark:border-l-blue-400"}:e.includes("laboral")||e.includes("trabajo")?r={tag:"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400 border border-rose-200 dark:border-rose-800",gradient:"from-rose-500 to-red-700",headerBg:"bg-rose-50 dark:bg-rose-900/20",headerText:"text-rose-800 dark:text-rose-300",dot:"bg-rose-500",leftBorder:"border-l-rose-500 dark:border-l-rose-400"}:(e.includes("comunitaria")||e.includes("comunidad"))&&(r={tag:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400 border border-purple-200 dark:border-purple-800",gradient:"from-purple-400 to-fuchsia-600",headerBg:"bg-purple-50 dark:bg-purple-900/20",headerText:"text-purple-800 dark:text-blue-300",dot:"bg-purple-500",leftBorder:"border-l-purple-500 dark:border-l-purple-400"}),r}function wO(t){const e=nt(t);return e==="en curso"||e==="pendiente"||e==="en proceso"?{icon:"sync",labelClass:"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900/30 dark:text-amber-400 dark:border-amber-800",accentBg:"bg-amber-500",iconContainerClass:"border-amber-200 bg-amber-50 dark:border-amber-800 dark:bg-amber-900/20"}:e==="finalizada"||e==="cargado"||e==="realizada"||e==="convenio realizado"?{icon:"verified",labelClass:"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800",accentBg:"bg-emerald-500",iconContainerClass:"border-emerald-200 bg-emerald-50 dark:border-emerald-800 dark:bg-emerald-900/20"}:e==="realizando convenio"||e==="en conversaciones"?{icon:"handshake",labelClass:"bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-800",accentBg:"bg-indigo-500",iconContainerClass:"border-indigo-200 bg-indigo-50 dark:border-indigo-800 dark:bg-indigo-900/20"}:e==="cancelada"||e==="rechazada"||e==="no se pudo concretar"||e==="no seleccionado"?{icon:"cancel",labelClass:"bg-rose-100 text-rose-700 border-rose-200 dark:bg-rose-900/30 dark:text-rose-400 dark:border-rose-800",accentBg:"bg-rose-500",iconContainerClass:"border-rose-200 bg-rose-50 dark:border-rose-800 dark:bg-rose-900/20"}:{icon:"help_outline",labelClass:"bg-slate-100 text-slate-700 border-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:border-slate-700",accentBg:"bg-slate-500",iconContainerClass:"border-slate-200 bg-slate-50 dark:border-slate-700 dark:bg-slate-800"}}function tc(t){return t&&String(t).trim()||null}function rc(t){if(!t)return null;const e=new Date(t);if(isNaN(e.getTime())){const r=t.split("/");if(r.length===3){const s=new Date(Date.UTC(parseInt(r[2]),parseInt(r[1])-1,parseInt(r[0])));return isNaN(s.getTime())?null:s}return null}return new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))}function Yy(t){return t?t.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()):""}function $2(t){const e=t.trim().split(/\s+/);if(e.length<=1)return{nombre:t,apellido:""};const r=e.pop()||"";return{nombre:e.join(" "),apellido:r}}function B2(t){if(!t)return"N/A";const e=t.replace(/[^\d]/g,"");return e||"N/A"}function Ds(t){return Me(t)}function Me(t){if(t==null)return"";if(Array.isArray(t))return t.length>0?Me(t[0]):"";const e=String(t).trim();if(e.startsWith('["')&&e.endsWith('"]')||e.startsWith("['")&&e.endsWith("']"))try{const r=JSON.parse(e.replace(/'/g,'"'));if(Array.isArray(r)&&r.length>0)return Me(r[0])}catch{const s=e.match(/^\[["'](.+)["']\]$/);if(s&&s[1])return s[1]}if(e.startsWith('"')&&e.endsWith('"')&&e.length>1)return e.slice(1,-1);if(e.startsWith("{")&&e.endsWith("}")){const r=e.slice(1,-1);return r.startsWith('"')&&r.endsWith('"')||r.startsWith("'")&&r.endsWith("'")?r.slice(1,-1):r}return e}const bO="inline-flex items-center justify-center font-bold rounded-lg transition-all duration-300 ease-in-out shadow-md focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:shadow-none disabled:translate-y-0 active:scale-95",EO={primary:"relative overflow-hidden bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:shadow-lg hover:shadow-blue-500/30 dark:hover:shadow-blue-400/20 hover:-translate-y-1 focus-visible:ring-blue-500 dark:focus-visible:ring-offset-slate-900 disabled:from-slate-400 disabled:to-slate-400 has-shine-effect hover:shine-effect",secondary:"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 hover:-translate-y-px active:bg-slate-100 focus-visible:ring-blue-500 dark:bg-slate-700 dark:text-slate-200 dark:border-slate-600 dark:hover:bg-slate-600 dark:active:bg-slate-500 dark:focus-visible:ring-offset-slate-900 disabled:bg-slate-100 disabled:text-slate-400 dark:disabled:bg-slate-800 dark:disabled:text-slate-500",danger:"bg-rose-600 text-white hover:bg-rose-700 hover:-translate-y-1 focus-visible:ring-rose-500 dark:focus-visible:ring-offset-slate-900 disabled:bg-rose-300"},SO={sm:"py-2 px-4 text-sm gap-2",md:"py-2.5 px-6 text-base gap-2.5",lg:"py-3 px-8 text-lg gap-3"},xO={sm:"!text-base",md:"!text-lg",lg:"!text-xl"},da=({children:t,variant:e="primary",size:r="md",icon:s,iconPosition:o="left",isLoading:a=!1,disabled:u,className:d,...h})=>{const p=[bO,EO[e],SO[r],d].filter(Boolean).join(" "),y=s&&g.jsx("span",{className:`material-icons ${xO[r]}`,children:s});return g.jsx("button",{className:p,disabled:u||a,...h,children:a?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-5 h-5 border-2 border-current/50 border-t-current rounded-full animate-spin"}),g.jsx("span",{children:"Cargando..."})]}):g.jsxs(g.Fragment,{children:[o==="left"&&y,t,o==="right"&&y]})})},kO=()=>{const{login:t}=ho(),{showModal:e}=Ba(),{resolvedTheme:r}=ip(),{mode:s,setMode:o,migrationStep:a,registerStep:u,resetStep:d,legajo:h,setLegajo:p,password:y,setPassword:v,confirmPassword:_,setConfirmPassword:w,rememberMe:x,setRememberMe:S,isLoading:E,error:N,fieldError:j,verificationData:R,handleVerificationDataChange:U,handleFormSubmit:H,foundStudent:K}=vO({login:t,showModal:e}),[G,te]=O.useState(!1),Z=()=>{if(!K)return"";const P=K[GI],z=K[KI];return Yy(P&&z?`${P} ${z}`:K[ar]||"")},X=()=>g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"text-left mb-10",children:[g.jsx("h2",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tighter",children:"Hola de nuevo."}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-3 text-lg font-medium",children:"Ingresa a tu panel acadmico."})]}),g.jsxs("form",{onSubmit:H,className:"space-y-6",children:[g.jsxs("div",{className:"space-y-6",children:[g.jsx(at,{id:"legajo",type:"text",value:h,onChange:P=>p(P.target.value),placeholder:"Nmero de Legajo",icon:"badge",disabled:E,autoComplete:"username",autoFocus:!0,className:"bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:bg-white dark:focus:bg-slate-900 h-14 font-semibold"}),g.jsxs("div",{className:"relative",children:[g.jsx(at,{id:"password",type:G?"text":"password",value:y,onChange:P=>v(P.target.value),placeholder:"Contrasea",icon:"lock",disabled:E,autoComplete:"current-password",className:`bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:bg-white dark:focus:bg-slate-900 h-14 font-semibold ${j==="password"?"border-red-500 focus:border-red-500 ring-1 ring-red-500/20":""}`}),g.jsx("button",{type:"button",onClick:()=>te(!G),className:"absolute inset-y-0 right-0 flex items-center px-4 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors z-10","aria-label":G?"Ocultar":"Mostrar",children:g.jsx("span",{className:"material-icons !text-xl",children:G?"visibility_off":"visibility"})})]}),g.jsxs("div",{className:"flex justify-between items-center px-1",children:[g.jsxs("label",{htmlFor:"remember-me",className:"flex items-center gap-2.5 cursor-pointer group select-none",children:[g.jsxs("div",{className:"relative flex items-center",children:[g.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:x,onChange:P=>S(P.target.checked),disabled:E,className:"peer h-5 w-5 cursor-pointer appearance-none rounded-md border-2 border-slate-300 dark:border-slate-600 bg-transparent transition-all checked:border-slate-900 checked:bg-slate-900 dark:checked:border-white dark:checked:bg-white"}),g.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-white dark:text-slate-900 opacity-0 peer-checked:opacity-100 pointer-events-none transition-opacity",children:g.jsx("span",{className:"material-icons !text-[14px] font-bold",children:"check"})})]}),g.jsx("span",{className:"text-sm font-semibold text-slate-600 dark:text-slate-400 group-hover:text-slate-900 dark:group-hover:text-white transition-colors",children:"Recordarme"})]}),g.jsx("button",{type:"button",onClick:()=>o("recover"),className:"text-sm font-bold text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 transition-colors",children:"Olvidaste tu contrasea?"})]})]}),g.jsx("div",{className:"pt-4",children:g.jsxs("button",{type:"submit",disabled:E,className:"group w-full relative overflow-hidden bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-bold text-lg py-4 px-6 rounded-2xl transition-all duration-300 hover:shadow-xl hover:shadow-slate-900/20 dark:hover:shadow-white/10 hover:-translate-y-1 active:scale-95 disabled:bg-slate-400 dark:disabled:bg-slate-700 disabled:cursor-not-allowed disabled:shadow-none disabled:translate-y-0",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700 ease-in-out"}),g.jsx("div",{className:"relative flex items-center justify-center gap-3",children:E?g.jsx("div",{className:"w-6 h-6 border-2 border-current border-t-transparent rounded-full animate-spin"}):g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"Iniciar Sesin"}),g.jsx("span",{className:"material-icons !text-2xl transition-transform group-hover:translate-x-1",children:"arrow_forward"})]})})]})}),g.jsx("div",{className:"mt-8 flex items-center justify-center pt-8 border-t border-slate-100 dark:border-slate-800",children:g.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:["Primera vez aqu?"," ",g.jsx("button",{type:"button",onClick:()=>o("register"),className:"font-bold text-slate-900 dark:text-white hover:underline transition-all",children:"Crear cuenta de estudiante"})]})})]})]}),se=()=>g.jsxs("form",{onSubmit:H,className:"space-y-6 animate-fade-in-up",children:[u===1?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"text-left mb-8",children:[g.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight",children:"Crear Cuenta"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 text-base leading-relaxed",children:"Ingresa tu legajo para verificar si ests habilitado."})]}),g.jsx(at,{id:"legajo",type:"text",value:h,onChange:P=>p(P.target.value),placeholder:"Nmero de Legajo",icon:"badge",disabled:E,autoFocus:!0,className:"bg-slate-50 dark:bg-slate-800/50 h-14"}),g.jsx("div",{className:"pt-2",children:g.jsx(da,{type:"submit",isLoading:E,className:"w-full bg-slate-900 text-white hover:bg-slate-800 h-14 text-lg rounded-2xl",size:"lg",children:"Verificar"})})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"text-left mb-8",children:[g.jsxs("h2",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight",children:["Hola, ",Z(),"!"]}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 text-base leading-relaxed",children:"Confirma tus datos y crea una contrasea segura."})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx(at,{name:"dni",type:"text",placeholder:"DNI (sin puntos)",icon:"fingerprint",value:R.dni,onChange:U,disabled:E,inputMode:"numeric",autoFocus:!0,className:"bg-slate-50 dark:bg-slate-800/50 h-14"}),g.jsx(at,{name:"correo",type:"email",placeholder:"Correo electrnico",icon:"email",value:R.correo,onChange:U,disabled:E,className:"bg-slate-50 dark:bg-slate-800/50 h-14"}),g.jsx(at,{name:"telefono",type:"tel",placeholder:"Nmero de Celular",icon:"smartphone",value:R.telefono,onChange:U,disabled:E,className:"bg-slate-50 dark:bg-slate-800/50 h-14"}),g.jsx(at,{id:"password",type:"password",value:y,onChange:P=>v(P.target.value),placeholder:"Nueva Contrasea (mn. 6 caracteres)",icon:"lock",disabled:E,className:"bg-slate-50 dark:bg-slate-800/50 h-14"}),g.jsx(at,{id:"confirmPassword",type:"password",value:_,onChange:P=>w(P.target.value),placeholder:"Confirmar Contrasea",icon:"lock",disabled:E,className:"bg-slate-50 dark:bg-slate-800/50 h-14"})]}),g.jsx("div",{className:"pt-4",children:g.jsx(da,{type:"submit",isLoading:E,className:"w-full bg-slate-900 text-white hover:bg-slate-800 h-14 text-lg rounded-2xl",size:"lg",children:"Crear Cuenta"})})]}),g.jsx("div",{className:"text-center pt-2",children:g.jsx("button",{type:"button",onClick:()=>o("login"),className:"text-sm font-bold text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white transition-colors p-2",children:"Volver a Iniciar Sesin"})})]}),ve=()=>g.jsxs("form",{onSubmit:H,className:"space-y-6 animate-fade-in-up",children:[a===1?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"text-left mb-8",children:[g.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight",children:"Activacin"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 text-base leading-relaxed",children:"Valida tu identidad para configurar el nuevo acceso."})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx(at,{name:"dni",type:"text",placeholder:"DNI (sin puntos)",icon:"fingerprint",value:R.dni,onChange:U,disabled:E,autoFocus:!0,className:"bg-slate-50 dark:bg-slate-800/50 h-14"}),g.jsx(at,{name:"correo",type:"email",placeholder:"Correo registrado",icon:"email",value:R.correo,onChange:U,disabled:E,className:"bg-slate-50 dark:bg-slate-800/50 h-14"})]}),g.jsx("div",{className:"pt-4",children:g.jsx(da,{type:"submit",isLoading:E,className:"w-full bg-slate-900 text-white hover:bg-slate-800 h-14 text-lg rounded-2xl",size:"lg",children:"Validar"})})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"text-left mb-8",children:[g.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight",children:"Identidad Verificada"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 text-base leading-relaxed",children:"Crea tu nueva contrasea."})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx(at,{id:"password",type:"password",value:y,onChange:P=>v(P.target.value),placeholder:"Nueva Contrasea",icon:"lock",disabled:E,autoFocus:!0,className:"bg-slate-50 dark:bg-slate-800/50 h-14"}),g.jsx(at,{id:"confirmPassword",type:"password",value:_,onChange:P=>w(P.target.value),placeholder:"Confirmar Contrasea",icon:"lock",disabled:E,className:"bg-slate-50 dark:bg-slate-800/50 h-14"})]}),g.jsx("div",{className:"pt-4",children:g.jsx(da,{type:"submit",isLoading:E,className:"w-full bg-slate-900 text-white hover:bg-slate-800 h-14 text-lg rounded-2xl",size:"lg",children:"Establecer"})})]}),g.jsx("div",{className:"text-center pt-2",children:g.jsx("button",{type:"button",onClick:()=>o("login"),className:"text-sm font-bold text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white transition-colors p-2",children:"Cancelar"})})]}),de=()=>g.jsxs("form",{onSubmit:H,className:"space-y-8 animate-fade-in-up",children:[g.jsxs("div",{className:"text-left",children:[g.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 text-xs font-bold mb-6 border border-slate-200 dark:border-slate-700",children:[g.jsx("span",{className:"material-icons !text-sm",children:"lock_reset"}),"Recuperacin"]}),g.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight",children:"Recuperar Acceso"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 text-base leading-relaxed",children:d==="verify"?"Completa los datos para validar tu identidad.":d==="reset_password"?"Identidad confirmada. Ingresa tu nueva clave.":"Proceso completado con xito!"})]}),d==="verify"&&g.jsxs("div",{className:"space-y-4 animate-fade-in",children:[g.jsx(at,{id:"rec-legajo",type:"text",value:h,onChange:P=>p(P.target.value),placeholder:"Nmero de Legajo",icon:"badge",disabled:E,className:"bg-slate-50 dark:bg-slate-800/50 h-14"}),g.jsx(at,{name:"dni",type:"text",placeholder:"DNI",icon:"fingerprint",value:R.dni,onChange:U,disabled:E,inputMode:"numeric",className:"bg-slate-50 dark:bg-slate-800/50 h-14"}),g.jsx(at,{name:"correo",type:"email",placeholder:"Correo registrado",icon:"email",value:R.correo,onChange:U,disabled:E,className:"bg-slate-50 dark:bg-slate-800/50 h-14"}),g.jsx(at,{name:"telefono",type:"tel",placeholder:"Celular registrado",icon:"smartphone",value:R.telefono,onChange:U,disabled:E,className:"bg-slate-50 dark:bg-slate-800/50 h-14"})]}),d==="reset_password"&&g.jsxs("div",{className:"space-y-5 animate-fade-in",children:[g.jsxs("div",{className:"relative",children:[g.jsx(at,{id:"new-password",type:G?"text":"password",value:y,onChange:P=>v(P.target.value),placeholder:"Nueva Contrasea",icon:"lock",disabled:E,autoFocus:!0,className:"bg-slate-50 dark:bg-slate-800/50 h-14"}),g.jsx("button",{type:"button",onClick:()=>te(!G),className:"absolute inset-y-0 right-0 flex items-center px-4 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors z-10",children:g.jsx("span",{className:"material-icons !text-xl",children:G?"visibility_off":"visibility"})})]}),g.jsx(at,{id:"confirm-password",type:G?"text":"password",value:_,onChange:P=>w(P.target.value),placeholder:"Repetir Contrasea",icon:"lock_reset",disabled:E,className:"bg-slate-50 dark:bg-slate-800/50 h-14"})]}),d==="success"&&g.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 p-8 rounded-2xl text-center animate-fade-in",children:[g.jsx("div",{className:"mx-auto bg-emerald-100 dark:bg-emerald-800 text-emerald-600 dark:text-emerald-300 w-16 h-16 rounded-full flex items-center justify-center mb-6 shadow-sm",children:g.jsx("span",{className:"material-icons !text-4xl",children:"check"})}),g.jsx("h3",{className:"font-black text-xl text-slate-900 dark:text-white mb-2",children:"Listo!"}),g.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-8 font-medium text-sm",children:"Contrasea actualizada."}),g.jsx("button",{type:"button",onClick:()=>o("login"),className:"w-full bg-slate-900 hover:bg-slate-800 text-white font-bold py-3.5 rounded-xl shadow-lg transition-all",children:"Iniciar Sesin"})]}),d!=="success"&&g.jsxs("div",{className:"pt-4 space-y-4",children:[g.jsx(da,{type:"submit",isLoading:E,className:"w-full bg-slate-900 text-white hover:bg-slate-800 h-14 text-lg rounded-2xl",size:"lg",children:d==="verify"?"Validar Identidad":"Establecer Contrasea"}),g.jsx("button",{type:"button",onClick:()=>o("login"),className:"w-full text-center text-sm font-bold text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white transition-colors p-2",children:"Cancelar"})]})]}),W=()=>{switch(s){case"login":return X();case"register":return se();case"migration":return ve();case"recover":return de();default:return X()}};return g.jsxs("div",{className:"fixed inset-0 w-full h-[100dvh] bg-slate-50 dark:bg-slate-950 flex flex-col overflow-hidden font-sans selection:bg-blue-500/30",children:[g.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[g.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[60vw] h-[60vw] bg-indigo-400/20 dark:bg-indigo-900/10 rounded-full mix-blend-multiply filter blur-[120px] animate-blob"}),g.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[60vw] h-[60vw] bg-blue-400/20 dark:bg-blue-900/10 rounded-full mix-blend-multiply filter blur-[120px] animate-blob animation-delay-2000"}),g.jsx("div",{className:"absolute bottom-[-20%] left-[20%] w-[60vw] h-[60vw] bg-purple-400/20 dark:bg-purple-900/10 rounded-full mix-blend-multiply filter blur-[120px] animate-blob animation-delay-4000"}),g.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 brightness-100 contrast-150 mix-blend-overlay"})]}),g.jsxs("header",{className:"flex-none h-20 px-6 sm:px-12 flex items-center justify-between z-30 relative w-full",children:[g.jsx("div",{className:"flex items-center gap-6",children:g.jsx("div",{className:"drop-shadow-sm",children:g.jsx(H_,{className:"h-10 sm:h-12 w-auto",variant:r})})}),g.jsxs("div",{className:"flex items-center gap-4 sm:gap-6",children:[g.jsx("div",{className:"hidden sm:block opacity-80 hover:opacity-100 transition-opacity",children:g.jsx(tf,{className:"h-8 sm:h-10 w-auto grayscale contrast-125",variant:r})}),g.jsx("div",{className:"pl-2 border-l border-slate-200 dark:border-slate-800",children:g.jsx(q_,{})})]})]}),g.jsx("main",{className:"flex-1 w-full relative overflow-y-auto overflow-x-hidden custom-scrollbar z-20",children:g.jsx("div",{className:"min-h-full flex flex-col items-center justify-center p-4 sm:p-6 lg:p-8 py-8 sm:py-12",children:g.jsxs("div",{className:"w-full max-w-[1100px] min-h-[600px] bg-white/80 dark:bg-[#0f1523]/80 rounded-[2.5rem] shadow-2xl shadow-slate-200/50 dark:shadow-black/80 overflow-hidden border border-white/60 dark:border-slate-700/50 relative backdrop-blur-2xl flex flex-col xl:flex-row ring-1 ring-white/40 dark:ring-white/5",children:[g.jsxs("div",{className:"hidden xl:flex w-5/12 relative flex-col justify-between p-16 overflow-hidden bg-slate-50/50 dark:bg-[#0B1120]/50 border-r border-slate-100 dark:border-slate-800",children:[g.jsx("div",{className:"absolute top-0 right-0 w-[300px] h-[300px] bg-gradient-to-br from-blue-400/10 to-indigo-400/10 rounded-full blur-3xl -mr-20 -mt-20"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-[300px] h-[300px] bg-gradient-to-tr from-emerald-400/10 to-teal-400/10 rounded-full blur-3xl -ml-20 -mb-20"}),g.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-center gap-12",children:[g.jsxs("div",{className:"space-y-10",children:[g.jsxs("div",{className:"space-y-6",children:[g.jsxs("h1",{className:"text-5xl font-black leading-[1.05] tracking-tighter text-slate-900 dark:text-white",children:["Gestin acadmica ",g.jsx("br",{}),g.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400",children:"inteligente."})]}),g.jsx("p",{className:"text-lg leading-relaxed font-medium text-slate-600 dark:text-slate-400 max-w-sm",children:"Centraliza tus prcticas, inscripciones y acreditaciones en una plataforma unificada y simple."})]}),g.jsx("div",{className:"space-y-5",children:[{icon:"verified_user",text:"Gestin 100% Digital",desc:"Olvdate del papel."},{icon:"insights",text:"Seguimiento Real",desc:"Tu progreso al instante."},{icon:"school",text:"Acreditacin Directa",desc:"Vinculacin con SAC."}].map((P,z)=>g.jsxs("div",{className:"flex items-start gap-4 group",children:[g.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 flex items-center justify-center shadow-sm text-blue-600 dark:text-blue-400 shrink-0 group-hover:scale-110 transition-transform duration-300",children:g.jsx("span",{className:"material-icons !text-xl",children:P.icon})}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-base font-bold text-slate-800 dark:text-slate-200",children:P.text}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:P.desc})]})]},z))})]}),g.jsxs("div",{className:"flex items-center gap-4 pt-8 border-t border-slate-200/60 dark:border-slate-800",children:[g.jsx("div",{className:"opacity-60 grayscale hover:grayscale-0 transition-all duration-300",children:g.jsx(tf,{className:"h-8 w-auto",variant:r})}),g.jsx("div",{className:"h-8 w-px bg-slate-200 dark:bg-slate-700"}),g.jsxs("p",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 dark:text-slate-500 leading-tight",children:["Facultad de Psicologa ",g.jsx("br",{})," y Ciencias Sociales"]})]})]})]}),g.jsxs("div",{className:"w-full xl:w-7/12 flex flex-col relative bg-white/50 dark:bg-transparent",children:[g.jsxs("div",{className:"flex-1 flex flex-col justify-center p-8 sm:p-12 lg:p-16 w-full max-w-xl mx-auto",children:[W(),g.jsx("div",{"aria-live":"assertive",className:"mt-8 min-h-[60px]",children:N&&g.jsxs("div",{className:"flex items-start gap-4 p-4 bg-rose-50 dark:bg-rose-900/20 border border-rose-200 dark:border-rose-800 rounded-2xl shadow-sm animate-shake transition-all duration-300",children:[g.jsx("div",{className:"p-2 bg-white dark:bg-rose-950 rounded-full text-rose-500 dark:text-rose-400 shadow-sm border border-rose-100 dark:border-rose-900/50 flex-shrink-0",children:g.jsx("span",{className:"material-icons !text-lg",children:"error"})}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-bold text-rose-800 dark:text-rose-200",children:"Atencin"}),g.jsx("p",{className:"text-sm text-rose-600 dark:text-rose-300 mt-1 leading-snug font-medium",children:N})]})]})})]}),g.jsx("div",{className:"xl:hidden p-6 text-center border-t border-slate-100 dark:border-slate-800",children:g.jsx("p",{className:"text-[10px] font-bold text-slate-400 dark:text-slate-600 uppercase tracking-widest",children:"UFLO Universidad  Facultad de Psicologa"})})]})]})})})]})},kb=O.createContext(void 0),TO=({children:t})=>{const[e,r]=O.useState(null);O.useEffect(()=>{const o=u=>{u.preventDefault(),r(u)};window.addEventListener("beforeinstallprompt",o);const a=()=>{r(null)};return window.addEventListener("appinstalled",a),()=>{window.removeEventListener("beforeinstallprompt",o),window.removeEventListener("appinstalled",a)}},[]);const s=O.useCallback(async()=>{if(e){await e.prompt();const{outcome:o}=await e.userChoice;console.log(`Respuesta del usuario al dilogo de instalacin: ${o}`)}},[e]);return g.jsx(kb.Provider,{value:{canInstall:!!e,triggerInstall:s},children:t})},Tb=()=>{const t=O.useContext(kb);if(t===void 0)throw new Error("usePwaInstall debe ser usado dentro de un PwaInstallProvider");return t},CO=({message:t,type:e,onClose:r,duration:s=4e3})=>{const[o,a]=O.useState(!1);O.useEffect(()=>{const v=setTimeout(()=>a(!0),50),_=setTimeout(()=>{a(!1),setTimeout(r,300)},s);return()=>{clearTimeout(v),clearTimeout(_)}},[s,r]);let u="",d="",h="";switch(e){case"success":u="bg-emerald-50 border-emerald-200 text-emerald-800",d="check_circle",h="text-emerald-500";break;case"warning":u="bg-amber-50 border-amber-200 text-amber-800",d="warning",h="text-amber-500";break;case"error":default:u="bg-rose-50 border-rose-200 text-rose-800",d="error",h="text-rose-500";break}const p="fixed top-5 right-5 z-[2000] flex items-center gap-4 w-full max-w-sm p-4 rounded-xl shadow-lg border transition-all duration-300 ease-in-out",y=o?"opacity-100 translate-y-0":"opacity-0 -translate-y-4";return g.jsxs("div",{className:`${p} ${u} ${y}`,role:"alert","aria-live":"polite",children:[g.jsx("div",{className:`flex-shrink-0 ${h}`,children:g.jsx("span",{className:"material-icons",children:d})}),g.jsx("div",{className:"flex-grow text-sm font-medium",children:g.jsx("span",{children:t})}),g.jsx("button",{onClick:()=>{a(!1),setTimeout(r,300)},className:"flex-shrink-0 p-1 -m-1 rounded-full hover:bg-black/10 transition-colors","aria-label":"Cerrar notificacin",children:g.jsx("span",{className:"material-icons !text-base",children:"close"})})]})},Cb=O.createContext(void 0),IO=({children:t})=>{const{authenticatedUser:e,isSuperUserMode:r,isJefeMode:s,isDirectivoMode:o}=ho(),[a,u]=O.useState([]),[d,h]=O.useState(null),[p,y]=O.useState(new Set),v=lc(),_=r||s||o,w=!_&&!!e,S=`read_notifications_v2_${(e==null?void 0:e.id)||"guest"}`;O.useEffect(()=>{if(e)try{const G=localStorage.getItem(S);if(G){const te=JSON.parse(G);Array.isArray(te)&&y(new Set(te))}}catch(G){console.warn("Error cargando notificaciones ledas del storage",G)}},[e,S]);const E=G=>{localStorage.setItem(S,JSON.stringify(Array.from(G))),y(G)};O.useEffect(()=>{if(!e)return;(async()=>{try{const te=[];if(_){const{data:Z}=await Se.from(jf).select(`id, created_at, ${ro}, ${Ju}`).eq(Ta,"Pendiente").order("created_at",{ascending:!1}).limit(20);Z&&Z.forEach(se=>{const ve=`pps-${se.id}`;te.push({id:ve,title:"Solicitud PPS Pendiente",message:`${se[ro]||"Estudiante"} solicit iniciar en ${se[Ju]||"Institucin"}.`,timestamp:new Date(se.created_at),type:"solicitud_pps",link:"/admin/solicitudes?tab=ingreso",isRead:p.has(ve)})});const{data:X}=await Se.from(By).select(`
                            id, 
                            created_at, 
                            ${Xu}, 
                            estudiante:estudiantes!fk_finalizacion_estudiante (
                                ${ar}
                            )
                        `).eq(ec,"Pendiente").order("created_at",{ascending:!1}).limit(20);X&&X.forEach(se=>{const ve=`fin-${se.id}`,de=Array.isArray(se.estudiante)?se.estudiante[0]:se.estudiante,W=(de==null?void 0:de[ar])||"Estudiante";te.push({id:ve,title:"Acreditacin Pendiente",message:`${W} ha enviado documentacin para acreditar.`,timestamp:new Date(se.created_at),type:"acreditacion",link:"/admin/solicitudes?tab=egreso",isRead:p.has(ve)})})}else if(w){const Z=new Date;Z.setDate(Z.getDate()-7);const{data:X}=await Se.from($y).select(`id, created_at, ${ut}, ${cr}`).eq(cr,"Abierta").gt("created_at",Z.toISOString()).order("created_at",{ascending:!1});X&&X.forEach(se=>{const ve=`launch-${se.id}`;te.push({id:ve,title:"Nueva Convocatoria",message:`${se[ut]} est abierta para inscripcin.`,timestamp:new Date(se.created_at),type:"lanzamiento",link:"/student",isRead:p.has(ve)})})}te.sort((Z,X)=>X.timestamp.getTime()-Z.timestamp.getTime()),u(te)}catch(te){console.error("Error loading notification history:",te)}})()},[_,w,e,p]),O.useEffect(()=>{if(!e)return;const G=`notifications-${e.id}`,te=Se.channel(G).on("postgres_changes",{event:"INSERT",schema:"public",table:jf},async Z=>{if(!_||!Z||!Z.new)return;const se=`pps-${Z.new.id}`;N({id:se,title:"Nueva Solicitud de PPS",message:"Nueva solicitud de inicio recibida.",timestamp:new Date,type:"solicitud_pps",link:"/admin/solicitudes?tab=ingreso",isRead:!1})}).on("postgres_changes",{event:"INSERT",schema:"public",table:By},async Z=>{if(!_||!Z||!Z.new)return;const se=`fin-${Z.new.id}`;N({id:se,title:"Nueva Solicitud de Acreditacin",message:"Un estudiante ha enviado documentacin para finalizar.",timestamp:new Date,type:"acreditacion",link:"/admin/solicitudes?tab=egreso",isRead:!1})}).on("postgres_changes",{event:"*",schema:"public",table:$y},async Z=>{var de;if(!w)return;const X=Z.new;if(!X)return;const se=Z.eventType==="INSERT"&&X[cr]==="Abierta",ve=Z.eventType==="UPDATE"&&X[cr]==="Abierta"&&((de=Z.old)==null?void 0:de[cr])!=="Abierta";if(se||ve){const W=`launch-realtime-${X.id}`;N({id:W,title:"Nueva Oportunidad de PPS!",message:`Se ha abierto la inscripcin para ${X[ut]}.`,timestamp:new Date,type:"lanzamiento",link:"/student",isRead:!1})}}).on("postgres_changes",{event:"UPDATE",schema:"public",table:qI},async Z=>{if(!w)return;const X=Z.new,se=Z.old,ve=X[dr],de=Array.isArray(ve)?ve[0]:ve;if(e&&de===e.id&&X[Rt]!==se[Rt]){const W=X[Rt];let P=`Tu estado ha cambiado a: ${W}`;W==="Seleccionado"&&(P="Felicitaciones! Has sido Seleccionado para la PPS."),N({id:`conv-update-${X.id}-${Date.now()}`,title:"Actualizacin de Postulacin",message:P,timestamp:new Date,type:"estado",link:"/student/solicitudes",isRead:!1})}}).subscribe();return()=>{Se.removeChannel(te)}},[_,w,e]);const N=G=>{u(te=>[G,...te]),h({message:G.title,type:"success"}),Notification.permission==="granted"&&document.hidden&&new Notification(G.title,{body:G.message,icon:"/icons/icon-192x192.png"});try{new Audio("https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3").play().catch(()=>{})}catch{}},j=G=>{u(X=>X.map(se=>se.id===G?{...se,isRead:!0}:se));const te=new Set(p);te.add(G),E(te);const Z=a.find(X=>X.id===G);Z&&Z.link&&v(Z.link)},R=()=>{u(te=>te.map(Z=>({...Z,isRead:!0})));const G=new Set(p);a.forEach(te=>G.add(te.id)),E(G)},U=()=>{R(),u([])},H=a.filter(G=>!G.isRead).length,K=O.useCallback((G,te)=>{h({message:G,type:te})},[]);return g.jsxs(Cb.Provider,{value:{notifications:a,unreadCount:H,markAsRead:j,markAllAsRead:R,clearNotifications:U,showToast:K},children:[t,d&&g.jsx(CO,{message:d.message,type:d.type,onClose:()=>h(null),duration:5e3})]})},Ib=()=>{const t=O.useContext(Cb);if(t===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return t},OO=({onClose:t})=>{const{notifications:e,unreadCount:r,markAsRead:s,markAllAsRead:o,clearNotifications:a}=Ib(),u=O.useRef(null);return O.useEffect(()=>{const d=h=>{u.current&&!u.current.contains(h.target)&&t()};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[t]),e.length===0?g.jsxs("div",{ref:u,className:"absolute right-0 mt-2 w-80 bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-slate-200 dark:border-slate-700 p-6 text-center z-[1000] animate-fade-in-up",children:[g.jsx("div",{className:"mx-auto bg-slate-100 dark:bg-slate-700 text-slate-400 rounded-full h-12 w-12 flex items-center justify-center mb-3",children:g.jsx("span",{className:"material-icons !text-2xl",children:"notifications_none"})}),g.jsx("p",{className:"text-slate-600 dark:text-slate-300 font-medium text-sm",children:"No tienes notificaciones nuevas."})]}):g.jsxs("div",{ref:u,className:"absolute right-0 mt-2 w-80 sm:w-96 bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-slate-200 dark:border-slate-700 z-[1000] overflow-hidden animate-fade-in-up",children:[g.jsxs("div",{className:"p-3 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-900/50",children:[g.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-200 text-sm",children:"Notificaciones"}),g.jsxs("div",{className:"flex gap-2",children:[r>0&&g.jsx("button",{onClick:o,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline font-medium",children:"Marcar todo ledo"}),g.jsx("button",{onClick:a,className:"text-xs text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200",children:"Limpiar"})]})]}),g.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:e.map(d=>g.jsx("div",{onClick:()=>{s(d.id),t()},className:`p-4 border-b border-slate-100 dark:border-slate-700/50 cursor-pointer transition-colors hover:bg-slate-50 dark:hover:bg-slate-700/50 ${d.isRead?"":"bg-blue-50/50 dark:bg-blue-900/10"}`,children:g.jsxs("div",{className:"flex gap-3",children:[g.jsx("div",{className:`flex-shrink-0 mt-1 ${d.type==="solicitud_pps"?"text-blue-500":d.type==="acreditacion"?"text-emerald-500":d.type==="recordatorio"?"text-amber-500":"text-slate-500"}`,children:g.jsx("span",{className:"material-icons !text-xl",children:d.type==="solicitud_pps"?"assignment_ind":d.type==="acreditacion"?"verified":d.type==="recordatorio"?"alarm":"info"})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("p",{className:`text-sm font-bold ${d.isRead?"text-slate-700 dark:text-slate-300":"text-slate-900 dark:text-white"}`,children:d.title}),!d.isRead&&g.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 mt-1.5"})]}),g.jsx("p",{className:`text-xs mt-1 line-clamp-2 ${d.isRead?"text-slate-500 dark:text-slate-500":"text-slate-700 dark:text-slate-300"}`,children:d.message}),g.jsxs("p",{className:"text-[10px] text-slate-400 mt-2",children:[_p(d.timestamp.toISOString())," ",d.timestamp.toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit"})]})]})]})},d.id))})]})},AO=()=>{const{authenticatedUser:t,logout:e,isSuperUserMode:r,isJefeMode:s,isDirectivoMode:o}=ho(),{resolvedTheme:a}=ip(),{canInstall:u,triggerInstall:d}=Tb(),h=!!t,[p,y]=O.useState(!1),v=Xs(),{unreadCount:_}=Ib(),[w,x]=O.useState(!1),E=["/admin","/jefe","/directivo","/reportero","/testing"].some(j=>v.pathname.startsWith(j)),N=h&&(r||s||o);return O.useEffect(()=>{const j=()=>{y(window.scrollY>10)};return window.addEventListener("scroll",j,{passive:!0}),j(),()=>{window.removeEventListener("scroll",j)}},[]),g.jsx("header",{className:`no-print sticky top-0 z-50 bg-white dark:bg-gray-950/80 backdrop-blur-xl transition-all duration-300 ${p?"border-b border-slate-200/70 dark:border-white/10 shadow-sm":"border-b border-transparent"}`,children:g.jsx("div",{className:`px-4 sm:px-6 lg:px-8 ${E?"w-full":"max-w-7xl mx-auto"}`,children:g.jsxs("div",{className:"flex justify-between items-center h-16 md:h-20",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx(H_,{className:"h-10 md:h-14 w-auto transition-all duration-300",variant:a})}),g.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[r&&g.jsx("span",{className:"hidden sm:inline-flex items-center bg-blue-100 text-blue-800 text-xs sm:text-sm font-semibold px-3 py-1.5 rounded-full border border-blue-200/80 dark:bg-blue-900/50 dark:text-blue-200 dark:border-blue-800",children:"Modo Administrador"}),g.jsx("div",{className:"hidden sm:block",children:g.jsx(tf,{className:"h-10 md:h-14 w-auto transition-all duration-300",variant:a})}),N&&g.jsxs("div",{className:"relative",children:[g.jsxs("button",{onClick:()=>x(!w),className:"relative bg-white dark:bg-slate-800 hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-500 dark:text-slate-400 p-2.5 rounded-full transition-all duration-200 shadow-sm border border-slate-200/80 dark:border-slate-700 flex items-center justify-center group","aria-label":"Notificaciones",children:[g.jsx("span",{className:`material-icons !text-xl sm:!text-2xl transition-transform duration-300 ease-out ${w?"text-blue-600 dark:text-blue-400":""} group-hover:scale-110`,children:_>0?"notifications_active":"notifications"}),_>0&&g.jsxs("span",{className:"absolute top-0 right-0 flex h-4 w-4 -mt-1 -mr-1",children:[g.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),g.jsx("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-red-500 text-white text-[10px] font-bold items-center justify-center",children:_>9?"9+":_})]})]}),w&&g.jsx(OO,{onClose:()=>x(!1)})]}),g.jsx(q_,{}),u&&g.jsx("button",{onClick:d,className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold p-2.5 rounded-full transition-all duration-200 shadow-md border border-blue-700 flex items-center justify-center group animate-pulse","aria-label":"Instalar aplicacin",title:"Instalar aplicacin",children:g.jsx("span",{className:"material-icons !text-xl sm:!text-2xl transition-transform duration-300 ease-out group-hover:scale-110",children:"install_mobile"})}),h&&g.jsx("button",{onClick:e,className:"bg-white dark:bg-slate-800 hover:bg-rose-50 dark:hover:bg-rose-900/50 text-slate-500 hover:text-rose-600 dark:text-slate-400 dark:hover:text-rose-400 font-semibold p-2.5 rounded-full transition-all duration-200 shadow-sm border border-slate-200/80 dark:border-slate-700 flex items-center justify-center","aria-label":"Cerrar sesin",title:"Cerrar sesin",children:g.jsx("span",{className:"material-icons !text-xl sm:!text-2xl",children:"logout"})})]})]})})})},NO=({children:t})=>{const e=Xs(),{showModal:r}=Ba(),[s,o]=O.useState(navigator.onLine),a=e.pathname==="/login",d=["/admin","/jefe","/directivo","/reportero","/testing"].some(h=>e.pathname.startsWith(h));return O.useEffect(()=>{const h=_=>{var x;const w=_.message||((x=_.error)==null?void 0:x.message)||String(_.error);String(w).includes("Incorrect locale")||String(w).includes("RangeError")||(console.error("Global Error Caught:",_.error),r("Se produjo un error inesperado",`Detalle: ${w||"Error desconocido en la aplicacin."}

Por favor, recarga la pgina.`))},p=_=>{var x;const w=((x=_.reason)==null?void 0:x.message)||_.reason||"Error de conexin o lgica asncrona.";String(w).includes("Incorrect locale")||String(w).includes("RangeError")||(console.error("Unhandled Rejection Caught:",_.reason),r("Error de Procesamiento",`Ocurri un fallo en una operacin: ${w}`))},y=()=>o(!0),v=()=>o(!1);return window.addEventListener("error",h),window.addEventListener("unhandledrejection",p),window.addEventListener("online",y),window.addEventListener("offline",v),()=>{window.removeEventListener("error",h),window.removeEventListener("unhandledrejection",p),window.removeEventListener("online",y),window.removeEventListener("offline",v)}},[r]),a?g.jsx(g.Fragment,{children:t}):g.jsxs("div",{className:"flex flex-col min-h-screen",children:[!s&&g.jsxs("div",{className:"bg-red-500 text-white text-center text-xs font-bold py-1 px-4 fixed top-0 left-0 right-0 z-[2000] animate-pulse shadow-md flex items-center justify-center gap-2",children:[g.jsx("span",{className:"material-icons !text-sm",children:"wifi_off"}),"Sin conexin a internet. Verificando red..."]}),g.jsx(AO,{}),g.jsx("main",{className:`flex-grow w-full px-4 sm:px-6 lg:px-8 pb-8 ${d?"":"max-w-7xl mx-auto"}`,children:t})]})},va={horasObjetivoTotal:fO,horasObjetivoOrientacion:pO,rotacionObjetivo:mO},Ob=O.createContext(va),RO=({children:t})=>{const[e,r]=O.useState(va);return O.useEffect(()=>{(async()=>{try{const{data:o,error:a}=await Se.from("app_config").select("*").single();!a&&o&&r({horasObjetivoTotal:o.horas_objetivo_total??va.horasObjetivoTotal,horasObjetivoOrientacion:o.horas_objetivo_orientacion??va.horasObjetivoOrientacion,rotacionObjetivo:o.rotacion_objetivo??va.rotacionObjetivo})}catch{console.warn("Using default app config")}})()},[]),g.jsx(Ob.Provider,{value:e,children:t})},PO=()=>O.useContext(Ob),Dh={showAiInsights:!0,showManagementTab:!0,showLaunchHistory:!0,showPenalizations:!0,showAutomation:!0,showNewAgreements:!0,showReports:!0,showIntegrity:!0,showMonitoring:!0},Ab=O.createContext(void 0),Zy="admin_module_preferences_v1",jO=({children:t})=>{const[e,r]=O.useState(Dh);O.useEffect(()=>{const a=localStorage.getItem(Zy);if(a)try{const u=JSON.parse(a);r({...Dh,...u})}catch(u){console.warn("Error parsing admin preferences",u)}},[]),O.useEffect(()=>{localStorage.setItem(Zy,JSON.stringify(e))},[e]);const s=a=>{r(u=>({...u,[a]:!u[a]}))},o=()=>{r(Dh)};return g.jsx(Ab.Provider,{value:{preferences:e,toggleModule:s,resetPreferences:o},children:t})},z2=()=>{const t=O.useContext(Ab);if(!t)throw new Error("useAdminPreferences must be used within an AdminPreferencesProvider");return t};class LO{constructor(){sr(this,"isDev");const e=import.meta;this.isDev=e&&e.env?e.env.DEV:!1}info(e,r){this.isDev&&console.log(` [INFO] ${e}`,r||"")}warn(e,r){console.warn(` [WARN] ${e}`,r||"")}error(e,r){console.error(` [ERROR] ${e}`,r||"")}debug(e,r){this.isDev&&console.debug(` [DEBUG] ${e}`,r||"")}}const DO=new LO;class FO extends O.Component{constructor(r){super(r);sr(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0}),this.props.onRetry&&this.props.onRetry()});this.state={hasError:!1,error:void 0}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,s){DO.error("ErrorBoundary caught an error:",{error:r,errorInfo:s});const o=r.message||"";(o.includes("Failed to fetch dynamically imported module")||o.includes("Importing a module script failed"))&&(sessionStorage.getItem("retry-chunk-load")?sessionStorage.removeItem("retry-chunk-load"):(sessionStorage.setItem("retry-chunk-load","true"),window.location.reload()))}render(){var r,s;if(this.state.hasError){const o=((r=this.state.error)==null?void 0:r.message)||"",a=o.includes("Failed to fetch")||o.includes("Importing a module"),u=o.includes("removeChild")||o.includes("Node");let d="Algo sali mal",h=((s=this.state.error)==null?void 0:s.message)||"Ocurri un error inesperado al procesar tu solicitud.",p="error_outline";return a?(d="Actualizacin Disponible",h="Se ha detectado una nueva versin de la aplicacin. Por favor, recarga la pgina para obtener las ltimas mejoras.",p="system_update"):u&&(d="Error de Interfaz",h="La traduccin automtica o una extensin del navegador interfiri con la aplicacin. Por favor, desactiva el traductor para este sitio y recarga.",p="translate"),g.jsxs("div",{className:"flex flex-col items-center justify-center p-8 bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-red-200 dark:border-red-900/50 max-w-lg mx-auto my-8 mt-20",children:[g.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-full h-16 w-16 flex items-center justify-center mb-4",children:g.jsx("span",{className:"material-icons !text-4xl",children:p})}),g.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 text-center",children:d}),g.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm text-center mt-2 mb-6 leading-relaxed",children:h}),g.jsxs("div",{className:"flex gap-3",children:[!a&&!u&&g.jsx("button",{onClick:this.handleRetry,className:"px-5 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 rounded-xl font-bold hover:bg-slate-200 transition-colors text-sm",children:"Reintentar"}),g.jsxs("button",{onClick:()=>window.location.reload(),className:"px-6 py-2.5 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 shadow-md hover:shadow-lg transition-all text-sm flex items-center gap-2",children:[g.jsx("span",{className:"material-icons !text-lg",children:"refresh"}),"Recargar Pgina"]})]})]})}return this.props.children}}const MO=O.createContext(null),UO=({children:t})=>{const[e,r]=O.useState(null),[s,o]=O.useState(null),a=O.useCallback((p,y,v)=>{const _=new Date;if(typeof p=="string")return new Error(p);const w=p;return w.context=y,w.details=v,w.timestamp=_,w},[]),u=O.useCallback((p,y="",v)=>{const _=a(p,y,v);console.error(`[Error${y?` in ${y}`:""}]:`,{message:_.message,context:y,details:v,timestamp:_.timestamp,stack:_.stack}),o({message:_.message||"Ocurri un error inesperado",type:"error"}),r(_),setTimeout(()=>{r(null),o(null)},5e3)},[a]),d=O.useCallback(p=>{console.log(`[Success]: ${p}`),o({message:p,type:"success"}),r(null),setTimeout(()=>{o(null)},3e3)},[]),h=O.useCallback(()=>{r(null),o(null)},[]);return g.jsxs(MO.Provider,{value:{error:e,showError:u,showSuccess:d,clearError:h},children:[t,s&&g.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:g.jsx("div",{className:`px-6 py-3 rounded-lg shadow-lg ${s.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"material-icons",children:s.type==="success"?"check_circle":"error"}),g.jsx("span",{className:"font-medium",children:s.message}),g.jsx("button",{onClick:h,className:"hover:opacity-80",children:g.jsx("span",{className:"material-icons !text-lg",children:"close"})})]})})})]})},Ss=({children:t,allowedRoles:e})=>{const{authenticatedUser:r,isAuthLoading:s,isSuperUserMode:o,isJefeMode:a,isDirectivoMode:u,isAdminTesterMode:d,isReporteroMode:h}=ho(),p=Xs();if(s)return g.jsx("div",{className:"flex justify-center items-center min-h-screen",children:g.jsx(V_,{})});if(!r)return g.jsx(Kt,{to:"/login",state:{from:p},replace:!0});if(e){let y=!1;if(e.includes("SuperUser")&&o&&(y=!0),e.includes("Jefe")&&a&&(y=!0),e.includes("Directivo")&&u&&(y=!0),e.includes("Reportero")&&h&&(y=!0),e.includes("Student")&&!o&&!a&&!u&&!h&&!d&&(y=!0),d&&(y=!0),!y)return o?g.jsx(Kt,{to:"/admin/dashboard",replace:!0}):a?g.jsx(Kt,{to:"/jefe/dashboard",replace:!0}):g.jsx(Kt,{to:"/student",replace:!0})}return g.jsx(g.Fragment,{children:t})},Xy=3,$O=1e3,BO=t=>new Promise(e=>setTimeout(e,t)),zO=(t,e)=>{if(!t||e.length===0)return null;const r=t.replace(/[%\\]/g,"");return r?e.map(s=>`${s}.ilike.*${r}*`).join(","):null},wp=(t,e)=>(e&&Object.entries(e).forEach(([r,s])=>{s==null||s===""||(r==="startDate"?t=t.gte("fecha_inicio",s):r==="endDate"?t=t.lte("fecha_inicio",s):r==="finishDateGte"?t=t.gte("fecha_finalizacion",s):r==="finishDateLte"?t=t.lte("fecha_finalizacion",s):r==="institucion"?t=t.ilike("nombre_institucion",`%${s}%`):r===cn?t=t.ilike(r,`%${s}%`):Array.isArray(s)?s.length>0&&(t=t.in(r,s)):typeof s=="string"&&s.includes("%")?t=t.ilike(r,s):t=t.eq(r,s))}),t),VO=async(t,e,r,s,o,a,u,d)=>{try{const h=(e-1)*r,p=h+r-1,y=s&&s.length>0?`id, created_at, ${s.join(", ")}`:"*";let v=Se.from(t).select(y,{count:"exact"});if(v=wp(v,d),o&&a&&a.length>0){const S=zO(o,a);S&&(v=v.or(S))}u?v=v.order(u.field,{ascending:u.direction==="asc"}):v=v.order("created_at",{ascending:!1});const{data:_,error:w,count:x}=await v.range(h,p);return w?{records:[],total:0,error:{error:{type:"SUPABASE_ERROR",message:w.message}}}:{records:_,total:x||0,error:null}}catch(h){return{records:[],total:0,error:{error:{type:"UNKNOWN_ERROR",message:h.message}}}}},Nb=async(t,e,r,s)=>{try{let o=[],a=0;const u=1e3;let d=!0;const h=e&&e.length>0?`id, created_at, ${e.join(", ")}`:"*";for(;d;){let p=0,y=!1,v=null;for(;p<Xy&&!y;)try{let _=Se.from(t).select(h);_=wp(_,r),s&&s.length>0?s.forEach(S=>_=_.order(S.field,{ascending:S.direction==="asc"})):_=_.order("id",{ascending:!0});const{data:w,error:x}=await _.range(a,a+u-1);if(x)throw x;w?(o=[...o,...w],w.length<u?d=!1:a+=u):d=!1,y=!0}catch(_){v=_,p++,p<Xy&&await BO($O*p)}if(!y)return{records:[],error:{error:{type:"SUPABASE_ERROR",message:(v==null?void 0:v.message)||"Network error"}}}}return{records:o,error:null}}catch(o){return{records:[],error:{error:{type:"UNKNOWN_ERROR",message:o.message}}}}},HO=async(t,e,r,s,o)=>{if(s&&s>0)try{const a=e&&e.length>0?`id, created_at, ${e.join(", ")}`:"*";let u=Se.from(t).select(a).limit(s);u=wp(u,r),o&&o.length>0&&o.forEach(p=>u=u.order(p.field,{ascending:p.direction==="asc"}));const{data:d,error:h}=await u;if(h)throw h;return{records:d,error:null}}catch(a){return{records:[],error:{error:{type:"SUPABASE_ERROR",message:a.message}}}}return await Nb(t,e,r,o)},WO=async(t,e)=>{try{const{data:r,error:s}=await Se.from(t).insert(e).select().single();return s?{record:null,error:{error:{type:"CREATE_ERROR",message:s.message}}}:{record:r,error:null}}catch(r){return{record:null,error:{error:{type:"UNKNOWN_ERROR",message:r.message}}}}},Rb=async(t,e,r)=>{try{const{data:s,error:o}=await Se.from(t).update(r).eq("id",e).select().maybeSingle();return o?{record:null,error:{error:{type:"UPDATE_ERROR",message:o.message}}}:{record:s,error:null}}catch(s){return{record:null,error:{error:{type:"UNKNOWN_ERROR",message:s.message}}}}},qO=async(t,e)=>{try{const r=e.map(u=>Rb(t,u.id,u.fields)),s=await Promise.all(r);return s.filter(u=>u.error).length>0?{records:null,error:{error:{type:"BULK_UPDATE_PARTIAL_ERROR",message:"Algunos registros no se actualizaron."}}}:{records:s.map(u=>u.record).filter(Boolean),error:null}}catch(r){return{records:null,error:{error:{type:"UNKNOWN_ERROR",message:r.message}}}}},GO=async(t,e)=>{try{const{error:r,count:s}=await Se.from(t).delete({count:"exact"}).eq("id",e);return r?{success:!1,error:{error:{type:"DELETE_ERROR",message:r.message}}}:s===0?{success:!1,error:{error:{type:"DELETE_ERROR",message:"No se pudo eliminar el registro."}}}:{success:!0,error:null}}catch(r){return{success:!1,error:{error:{type:"UNKNOWN_ERROR",message:r.message}}}}},as=t=>({...t,createdTime:t.created_at||"",id:String(t.id)}),KO=t=>{const e={...t};return t.legajo&&(e.legajo=Me(t.legajo)),t.nombre&&(e.nombre=Me(t.nombre)),t.correo&&(e.correo=Me(t.correo)),as(e)},QO=t=>{const e={...t,especialidad:Me(t.especialidad),estado:Me(t.estado),nota:Me(t.nota)};return as(e)},JO=t=>{const e={...t};return e.nombre_institucion=Me(t.nombre_institucion),e.nombre_alumno=Me(t.nombre_alumno),e.estado_seguimiento=Me(t.estado_seguimiento),as(e)},YO=t=>{const e={...t};return e.nombre_pps=Me(t.nombre_pps),e.orientacion=Me(t.orientacion),e.estado_convocatoria=Me(t.estado_convocatoria),as(e)},ZO=t=>{const e={...t};return e.nombre_pps=Me(t.nombre_pps),e.estado_inscripcion=Me(t.estado_inscripcion),e.horario_seleccionado=Me(t.horario_seleccionado),as(e)},XO=t=>{const e={...t};return e.nombre=Me(t.nombre),e.direccion=Me(t.direccion),e.tutor=Me(t.tutor),as(e)},eA=t=>as(t),tA=t=>{const e={...t};return e.estado=Me(t.estado),as(e)};function Mn(t,e){return{getAll:async r=>{const{records:s,error:o}=await Nb(t,r==null?void 0:r.fields,r==null?void 0:r.filters,r==null?void 0:r.sort);return o?(console.warn(`Fetch warning in ${t}:`,o),[]):s.map(e)},get:async r=>{const{records:s,error:o}=await HO(t,[],r==null?void 0:r.filters,r==null?void 0:r.maxRecords,r==null?void 0:r.sort);return o?[]:s.map(e)},getPage:async(r,s,o)=>{const{records:a,total:u,error:d}=await VO(t,r,s,[],o==null?void 0:o.searchTerm,o==null?void 0:o.searchFields,o==null?void 0:o.sort,o==null?void 0:o.filters);return{records:a.map(e),total:u,error:d}},create:async r=>{const{record:s,error:o}=await WO(t,r);if(o)throw o;if(!s)throw new Error("Create failed, no record returned");return e(s)},update:async(r,s)=>{const{record:o,error:a}=await Rb(t,r,s);if(a)throw a;if(!o)throw new Error("Update failed, no record returned");return e(o)},updateMany:async r=>{const{records:s,error:o}=await qO(t,r);if(o)throw o;return(s||[]).map(e)},delete:async r=>{const{success:s,error:o}=await GO(t,r);if(o)throw o;return s}}}const Ve={estudiantes:Mn("estudiantes",KO),practicas:Mn("practicas",QO),convocatorias:Mn("convocatorias",ZO),lanzamientos:Mn("lanzamientos_pps",YO),instituciones:Mn("instituciones",XO),penalizaciones:Mn("penalizaciones",eA),solicitudes:Mn("solicitudes_pps",JO),finalizacion:Mn("finalizacion_pps",tA)},fc=async t=>{const{data:e,error:r}=await Se.from("estudiantes").select("*").eq(Tr,t).maybeSingle(),s=e;return r||!s?(console.warn("Estudiante no encontrado por legajo:",t),{studentDetails:null,studentAirtableId:null}):{studentDetails:s,studentAirtableId:s.id}},rA=async t=>{const{studentAirtableId:e}=await fc(t);if(!e)return[];const{data:r,error:s}=await Se.from("practicas").select(`
          *,
          lanzamiento:lanzamientos_pps!fk_practica_lanzamiento (
              nombre_pps,
              orientacion,
              fecha_inicio,
              fecha_finalizacion
          )
      `).eq(Gs,e);return s||!r?(console.error("Error fetching practicas:",s),[]):r.map(o=>{let a=null;o.lanzamiento&&(Array.isArray(o.lanzamiento)?a=o.lanzamiento[0]:a=o.lanzamiento);const u=o[cn]||(a==null?void 0:a.nombre_pps)||"Institucin desconocida",d=Me(u),h={...o};return!h[rs]&&(a!=null&&a.fecha_inicio)&&(h[rs]=a.fecha_inicio),!h[Jt]&&(a!=null&&a.fecha_finalizacion)&&(h[Jt]=a.fecha_finalizacion),!h[Vr]&&(a!=null&&a.orientacion)&&(h[Vr]=a.orientacion),h[cn]=[d],h})},nA=async(t,e)=>{let r=e;if(!r){const{studentAirtableId:u}=await fc(t);r=u}if(!r)return[];const{data:s,error:o}=await Se.from(jf).select(`
          *,
          estudiante:estudiantes!fk_solicitud_estudiante (
            nombre, legajo, correo
          )
      `).eq(Yu,r).order("created_at",{ascending:!1});return o||!s?(console.error("Error fetching solicitudes:",o),[]):s.map(u=>{const d=Array.isArray(u.estudiante)?u.estudiante[0]:u.estudiante;return{...u,[ro]:(d==null?void 0:d.nombre)||u[ro]||"Estudiante",[qy]:(d==null?void 0:d.legajo)||u[qy],[Gy]:(d==null?void 0:d.correo)||u[Gy]}}).filter(u=>u[Ta]!=="Archivado")},sA=async(t,e)=>{try{let r=e;if(!r){const{studentAirtableId:o}=await fc(t);r=o}if(!r)return null;const s=await Ve.finalizacion.get({filters:{[Zu]:r},sort:[{field:"created_at",direction:"desc"}],maxRecords:1});return!s||s.length===0?null:s[0]}catch(r){return console.warn("Suppressing error in fetchFinalizacionRequest:",r),null}},iA=async t=>{let e=[];const r=new Set;t&&(e=await Ve.convocatorias.getAll({filters:{[dr]:t}}),e.forEach(E=>{const N=E[hr];N&&(Array.isArray(N)?N.forEach(j=>r.add(j)):r.add(N))}));const s=await Ve.lanzamientos.getAll({filters:{[cr]:["Abierta","Abierto","Cerrado"]},sort:[{field:$r,direction:"desc"}]}),o=new Set(s.map(S=>S.id)),a=Array.from(r).filter(S=>!o.has(S));let u=[];a.length>0&&(u=await Ve.lanzamientos.getAll({filters:{id:a}}));const d=[...s,...u],h=new Map(d.map(S=>[S.id,S])),p=e.map(S=>{const E=S[hr],N=E?Array.isArray(E)?h.get(E[0]):h.get(E):null;return{...S,[wa]:Ds(S[wa]||(N==null?void 0:N[ut])),[Wu]:S[Wu]||(N==null?void 0:N[$r]),[qu]:S[qu]||(N==null?void 0:N[Br]),[Gu]:S[Gu]||(N==null?void 0:N[dn]),[Ku]:S[Ku]||(N==null?void 0:N[Xn]),[Qu]:S[Qu]||(N==null?void 0:N[Ls])}}),v=s.map(S=>({...S,[ut]:Ds(S[ut])})).filter(S=>{const E=nt(S[cr]),N=S[Di],j=S[ZI]||S[YI]||S[$r],R=j?new Date(j)>new Date:!1,U=nt(E)==="cerrada"||nt(E)==="cerrado";return E!=="oculto"&&N!=="Archivado"&&["abierta","abierto","cerrado","cerrada"].includes(E)&&(U||!R)}),_=new Map;d.forEach(S=>{const E=Ds(S[ut]),N=S[dn];E&&N&&_.set(nt(E),N)});const w=await Ve.instituciones.getAll({fields:[As,Ky,Qy]}),x=new Map;return w.forEach(S=>{const E=Ds(S[As]),N=S[Ky],j=S[Qy];E&&N&&x.set(nt(E),{url:N,invert:!!j})}),{lanzamientos:v,myEnrollments:p,allLanzamientos:d,institutionAddressMap:_,institutionLogoMap:x}},V2=async t=>{const e=t.id;if(!e)return null;try{const{data:h,error:p}=await Se.rpc("get_postulantes_seleccionados",{lanzamiento_uuid:e});if(!p&&h){const y={};if(h.forEach(v=>{const _=v.horario||"No especificado";y[_]||(y[_]=[]),y[_].push({nombre:v.nombre||"Estudiante",legajo:v.legajo||"---"})}),Object.keys(y).length===0)return null;for(const v in y)y[v].sort((_,w)=>_.nombre.localeCompare(w.nombre));return y}}catch{}const s=(await Ve.convocatorias.getAll({filters:{[hr]:e}})).filter(h=>{const p=String(h[Rt]||"").toLowerCase();return p.includes("seleccionado")||p.includes("asignado")});if(s.length===0)return null;const o=s.map(h=>tc(h[dr])).filter(Boolean),a=await Ve.estudiantes.getAll({filters:{id:o}}),u=new Map(a.map(h=>[h.id,h])),d={};s.forEach(h=>{const p=h[Os]||"No especificado",y=tc(h[dr]),v=y?u.get(y):null,_=v?v[ar]:"Estudiante",w=v?String(v[Tr]):"---";d[p]||(d[p]=[]),d[p].push({nombre:_,legajo:w})});for(const h in d)d[h].sort((p,y)=>p.nombre.localeCompare(y.nombre));return d},H2=async(t,e,r,s)=>{const o=e?"Seleccionado":"Inscripto";try{if(await Ve.convocatorias.update(t,{[Rt]:o}),e){let a=s[ut];Array.isArray(a)&&(a=a[0]);const u=Me(a),d=Me(s[Xn]);a&&a!==u&&u.length>2&&(console.log(`[DATA SERVICE]  DETECTED DIRTY ROOT: Lanzamiento ${s.id} has dirty name. Cleaning source...`),Ve.lanzamientos.update(s.id,{[ut]:u}).catch(p=>console.warn("Failed to clean source launch",p)));const{data:h}=await Se.from("practicas").select(`id, ${cn}`).eq(Gs,r).eq(ts,s.id).maybeSingle();if(h){console.log("[DATA SERVICE] Practica already exists. Checking data integrity...");const p=h,y=p[cn],v=Array.isArray(y)?y[0]:String(y);v!==u&&(console.log(`[DATA SERVICE] Fixing dirty name: ${v} -> ${u}`),await Ve.practicas.update(p.id,{[cn]:[u],[Vr]:d}))}else{console.log(`[DATA SERVICE] Creating Practica. Name="${u}"`);let p=u;typeof p=="string"&&(p=p.replace(/^\{|^\[|\]$|\}$/g,"").replace(/^"|^'|"$|'$/g,""));const y={[Gs]:r,[ts]:s.id,[cn]:p,[Vr]:d,[rs]:s[$r],[Jt]:s[Br],[to]:0,[Ir]:"En curso",[zr]:"Sin calificar"};await Ve.practicas.create(y)}}else{const{data:a}=await Se.from("practicas").select("id").eq(Gs,r).eq(ts,s.id);if(a&&a.length>0){const u=a;for(const d of u)await Ve.practicas.delete(d.id)}}return{success:!0}}catch(a){return console.error("[DATA SERVICE] ERROR:",a),{success:!1,error:a.message}}},W2=async(t,e,r)=>{if(!e)throw new Error("No student ID");const s=t.name.split(".").pop(),o=`${e}/${r}_${Date.now()}.${s}`,{error:a}=await Se.storage.from("documentos_finalizacion").upload(o,t,{upsert:!0});if(a)throw a;const{data:u}=Se.storage.from("documentos_finalizacion").getPublicUrl(o);return u.publicUrl},q2=async(t,e)=>{const r={[Zu]:t,[Xu]:new Date().toISOString(),[ec]:"Pendiente",[uO]:JSON.stringify(e.informes),[cO]:JSON.stringify(e.horas),[dO]:JSON.stringify(e.asistencias),[hO]:e.sugerencias};await Ve.finalizacion.create(r)},G2=async t=>{try{return await Ve.finalizacion.delete(t),{success:!0,error:null}}catch(e){return{success:!1,error:e}}},K2=async(t,e)=>{try{const r=Me(e).replace(/[^a-z0-9]/gi,"_").toLowerCase(),s=t.name.split(".").pop(),o=`logos/${r}_${Date.now()}.${s}`,a="institution-logos",{error:u}=await Se.storage.from(a).upload(o,t,{upsert:!0});if(u)throw console.error("Upload Error (institution-logos):",u),new Error(`Error subiendo logo: ${u.message}`);const{data:d}=Se.storage.from(a).getPublicUrl(o);return d.publicUrl}catch(r){throw new Error(r.message||"Error desconocido al subir logo")}},Pb=new Date,oA=Pb.getFullYear(),Fe=(t=0)=>{const e=new Date(Pb);return e.setMonth(e.getMonth()+t),e.toISOString()},Nt=t=>new Date(oA,t,15).toISOString(),ev=[{id:"inst_1",created_at:Fe(-20),[As]:"Hospital Garrahan",[la]:"Pichincha 1890",[aa]:"4122-6000",[ua]:!0,[ca]:"Lic. Peralta"},{id:"inst_2",created_at:Fe(-20),[As]:"Clnica San Jorge",[la]:"Av. Maip 1234",[aa]:"4790-1000",[ua]:!1,[ca]:"Lic. Fernandez"},{id:"inst_3",created_at:Fe(-20),[As]:"Fundacin S",[la]:"ngel Carranza 1962",[aa]:"4775-6900",[ua]:!0,[ca]:"Lic. Gomez"},{id:"inst_4",created_at:Fe(-20),[As]:"ManpowerGroup",[la]:"F. Alcorta 3351",[aa]:"4809-5100",[ua]:!0,[ca]:"Lic. Martinez"},{id:"inst_5",created_at:Fe(-20),[As]:"Centro de Salud Mental N1",[la]:"Manuela Pedraza 1558",[aa]:"4702-7489",[ua]:!0,[ca]:"Lic. Lopez"}],tv=[{id:"st_999",created_at:Fe(-12),[Tr]:"99999",[ar]:"Usuario de Prueba",[Cr]:12345678,[lr]:"tester@uflo.edu.ar",[ur]:"Clinica",[Ri]:!1,[bb]:"Alumno para demostracin."},{id:"st_1",created_at:Fe(-10),[Tr]:"35123",[ar]:"Sofa Martnez",[Cr]:38111,[lr]:"sofia@test.com",[ur]:"Clinica",[Ri]:!1},{id:"st_2",created_at:Fe(-10),[Tr]:"36451",[ar]:"Lucas Prez",[Cr]:40222,[lr]:"lucas@test.com",[ur]:"Laboral",[Ri]:!1},{id:"st_3",created_at:Fe(-24),[Tr]:"33999",[ar]:"Camila Lpez",[Cr]:37333,[lr]:"cami@test.com",[ur]:"Educacional",[Ri]:!0,[jh]:Nt(2)},{id:"st_4",created_at:Fe(-24),[Tr]:"31000",[ar]:"Martn Garcia",[Cr]:35444,[lr]:"martin@test.com",[ur]:"Comunitaria",[Ri]:!0,[jh]:Nt(5)},{id:"st_5",created_at:Fe(-24),[Tr]:"32555",[ar]:"Ana Torres",[Cr]:39555,[lr]:"ana@test.com",[ur]:"Clinica",[Ri]:!0,[jh]:Nt(8)}],rv=[{id:"lanz_1",created_at:Fe(-6),[ut]:"Hospital Garrahan - Guardia Peditrica",[$r]:Nt(2),[Br]:Nt(6),[Xn]:"Clinica",[mu]:10,[cr]:"Abierta",[Di]:"Relanzamiento Confirmado",[gu]:"Lunes 8 a 12hs; Mircoles 8 a 12hs",[dn]:"Pichincha 1890",[Ls]:80},{id:"lanz_2",created_at:Fe(-5),[ut]:"Clnica San Jorge - Admisiones",[$r]:Nt(3),[Br]:Nt(7),[Xn]:"Clinica",[mu]:5,[cr]:"Cerrado",[Di]:"Relanzamiento Confirmado",[gu]:"Martes 14 a 18hs",[dn]:"Av. Maip 1234",[Ls]:60},{id:"lanz_3",created_at:Fe(-4),[ut]:"Fundacin S - Abordaje Comunitario",[$r]:Nt(4),[Br]:Nt(8),[Xn]:"Comunitaria",[mu]:15,[cr]:"Abierta",[Di]:"Relanzamiento Confirmado",[gu]:"Sbados 10 a 14hs",[dn]:"ngel Carranza 1962",[Ls]:40},{id:"lanz_4",created_at:Fe(-1),[ut]:"ManpowerGroup - Seleccin IT",[$r]:Nt(7),[Br]:Nt(11),[Xn]:"Laboral",[mu]:8,[cr]:"Abierta",[Di]:"Relanzamiento Confirmado",[gu]:"Full time",[dn]:"Remoto",[Ls]:120}],nv=[{id:"conv_1",created_at:Fe(-5),[hr]:"lanz_1",[dr]:"st_999",[Rt]:"Seleccionado",[Os]:"Lunes 8 a 12hs"},{id:"conv_2",created_at:Fe(-5),[hr]:"lanz_1",[dr]:"st_1",[Rt]:"Seleccionado",[Os]:"Mircoles 8 a 12hs"},{id:"conv_3",created_at:Fe(-5),[hr]:"lanz_1",[dr]:"st_2",[Rt]:"Inscripto",[Os]:"Lunes 8 a 12hs"},{id:"conv_4",created_at:Fe(-4),[hr]:"lanz_2",[dr]:"st_3",[Rt]:"Seleccionado",[Os]:"Martes 14 a 18hs"},{id:"conv_5",created_at:Fe(-2),[hr]:"lanz_3",[dr]:"st_4",[Rt]:"Inscripto",[Os]:"Sbados 10 a 14hs"}],sv=[{id:"prac_1",created_at:Fe(-2),[Gs]:"st_999",[ts]:"lanz_1",[to]:40,[Ir]:"En curso",[zr]:"Sin calificar",[Vr]:"Clinica",[rs]:Nt(2),[Jt]:Nt(6)},{id:"prac_2",created_at:Fe(-6),[Gs]:"st_3",[ts]:"lanz_2",[to]:60,[Ir]:"Finalizada",[zr]:"9",[Vr]:"Clinica",[rs]:Nt(3),[Jt]:Nt(7)}],iv=[{id:"sol_1",created_at:Fe(-1),[ro]:"Usuario de Prueba",[Yu]:"st_999",[Ju]:"Centro Racker",[Ta]:"Pendiente"},{id:"sol_2",created_at:Fe(-5),[ro]:"Lucas Prez",[Yu]:"st_2",[Ju]:"Clnica Esperanza",[Ta]:"Realizando convenio"}],ov=[{id:"fin_1",created_at:Fe(-1),[Zu]:"st_5",[Xu]:Fe(-1),[ec]:"Pendiente"},{id:"fin_2",created_at:Fe(-20),[Zu]:"st_3",[Xu]:Fe(-20),[ec]:"Cargado"}],av=[];class aA{constructor(){sr(this,"data",{estudiantes:[...tv],instituciones:[...ev],lanzamientos_pps:[...rv],practicas:[...sv],solicitudes_pps:[...iv],convocatorias:[...nv],penalizaciones:[...av],finalizacion_pps:[...ov]})}reset(){this.data={estudiantes:[...tv],instituciones:[...ev],lanzamientos_pps:[...rv],practicas:[...sv],solicitudes_pps:[...iv],convocatorias:[...nv],penalizaciones:[...av],finalizacion_pps:[...ov]}}async getAll(e,r){await new Promise(o=>setTimeout(o,300));let s=this.data[e]||[];return r&&(s=s.filter(o=>Object.entries(r).every(([a,u])=>Array.isArray(u)?u.includes(o[a]):typeof o[a]=="string"&&o[a].includes(",")?o[a].split(",").map(d=>d.trim()).includes(u):String(o[a])===String(u)))),JSON.parse(JSON.stringify(s))}async create(e,r){await new Promise(o=>setTimeout(o,400));const s={id:`mock_${e}_${Date.now()}`,created_at:new Date().toISOString(),...r};return this.data[e]||(this.data[e]=[]),this.data[e]=[s,...this.data[e]],s}async update(e,r,s){await new Promise(a=>setTimeout(a,300));const o=this.data[e].findIndex(a=>a.id===r);if(o===-1)throw new Error(`Record ${r} not found in mock db table ${e}`);return this.data[e][o]={...this.data[e][o],...s},this.data[e][o]}async delete(e,r){return await new Promise(s=>setTimeout(s,300)),this.data[e]=this.data[e].filter(s=>s.id!==r),{success:!0}}}const Ur=new aA,Fh=t=>t==null?!1:String(t).replace(/[\[\]"']/g,"").trim().length>2,lA=t=>{const e=lo(),{showModal:r}=Ba(),{data:s,isLoading:o,error:a,refetch:u}=Ma({queryKey:["student",t],queryFn:async()=>{if(t==="99999"){await new Promise(_=>setTimeout(_,500));const v=(await Ur.getAll("estudiantes",{legajo:"99999"}))[0];return{studentDetails:v,studentAirtableId:v.id}}return fc(t)},staleTime:1e3*60*5,refetchOnWindowFocus:!1}),d=(s==null?void 0:s.studentDetails)??null,h=(s==null?void 0:s.studentAirtableId)??null;O.useEffect(()=>{if(d&&h&&t!=="99999"){const v=d[zy],_=Fh(d[Cr])||Fh(d[lr])||Fh(d[Vu]);v==="Nuevo (Sin cuenta)"&&_&&(console.log(` Sanando estado para legajo ${t}...`),Ve.estudiantes.update(h,{[zy]:"Inactivo"}).then(()=>{e.invalidateQueries({queryKey:["metricsData"]})}))}},[d,h,t,e]);const p=Zi({mutationFn:async v=>{if(!h)throw new Error("ID no disponible.");return Ve.estudiantes.update(h,{[ur]:v||null})},onSuccess:()=>e.invalidateQueries({queryKey:["student",t]}),onError:v=>r("Error",`No se pudo guardar: ${v.message}`)}),y=Zi({mutationFn:async v=>{if(!h)throw new Error("ID no disponible.");return Ve.estudiantes.update(h,{[bb]:v||null})},onSuccess:()=>{e.invalidateQueries({queryKey:["student",t]}),r("xito","Notas guardadas correctamente.")},onError:v=>r("Error",`Error: ${v.message}`)});return{studentDetails:d,studentAirtableId:h,isStudentLoading:o,studentError:a,updateOrientation:p,updateInternalNotes:y,refetchStudent:u}},uA=t=>{const e=lo(),{showModal:r}=Ba(),{data:s=[],isLoading:o,error:a,refetch:u}=Ma({queryKey:["practicas",t],queryFn:async()=>{let p=[];t==="99999"?(await new Promise(_=>setTimeout(_,600)),p=await Ur.getAll("practicas",{[Gs]:"st_999"})):p=await rA(t);const y=new Date;y.setHours(0,0,0,0);const v=[];for(const _ of p)if(nt(_[Ir])==="en curso"&&_[Jt]){const x=rc(_[Jt]);x&&x<y&&(t==="99999"?await Ur.update("practicas",_.id,{[Ir]:"Finalizada"}):v.push(Ve.practicas.update(_.id,{[Ir]:"Finalizada"})),_[Ir]="Finalizada")}return v.length>0&&await Promise.all(v),p},staleTime:1e3*60*5,refetchOnWindowFocus:!0}),d=Zi({mutationFn:async({practicaId:p,nota:y,convocatoriaId:v})=>{if(t==="99999"){await Ur.update("practicas",p,{[zr]:y}),y==="No Entregado"&&v&&await Ur.update("convocatorias",v,{[Hu]:!1});return}const _=y==="Sin calificar"?null:y,w=[Ve.practicas.update(p,{[zr]:_})];return y==="No Entregado"&&v&&w.push(Ve.convocatorias.update(v,{[Hu]:!1})),Promise.all(w)},onSuccess:(p,y)=>{y.nota==="No Entregado"&&r("Actualizacin Exitosa",'El estado del informe se ha cambiado a "No Entregado".'),e.invalidateQueries({queryKey:["practicas",t]}),e.invalidateQueries({queryKey:["convocatorias",t]})},onError:()=>r("Error","No se pudo actualizar la nota.")}),h=Zi({mutationFn:async({practicaId:p,fecha:y})=>t==="99999"?Ur.update("practicas",p,{[Jt]:y}):Ve.practicas.update(p,{[Jt]:y}),onSuccess:()=>{e.invalidateQueries({queryKey:["practicas",t]}),r("Fecha Actualizada","La fecha de finalizacin se ha modificado correctamente.")},onError:p=>r("Error",`No se pudo actualizar la fecha: ${p.message}`)});return{practicas:s,isPracticasLoading:o,practicasError:a,updateNota:d,updateFechaFin:h,refetchPracticas:u}},cA=(t,e)=>{const{data:r=[],isLoading:s,error:o,refetch:a}=Ma({queryKey:["solicitudes",t],queryFn:async()=>t==="99999"?(await Ur.getAll("solicitudes_pps",{[Yu]:"st_999"})).filter(d=>d[Ta]!=="Archivado"):nA(t,e),enabled:!!t,staleTime:3e5,refetchOnWindowFocus:!0});return{solicitudes:r,isSolicitudesLoading:s,solicitudesError:o,refetchSolicitudes:a}},dA=(t,e,r,s)=>{const o=lo(),{showModal:a,openEnrollmentForm:u,closeEnrollmentForm:d,setIsSubmittingEnrollment:h}=Ba(),{data:p,isLoading:y,error:v,refetch:_}=Ma({queryKey:["convocatorias",t,e],queryFn:async()=>{if(t==="99999"){const[H,K]=await Promise.all([Ur.getAll("convocatorias",{[dr]:e||"st_999"}),Ur.getAll("lanzamientos_pps")]),G=new Map(K.map(se=>[se.id,se])),te=H.map(se=>{const ve=se[hr],de=G.get(ve);return{...se,[wa]:Ds(de==null?void 0:de[ut]),[Wu]:de==null?void 0:de[$r],[qu]:de==null?void 0:de[Br],[Gu]:de==null?void 0:de[dn],[Ku]:de==null?void 0:de[Xn],[Qu]:de==null?void 0:de[Ls]}}),Z=K.filter(se=>{const ve=nt(se[cr]),de=se[Di];return ve!=="oculto"&&de!=="Archivado"&&de!=="No se Relanza"}),X=new Map;return K.forEach(se=>{const ve=se[ut],de=se[dn];ve&&de&&X.set(nt(ve),de)}),{lanzamientos:Z,myEnrollments:te,allLanzamientos:K,institutionAddressMap:X,institutionLogoMap:new Map}}return iA(e)},enabled:!!e||s||t==="99999",staleTime:1e3*60*5,refetchOnWindowFocus:!0}),{lanzamientos:w=[],myEnrollments:x=[],allLanzamientos:S=[],institutionAddressMap:E=new Map,institutionLogoMap:N=new Map}=p||{},j=Zi({mutationFn:async({formData:H,selectedLanzamiento:K})=>{if(t==="99999"){await new Promise(X=>setTimeout(X,800));const Z={[hr]:K.id,[dr]:"st_999",[Rt]:"Inscripto",[wa]:Ds(K[ut]),[Wy]:H.cursandoElectivas?"S":"No"};return await Ur.create("convocatorias",Z),Z}if(!e)throw new Error("No student ID");(H.trabaja!==void 0||H.certificadoTrabajoUrl)&&await Ve.estudiantes.update(e,{[JI]:H.trabaja,[Lh]:H.certificadoTrabajoUrl||(r==null?void 0:r[Lh])});const G={[hr]:tc(K.id),[dr]:tc(e),[Rt]:"Inscripto",[nO]:H.terminoDeCursar?"S":"No",[Wy]:H.cursandoElectivas?"S":"No",[sO]:H.finalesAdeudados,[iO]:H.otraSituacionAcademica,[Os]:H.horarios.join("; "),[oO]:H.trabaja,[aO]:H.certificadoTrabajoUrl||(r==null?void 0:r[Lh]),[lO]:H.cvUrl,[wa]:Ds(K[ut]),[Wu]:K[$r],[qu]:K[Br],[Ku]:K[Xn],[Qu]:K[Ls],[Gu]:K[dn]},te=parseInt(t,10);return isNaN(te)||(G[XI]=te),r&&(G[tO]=r[lr],G[rO]=r[Vu],G[eO]=r[Cr]),Ve.convocatorias.create(G)},onMutate:async()=>{await o.cancelQueries({queryKey:["convocatorias",t,e]}),h(!0)},onError:H=>{a("Error",`Error: ${H.message}`)},onSuccess:()=>{a("Inscripcin Exitosa!","Tu solicitud ha sido registrada correctamente."),o.invalidateQueries({queryKey:["convocatorias",t,e]}),o.invalidateQueries({queryKey:["student",t]}),d()},onSettled:()=>{h(!1)}}),R=Zi({mutationFn:async H=>{if(t!=="99999"){if(H.practicaId&&H.convocatoriaId.startsWith("practica-"))return Ve.practicas.update(H.practicaId,{[zr]:"Entregado (sin corregir)"});if(H.convocatoriaId)return Ve.convocatorias.update(H.convocatoriaId,{[Hu]:!0,[Eb]:new Date().toISOString()})}},onSuccess:()=>{o.invalidateQueries({queryKey:["convocatorias",t,e]}),o.invalidateQueries({queryKey:["practicas",t]})}}),U={mutate:H=>{u(H,r,async K=>{await j.mutateAsync({formData:K,selectedLanzamiento:H})})},isPending:j.isPending};return{lanzamientos:w,myEnrollments:x,allLanzamientos:S,isConvocatoriasLoading:y,convocatoriasError:v,enrollStudent:U,confirmInforme:R,refetchConvocatorias:_,institutionAddressMap:E,institutionLogoMap:N}},hA=(t,e)=>{const{data:r=null,isLoading:s,error:o,refetch:a}=Ma({queryKey:["finalizacionRequest",t],queryFn:()=>sA(t,e),enabled:!!e,staleTime:3e5});return{finalizacionRequest:r,isFinalizationLoading:s,finalizationError:o,refetchFinalizacion:a}},lv={HOURS_TOTAL_REQUIRED:250,HOURS_SPECIALTY_REQUIRED:70},fA=t=>{const e=nt(t);return e==="en curso"||e==="pendiente"||e==="en proceso"},pA=t=>t.reduce((e,r)=>e+(r[to]||0),0),mA=(t,e)=>{if(!e)return 0;const r=nt(e);return t.filter(s=>nt(s[Vr])===r).reduce((s,o)=>s+(o[to]||0),0)},gA=t=>[...new Set(t.map(e=>e[Vr]).filter(Boolean).map(String))],yA=t=>t.some(e=>fA(e[Ir])),uv={horasObjetivoTotal:lv.HOURS_TOTAL_REQUIRED,horasObjetivoOrientacion:lv.HOURS_SPECIALTY_REQUIRED},jb={horasTotales:0,horasFaltantes250:uv.horasObjetivoTotal,cumpleHorasTotales:!1,horasOrientacionElegida:0,horasFaltantesOrientacion:uv.horasObjetivoOrientacion,cumpleHorasOrientacion:!1,orientacionesCursadasCount:0,orientacionesUnicas:[],cumpleRotacion:!1,tienePracticasPendientes:!1},vA=(t,e,r)=>{if(t.length===0)return{...jb,horasFaltantes250:r.horasObjetivoTotal,horasFaltantesOrientacion:r.horasObjetivoOrientacion};const s=pA(t),o=mA(t,e),a=gA(t),u=yA(t),d=s>=r.horasObjetivoTotal,h=o>=r.horasObjetivoOrientacion,p=a.length>=r.rotacionObjetivo;return{horasTotales:s,cumpleHorasTotales:d,horasOrientacionElegida:o,cumpleHorasOrientacion:h,orientacionesCursadasCount:a.length,orientacionesUnicas:a,cumpleRotacion:p,horasFaltantes250:Math.max(0,r.horasObjetivoTotal-s),horasFaltantesOrientacion:Math.max(0,r.horasObjetivoOrientacion-o),tienePracticasPendientes:u}};function _A({myEnrollments:t,allLanzamientos:e,practicas:r}){const s=new Map(e.map(v=>[v.id,v])),o=new Map;t.forEach(v=>{const _=v[hr];_&&(o.has(_)||o.set(_,[]),o.get(_).push(v))});const a=new Map,u={seleccionado:3,inscripto:2,"no seleccionado":1};o.forEach((v,_)=>{const w=v.reduce((x,S)=>{const E=nt(x[Rt]),N=nt(S[Rt]),j=u[E]||0;return(u[N]||0)>j?S:x});a.set(_,w)});const d=new Set,h=["finalizada","pps realizada","convenio realizado","aprobada"];r.forEach(v=>{const _=nt(v[Ir]);if(h.includes(_)){const w=v[ts];w&&d.add(w);const x=v[cn],S=String(x||"");if(S.trim()){const E=nt(S);d.add(E)}}});const p=[],y=new Set;for(const[v,_]of a.entries())if(nt(_[Rt])==="seleccionado"){const w=s.get(v);if(w&&w[yu]){const x=r.find(S=>S[ts]===w.id);p.push({convocatoriaId:_.id,practicaId:x==null?void 0:x.id,ppsName:w[ut]||"Prctica",informeLink:w[yu],fechaFinalizacion:w[Br]||new Date().toISOString(),informeSubido:!!_[Hu],nota:x==null?void 0:x[zr],fechaEntregaInforme:_[Eb]}),y.add(v)}}for(const v of r){const _=v[ts];if(_&&!y.has(_)){const w=s.get(_),x=nt(v[Ir]);w&&w[yu]&&h.includes(x)&&(p.push({convocatoriaId:`practica-${v.id}`,practicaId:v.id,ppsName:w[ut]||"Prctica",informeLink:w[yu],fechaFinalizacion:w[Br]||v[Jt]||new Date().toISOString(),informeSubido:!!v[zr],nota:v[zr]}),y.add(_))}}return p.sort((v,_)=>{var N,j;const w=!v.informeSubido,x=!_.informeSubido;if(w&&!x)return-1;if(!w&&x)return 1;const S=((N=rc(v.fechaFinalizacion))==null?void 0:N.getTime())||0,E=((j=rc(_.fechaFinalizacion))==null?void 0:j.getTime())||0;return S-E}),{enrollmentMap:a,completedLanzamientoIds:d,informeTasks:p}}const Lb=O.createContext(void 0),wA=({legajo:t,children:e})=>{const{isSuperUserMode:r}=ho(),s=PO(),{studentDetails:o,studentAirtableId:a,isStudentLoading:u,studentError:d,updateOrientation:h,updateInternalNotes:p,refetchStudent:y}=lA(t),{practicas:v,isPracticasLoading:_,practicasError:w,updateNota:x,updateFechaFin:S,refetchPracticas:E}=uA(t),{solicitudes:N,isSolicitudesLoading:j,solicitudesError:R,refetchSolicitudes:U}=cA(t,a),{lanzamientos:H,myEnrollments:K,allLanzamientos:G,isConvocatoriasLoading:te,convocatoriasError:Z,enrollStudent:X,confirmInforme:se,refetchConvocatorias:ve,institutionAddressMap:de,institutionLogoMap:W}=dA(t,a,o,r),{finalizacionRequest:P,isFinalizationLoading:z,finalizationError:$,refetchFinalizacion:F}=hA(t,a),q=u||_||j||te||z,V=d||w||R||Z||$,I=O.useCallback(()=>{y(),E(),U(),ve(),F()},[y,E,U,ve,F]),M=o&&o[ur]?o[ur]:"",re=O.useMemo(()=>q?jb:vA(v,M,s),[v,M,q,s]),{enrollmentMap:oe,completedLanzamientoIds:me,informeTasks:Ee}=O.useMemo(()=>te||_?{enrollmentMap:new Map,completedLanzamientoIds:new Set,informeTasks:[]}:_A({myEnrollments:K,allLanzamientos:G,practicas:v}),[K,G,v,te,_]),Ce={studentDetails:o,studentAirtableId:a,practicas:v,solicitudes:N,lanzamientos:H,allLanzamientos:G,institutionAddressMap:de,institutionLogoMap:W,finalizacionRequest:P,isLoading:q,isStudentLoading:u,isPracticasLoading:_,isSolicitudesLoading:j,isConvocatoriasLoading:te,isFinalizationLoading:z,error:V,updateOrientation:h,updateInternalNotes:p,updateNota:x,updateFechaFin:S,enrollStudent:X,confirmInforme:se,refetchAll:I,criterios:re,enrollmentMap:oe,completedLanzamientoIds:me,informeTasks:Ee};return g.jsx(Lb.Provider,{value:Ce,children:e})},bA=()=>{const t=O.useContext(Lb);if(!t)throw new Error("useStudentPanel must be used within a StudentPanelProvider");return t},EA=()=>{const{canInstall:t,triggerInstall:e}=Tb(),[r,s]=O.useState(!1),[o,a]=O.useState(!1);O.useEffect(()=>{t&&s(!0);const d=window.navigator.userAgent.toLowerCase(),h=/iphone|ipad|ipod/.test(d),p="standalone"in window.navigator&&window.navigator.standalone;h&&!p&&(a(!0),s(!0))},[t]);const u=()=>{o?alert("Para instalar en iOS: toca el botn 'Compartir' de Safari y selecciona 'Agregar a Inicio'."):e()};return r?g.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 z-[9999] md:hidden",children:g.jsxs("div",{className:"bg-slate-900/95 backdrop-blur-md text-white p-4 rounded-2xl shadow-2xl border border-white/10 flex items-center justify-between gap-4 animate-scale-in",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 bg-blue-500/20 rounded-xl",children:g.jsx("span",{className:"material-icons !text-2xl text-blue-400",children:"install_mobile"})}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-sm leading-tight text-white",children:"Instalar Aplicacin"}),g.jsx("p",{className:"text-[10px] text-slate-400 mt-0.5",children:"Acceso rpido y notificaciones"})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:u,className:"bg-blue-600 hover:bg-blue-500 text-white text-[11px] font-black px-4 py-2.5 rounded-xl shadow-lg shadow-blue-500/20 active:scale-95 transition-all uppercase tracking-tighter",children:"Instalar"}),g.jsx("button",{onClick:()=>s(!1),className:"p-1 text-slate-500 hover:text-white transition-colors",children:g.jsx("span",{className:"material-icons !text-lg",children:"close"})})]})]})}):null},SA=({title:t,description:e})=>g.jsxs("div",{className:"relative p-6 rounded-3xl border border-blue-100/60 dark:border-slate-800 shadow-lg overflow-hidden bg-gradient-to-br from-white via-blue-50/40 to-indigo-50/40 dark:from-slate-900 dark:via-[#0B1120] dark:to-slate-950 backdrop-blur-xl animate-fade-in-up group mb-6",children:[g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-400/20 to-indigo-400/20 rounded-full blur-2xl -mr-10 -mt-10 pointer-events-none"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-emerald-400/10 to-teal-400/10 rounded-full blur-2xl -ml-10 -mb-10 pointer-events-none"}),g.jsxs("div",{className:"relative z-10 flex flex-col gap-2",children:[g.jsx("h2",{className:"text-3xl sm:text-4xl font-black text-slate-800 dark:text-white tracking-tight leading-tight drop-shadow-sm",children:t}),e&&g.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 leading-relaxed mt-1 max-w-[95%]",children:e})]})]}),xA=({children:t,title:e,description:r,icon:s,actions:o,className:a="",style:u,titleAs:d="h2",titleClassName:h="",noPadding:p=!1,hoverable:y=!1})=>{const v=d;return g.jsxs("div",{className:`glass-panel rounded-3xl transition-all duration-300 ${y?"glass-card-hover cursor-pointer":""} ${a}`,style:u,children:[(e||r||o)&&g.jsxs("div",{className:`flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 border-b border-slate-100/50 dark:border-white/5 ${p?"p-6":"p-6 sm:p-8 mb-0"}`,children:[(e||r)&&g.jsxs("div",{className:"flex items-start gap-4 flex-grow",children:[s&&g.jsx("div",{className:"flex-shrink-0 bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-slate-800 dark:to-slate-700 text-blue-600 dark:text-blue-400 rounded-2xl h-12 w-12 flex items-center justify-center shadow-sm",children:g.jsx("span",{className:"material-icons !text-2xl",children:s})}),g.jsxs("div",{children:[e&&g.jsx(v,{className:`text-slate-900 dark:text-white text-xl font-black tracking-tight ${h}`,children:e}),r&&g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 font-medium text-sm leading-relaxed",children:r})]})]}),o&&g.jsx("div",{className:"flex-shrink-0 self-start sm:self-center",children:o})]}),g.jsx("div",{className:p?"":"p-6 sm:p-8 pt-0",children:t})]})},kA=({title:t,icon:e,children:r,description:s})=>g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"md:hidden animate-fade-in-up",children:[g.jsx(SA,{title:t,description:s}),g.jsx("div",{className:"mt-4",children:r})]}),g.jsx("div",{className:"hidden md:block animate-fade-in-up",children:g.jsx(xA,{title:t,icon:e,description:s,children:r})})]}),TA=({className:t="w-32 h-32"})=>g.jsxs("svg",{className:t,viewBox:"0 0 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("circle",{cx:"90",cy:"90",r:"50",className:"stroke-slate-200 dark:stroke-slate-700",strokeWidth:"8",strokeDasharray:"10 10"}),g.jsx("circle",{cx:"90",cy:"90",r:"30",className:"fill-blue-100 dark:fill-blue-900/30"}),g.jsx("path",{d:"M130 130L160 160",className:"stroke-slate-300 dark:stroke-slate-600",strokeWidth:"12",strokeLinecap:"round"}),g.jsx("circle",{cx:"110",cy:"70",r:"8",className:"fill-blue-400 dark:fill-blue-500 animate-pulse"})]}),CA=({className:t="w-32 h-32"})=>g.jsxs("svg",{className:t,viewBox:"0 0 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("rect",{x:"50",y:"40",width:"100",height:"120",rx:"10",className:"stroke-slate-200 dark:stroke-slate-700",strokeWidth:"8"}),g.jsx("path",{d:"M50 80H150",className:"stroke-slate-100 dark:stroke-slate-800",strokeWidth:"4"}),g.jsx("rect",{x:"70",y:"70",width:"60",height:"60",rx:"30",className:"fill-slate-50 dark:fill-slate-800/50 stroke-slate-200 dark:stroke-slate-700",strokeWidth:"4"}),g.jsx("path",{d:"M90 100L110 100",className:"stroke-slate-300 dark:stroke-slate-600",strokeWidth:"4",strokeLinecap:"round"}),g.jsx("circle",{cx:"130",cy:"140",r:"15",className:"fill-amber-100 dark:fill-amber-900/30 stroke-amber-200 dark:stroke-amber-700",strokeWidth:"4"})]}),IA=({className:t="w-32 h-32"})=>g.jsxs("svg",{className:t,viewBox:"0 0 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("circle",{cx:"100",cy:"100",r:"60",className:"fill-emerald-50 dark:fill-emerald-900/20 stroke-emerald-100 dark:stroke-emerald-800",strokeWidth:"4"}),g.jsx("path",{d:"M70 100L90 120L130 80",className:"stroke-emerald-500 dark:stroke-emerald-400",strokeWidth:"10",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("circle",{cx:"50",cy:"50",r:"5",className:"fill-emerald-300 animate-ping"}),g.jsx("circle",{cx:"150",cy:"150",r:"3",className:"fill-emerald-400 animate-bounce"})]}),OA=({className:t="w-32 h-32"})=>g.jsxs("svg",{className:t,viewBox:"0 0 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("path",{d:"M100 40L160 150H40L100 40Z",className:"fill-rose-50 dark:fill-rose-900/20 stroke-rose-200 dark:stroke-rose-800",strokeWidth:"6",strokeLinejoin:"round"}),g.jsx("path",{d:"M100 80V110",className:"stroke-rose-400 dark:stroke-rose-500",strokeWidth:"8",strokeLinecap:"round"}),g.jsx("circle",{cx:"100",cy:"130",r:"6",className:"fill-rose-500"})]}),AA=({className:t="w-32 h-32"})=>g.jsxs("svg",{className:t,viewBox:"0 0 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("rect",{x:"40",y:"140",width:"120",height:"20",rx:"4",className:"fill-slate-200 dark:fill-slate-700"}),g.jsx("path",{d:"M60 140L60 80L100 50L140 80L140 140",className:"stroke-slate-300 dark:stroke-slate-600",strokeWidth:"6",strokeLinejoin:"round"}),g.jsx("circle",{cx:"100",cy:"90",r:"15",className:"fill-indigo-100 dark:fill-indigo-900/30 stroke-indigo-300 dark:stroke-indigo-700",strokeWidth:"4"}),g.jsx("path",{d:"M90 90H110",className:"stroke-indigo-400",strokeWidth:"2"}),g.jsx("path",{d:"M100 80V100",className:"stroke-indigo-400",strokeWidth:"2"})]}),NA=({className:t="w-32 h-32"})=>g.jsxs("svg",{className:t,viewBox:"0 0 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("rect",{x:"60",y:"40",width:"80",height:"100",rx:"8",className:"fill-white dark:fill-slate-800 stroke-slate-200 dark:stroke-slate-600",strokeWidth:"4"}),g.jsx("path",{d:"M75 70H125",className:"stroke-blue-200 dark:stroke-blue-900",strokeWidth:"4",strokeLinecap:"round"}),g.jsx("path",{d:"M75 90H125",className:"stroke-blue-200 dark:stroke-blue-900",strokeWidth:"4",strokeLinecap:"round"}),g.jsx("path",{d:"M75 110H105",className:"stroke-blue-200 dark:stroke-blue-900",strokeWidth:"4",strokeLinecap:"round"}),g.jsx("rect",{x:"80",y:"110",width:"80",height:"60",rx:"8",className:"fill-blue-50 dark:fill-blue-900/40 stroke-blue-300 dark:stroke-blue-700",strokeWidth:"4"}),g.jsx("circle",{cx:"120",cy:"140",r:"12",className:"fill-blue-500"}),g.jsx("path",{d:"M115 140L118 143L125 136",className:"stroke-white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]}),RA=({icon:t,title:e,message:r,className:s="",action:o})=>{const a=()=>{const u="w-32 h-32 sm:w-40 sm:h-40 mx-auto drop-shadow-sm";switch(t){case"search_off":case"person_search":case"search":return g.jsx(TA,{className:u});case"error":case"warning":case"report":return g.jsx(OA,{className:u});case"check_circle":case"task_alt":case"verified":case"verified_user":return g.jsx(IA,{className:u});case"construction":case"pending_actions":return g.jsx(AA,{className:u});case"inbox":case"list_alt":case"description":case"folder_off":return g.jsx(NA,{className:u});default:return g.jsx(CA,{className:u})}};return g.jsxs("div",{className:`text-center py-12 px-6 rounded-3xl transition-all duration-300 ${s}`,children:[g.jsx("div",{className:"mb-6 animate-[subtle-bob_4s_ease-in-out_infinite]",children:a()}),g.jsx("h3",{className:"font-extrabold text-slate-900 dark:text-white text-xl sm:text-2xl tracking-tight mb-2",children:g.jsx("span",{children:e})}),g.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-sm sm:text-base font-medium max-w-md mx-auto leading-relaxed",children:g.jsx("span",{children:r})}),o&&g.jsx("div",{className:"mt-8 flex justify-center",children:o})]})},PA=["4","5","6","7","8","9","10"],jA=({onSelect:t,onClose:e,currentValue:r})=>{const s=(o,a)=>{o.preventDefault(),o.stopPropagation(),t(a)};return g.jsxs("div",{className:"absolute top-full right-0 mt-3 w-28 bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-slate-200 dark:border-slate-700 overflow-hidden animate-scale-in origin-top-right z-[100]",onMouseDown:o=>o.stopPropagation(),children:[g.jsx("div",{className:"absolute -top-2 right-4 w-4 h-4 bg-white dark:bg-slate-800 border-t border-l border-slate-200 dark:border-slate-700 transform rotate-45"}),g.jsxs("div",{className:"p-2 relative z-10 grid grid-cols-2 gap-1",children:[PA.map(o=>{const a=r===o;let u="hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-200 border-transparent";return a?u="bg-blue-600 text-white border-blue-600 shadow-md font-extrabold":parseInt(o)>=7?u="hover:bg-emerald-50 dark:hover:bg-emerald-900/30 hover:text-emerald-600 hover:border-emerald-200 border-slate-100 dark:border-slate-700":u="hover:bg-amber-50 dark:hover:bg-amber-900/30 hover:text-amber-600 hover:border-amber-200 border-slate-100 dark:border-slate-700",g.jsx("button",{type:"button",onMouseDown:d=>d.preventDefault(),onClick:d=>s(d,o),className:`
                        h-9 w-full rounded-lg font-bold text-sm border transition-all duration-150 flex items-center justify-center
                        ${u}
                    `,children:o},o)}),g.jsx("button",{type:"button",onMouseDown:o=>o.preventDefault(),onClick:o=>s(o,"Sin calificar"),className:"col-span-1 h-9 rounded-lg border border-slate-100 dark:border-slate-700 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 transition-colors flex items-center justify-center",title:"Borrar nota",children:g.jsx("span",{className:"material-icons !text-sm",children:"remove_circle_outline"})})]})]})},Ne=({className:t=""})=>g.jsx("div",{className:`animate-background-shine bg-slate-200 dark:bg-slate-700 rounded-md ${t}`}),Q2=()=>g.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 sm:p-8 rounded-2xl border border-slate-200/60 dark:border-slate-700 shadow-lg",children:g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[g.jsxs("div",{className:"lg:col-span-3 flex flex-col sm:flex-row items-center gap-8",children:[g.jsx("div",{className:"w-40 h-40 rounded-full bg-slate-200 dark:bg-slate-700 animate-background-shine flex-shrink-0"}),g.jsxs("div",{className:"flex-1 w-full space-y-4",children:[g.jsx(Ne,{className:"h-8 w-3/4"}),g.jsx(Ne,{className:"h-5 w-full"}),g.jsx(Ne,{className:"h-5 w-5/6"})]})]}),g.jsxs("div",{className:"lg:col-span-2 flex flex-col justify-center gap-8 border-t-2 lg:border-t-0 lg:border-l-2 border-slate-200/60 dark:border-slate-700 pt-8 lg:pt-0 lg:pl-8",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsx(Ne,{className:"h-6 w-1/2"}),g.jsx(Ne,{className:"h-4 w-full"})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx(Ne,{className:"h-6 w-1/2"}),g.jsx(Ne,{className:"h-10 w-full"})]})]})]})}),LA=()=>g.jsx("div",{className:"space-y-3",children:[...Array(5)].map((t,e)=>g.jsxs("div",{className:"flex items-center gap-4 p-2",children:[g.jsx(Ne,{className:"h-8 w-1/4"}),g.jsx(Ne,{className:"h-8 w-1/4"}),g.jsx(Ne,{className:"h-8 w-1/4"}),g.jsx(Ne,{className:"h-8 w-1/4"})]},e))}),J2=()=>g.jsxs("div",{className:"space-y-8 animate-fade-in",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsx(Ne,{className:"h-32 rounded-2xl"}),g.jsx(Ne,{className:"h-32 rounded-2xl"}),g.jsx(Ne,{className:"h-32 rounded-2xl"})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 h-96",children:[g.jsx(Ne,{className:"h-8 w-1/3 mb-6"}),g.jsxs("div",{className:"space-y-4",children:[g.jsx(Ne,{className:"h-16 w-full"}),g.jsx(Ne,{className:"h-16 w-full"}),g.jsx(Ne,{className:"h-16 w-full"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 h-80",children:[g.jsx(Ne,{className:"h-8 w-1/2 mb-6"}),g.jsx(Ne,{className:"h-12 w-full mb-4"}),g.jsx(Ne,{className:"h-12 w-full mb-4"})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-200 dark:border-slate-700 h-80",children:[g.jsx(Ne,{className:"h-8 w-1/2 mb-6"}),g.jsx(Ne,{className:"h-12 w-full mb-4"}),g.jsx(Ne,{className:"h-12 w-full mb-4"})]})]})]}),Y2=()=>g.jsxs("div",{className:"space-y-6 animate-fade-in",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[g.jsx(Ne,{className:"h-48 rounded-2xl"}),g.jsx(Ne,{className:"h-48 rounded-2xl"}),g.jsx(Ne,{className:"h-48 rounded-2xl"})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl h-96 border border-slate-200 dark:border-slate-700",children:[g.jsx(Ne,{className:"h-8 w-1/3 mb-6"}),g.jsxs("div",{className:"space-y-4",children:[g.jsx(Ne,{className:"h-10 w-full"}),g.jsx(Ne,{className:"h-10 w-full"}),g.jsx(Ne,{className:"h-10 w-full"})]})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl h-96 border border-slate-200 dark:border-slate-700",children:[g.jsx(Ne,{className:"h-8 w-1/3 mb-6"}),g.jsx(Ne,{className:"h-full w-full"})]})]})]}),DA=({nota:t,onClick:e,isSaving:r,isSuccess:s,isOpen:o})=>{const u=(h=>{const p=parseInt(h,10);return isNaN(p)?"text-slate-400 dark:text-slate-500 border-slate-200 bg-white dark:bg-slate-800 hover:border-blue-300 dark:hover:border-blue-700":p>=7?"text-emerald-600 dark:text-emerald-400 border-emerald-200 bg-emerald-50 dark:bg-emerald-900/20":p>=4?"text-amber-600 dark:text-amber-400 border-amber-200 bg-amber-50 dark:bg-amber-900/20":"text-rose-600 dark:text-rose-400 border-rose-200 bg-rose-50 dark:bg-rose-900/20"})(t),d=isNaN(parseInt(t,10))?"-":t;return g.jsx("div",{className:`
                relative flex items-center justify-center w-12 h-12 rounded-xl border-2 text-xl font-bold transition-all duration-300 cursor-pointer
                ${u} 
                ${r?"animate-pulse opacity-70":"hover:scale-105 hover:shadow-md"}
                ${o?"ring-4 ring-blue-100 dark:ring-blue-900/40 border-blue-400 z-50":""}
            `,onClick:h=>{h.stopPropagation(),e()},title:"Clic para editar nota",children:r?g.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):s?g.jsx("span",{className:"material-icons !text-lg",children:"check"}):d})},FA=({dateStr:t,onDateChange:e})=>{const[r,s]=O.useState(!1),o=t?t.split("T")[0]:"",a=d=>{s(!1),d.target.value&&d.target.value!==o&&e(d.target.value)},u=()=>{s(!0)};return r?g.jsx("input",{type:"date",autoFocus:!0,defaultValue:o,onBlur:a,onKeyDown:d=>{d.key==="Enter"&&d.currentTarget.blur()},className:"bg-white dark:bg-slate-800 border border-blue-500 rounded px-1 py-0.5 text-xs text-slate-800 dark:text-white outline-none w-28"}):g.jsxs("span",{onClick:u,className:"group/date relative cursor-default md:cursor-pointer flex items-center gap-1 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"Clic para editar fecha (Solo PC)",children:[_p(t),g.jsx("span",{className:"material-icons !text-[10px] opacity-0 group-hover/date:opacity-100 transition-opacity hidden md:inline-block",children:"edit"})]})},MA=({practica:t,onNotaChange:e,onFechaFinChange:r,isSaving:s,isSuccess:o})=>{const[a,u]=O.useState(!1),d=t[cn],h=Me(d)||"Institucin desconocida";let p=t[Ir];const y=new Date;if(y.setHours(0,0,0,0),nt(p)==="en curso"&&t[Jt]){const S=rc(t[Jt]);S&&S<y&&(p="Finalizada")}const v=wO(p||""),_=_O(t[Vr]||""),w=t[zr]||"Sin calificar",x=S=>{e(t.id,S),u(!1)};return g.jsxs("div",{className:`
                group relative bg-white dark:bg-slate-900 rounded-xl p-5 border border-slate-200 dark:border-slate-800 transition-all duration-300 flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between
                ${a?"z-[60] ring-1 ring-blue-200 dark:ring-blue-800":"z-10 shadow-sm hover:shadow-md"}
                border-l-[6px] ${_.leftBorder}
            `,children:[g.jsxs("div",{className:"pl-1 flex-1 min-w-0 w-full",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx("span",{className:`${_.tag} text-[10px] py-0.5 px-2 font-bold`,children:t[Vr]||"General"}),g.jsx("span",{className:`inline-flex items-center gap-1 text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wider ${v.labelClass} border bg-opacity-10`,children:p})]}),g.jsx("h3",{className:"text-base font-bold text-slate-900 dark:text-white pr-2 leading-tight break-words hyphens-auto",children:h}),g.jsx("div",{className:"flex items-center gap-3 text-xs text-slate-500 dark:text-slate-400 mt-1.5 font-medium",children:g.jsxs("div",{className:"flex items-center gap-1 bg-slate-50 dark:bg-slate-800/50 px-2 py-1 rounded border border-slate-100 dark:border-slate-700/50",children:[g.jsx("span",{className:"material-icons !text-sm opacity-70",children:"date_range"}),g.jsx("span",{children:_p(t[rs])}),g.jsx("span",{className:"mx-1",children:"-"}),g.jsx(FA,{dateStr:t[Jt]||null,onDateChange:S=>r&&r(t.id,S),label:"Fecha Fin"})]})})]}),g.jsxs("div",{className:"flex items-center gap-6 w-full sm:w-auto justify-between sm:justify-end border-t sm:border-t-0 border-slate-100 dark:border-slate-800 pt-3 sm:pt-0",children:[g.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[3rem] text-center",children:[g.jsx("p",{className:"text-2xl font-black text-slate-800 dark:text-slate-200 leading-none text-center w-full",children:t[to]||0}),g.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mt-0.5 text-center w-full",children:"Horas"})]}),g.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-700 hidden sm:block"}),g.jsxs("div",{className:"relative flex flex-col items-center",children:[g.jsx(DA,{nota:w,onClick:()=>!s&&u(!a),isSaving:s,isSuccess:o,isOpen:a}),g.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mt-1 text-center",children:"Nota"}),a&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed inset-0 z-40 cursor-default",onClick:S=>{S.stopPropagation(),u(!1)}}),g.jsx(jA,{onSelect:x,onClose:()=>u(!1),currentValue:w})]})]})]})]})},UA=({practicas:t,handleNotaChange:e,handleFechaFinChange:r,isLoading:s=!1})=>{console.log("[DEBUG] PracticasTable Props:",{practicasCount:t.length,hasDateHandler:!!r});const[o,a]=O.useState(null),[u,d]=O.useState(null),h=async(y,v)=>{a(y),await e(y,v),a(null),d(y),setTimeout(()=>d(null),2e3)};if(s)return g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsx("div",{className:"flex justify-between items-end px-2 mb-1",children:g.jsx("div",{className:"h-4 w-32 bg-slate-200 dark:bg-slate-800 rounded animate-pulse"})}),g.jsx(LA,{})]});if(t.length===0)return g.jsx(RA,{icon:"work_off",title:"Sin Prcticas",message:"An no tienes historial de prcticas registradas.",className:"bg-transparent border-none shadow-none p-0"});const p=[...t].sort((y,v)=>{const _=new Date(y[rs]||0).getTime();return new Date(v[rs]||0).getTime()-_});return g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsx("div",{className:"flex justify-between items-end px-2 mb-1",children:g.jsxs("h3",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:["Total: ",p.length," Prcticas"]})}),p.map(y=>g.jsx(MA,{practica:y,onNotaChange:h,onFechaFinChange:r,isSaving:o===y.id,isSuccess:u===y.id},y.id))]})},$A=()=>{const{practicas:t,updateNota:e,updateFechaFin:r}=bA();return g.jsx(kA,{icon:"work_history",title:g.jsxs("span",{children:["Historial de"," ",g.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400",children:"Practicas"})]}),description:"Detalle de todas las practicas realizadas y sus calificaciones.",children:g.jsx(UA,{practicas:t,handleNotaChange:(s,o,a)=>e.mutate({practicaId:s,nota:o,convocatoriaId:a}),handleFechaFinChange:(s,o)=>{alert("DEBUG: Fix Directo - Intentando guardar"),r.mutate({practicaId:s,fecha:o})}})})},BA=O.lazy(()=>ct(()=>import("./StudentView-DQYD1M7g.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url)),zA=O.lazy(()=>ct(()=>import("./StudentDashboard-CYdHwnBo.js"),__vite__mapDeps([5,6,4,7,8,3,9,10]),import.meta.url)),VA=O.lazy(()=>ct(()=>import("./StudentDashboard-CYdHwnBo.js"),__vite__mapDeps([5,6,4,7,8,3,9,10]),import.meta.url).then(t=>({default:t.StudentHome}))),HA=O.lazy(()=>ct(()=>import("./SolicitudesView-BnxB_s-3.js"),__vite__mapDeps([11,7]),import.meta.url)),WA=O.lazy(()=>ct(()=>import("./InformesView-DCeTkR1R.js"),[],import.meta.url)),qA=O.lazy(()=>ct(()=>import("./StudentProfileView-DRRr6qyo.js"),__vite__mapDeps([12,9]),import.meta.url)),GA=O.lazy(()=>ct(()=>import("./AdminView-CdlOGqdK.js"),__vite__mapDeps([13,1,2,3,4,14]),import.meta.url)),KA=O.lazy(()=>ct(()=>import("./AdminDashboard-DY_85m1t.js"),__vite__mapDeps([15,16]),import.meta.url)),QA=O.lazy(()=>ct(()=>import("./LanzadorView-D2gkQORg.js"),__vite__mapDeps([17,18,14,3,6,19,20,4,10,21,22]),import.meta.url)),JA=O.lazy(()=>ct(()=>import("./GestionView-B_7U3fEm.js"),__vite__mapDeps([23,18,14,3,24,20]),import.meta.url)),YA=O.lazy(()=>ct(()=>import("./HerramientasView-DaWaXahz.js"),__vite__mapDeps([25,18,14,3,26,19]),import.meta.url)),ZA=O.lazy(()=>ct(()=>import("./MetricsView-BZqAmMtr.js"),__vite__mapDeps([27,18,14,3,28,16]),import.meta.url)),XA=O.lazy(()=>ct(()=>import("./SolicitudesManager-Wubr94Ct.js"),__vite__mapDeps([29,18,14,3,21,20,22]),import.meta.url)),eN=O.lazy(()=>ct(()=>import("./JefeView-CPYqXY2Z.js"),__vite__mapDeps([30,26,24,20,5,6,4,7,8,3,9,10,28,16,18,14,31,1,2]),import.meta.url)),tN=O.lazy(()=>ct(()=>import("./DirectivoView-CAKWMaqp.js"),__vite__mapDeps([32,26,24,20,5,6,4,7,8,3,9,10,28,16,18,14,31,1,2]),import.meta.url)),rN=O.lazy(()=>ct(()=>import("./ReporteroView-C0PpOEm3.js"),__vite__mapDeps([33,8,3,28,16,18,14,31]),import.meta.url)),nN=O.lazy(()=>ct(()=>import("./AdminTestingView-DpSAZEjD.js"),__vite__mapDeps([34,13,1,2,3,4,14,5,6,7,8,9,10]),import.meta.url)),sN=()=>{const{legajo:t}=Sk();return t?g.jsx(wA,{legajo:t,children:g.jsx(zA,{showExportButton:!0},t)}):null},iN=()=>{const{authenticatedUser:t}=ho(),e=lc();return g.jsxs(Mk,{children:[g.jsx(Ke,{path:"/login",element:t?g.jsx(Kt,{to:"/"}):g.jsx(kO,{})}),g.jsx(Ke,{path:"/",element:g.jsx(Ss,{children:(t==null?void 0:t.role)==="AdminTester"?g.jsx(Kt,{to:"/testing",replace:!0}):(t==null?void 0:t.role)==="SuperUser"?g.jsx(Kt,{to:"/admin",replace:!0}):(t==null?void 0:t.role)==="Jefe"?g.jsx(Kt,{to:"/jefe",replace:!0}):(t==null?void 0:t.role)==="Directivo"?g.jsx(Kt,{to:"/directivo",replace:!0}):(t==null?void 0:t.role)==="Reportero"?g.jsx(Kt,{to:"/reportero",replace:!0}):g.jsx(Kt,{to:"/student",replace:!0})})}),g.jsxs(Ke,{path:"/student",element:g.jsx(Ss,{allowedRoles:["Student"],children:g.jsx(BA,{})}),children:[g.jsx(Ke,{index:!0,element:g.jsx(VA,{})}),g.jsx(Ke,{path:"practicas",element:g.jsx($A,{})}),g.jsx(Ke,{path:"solicitudes",element:g.jsx(HA,{})}),g.jsx(Ke,{path:"informes",element:g.jsx(WA,{})}),g.jsx(Ke,{path:"perfil",element:g.jsx(qA,{})})]}),g.jsxs(Ke,{path:"/admin",element:g.jsx(Ss,{allowedRoles:["SuperUser","AdminTester"],children:g.jsx(GA,{})}),children:[g.jsx(Ke,{index:!0,element:g.jsx(Kt,{to:"dashboard",replace:!0})}),g.jsx(Ke,{path:"dashboard",element:g.jsx(KA,{})}),g.jsx(Ke,{path:"metrics",element:g.jsx(ZA,{onStudentSelect:r=>e(`/admin/estudiantes/${r.legajo}`)})}),g.jsx(Ke,{path:"lanzador",element:g.jsx(QA,{})}),g.jsx(Ke,{path:"gestion",element:g.jsx(JA,{})}),g.jsx(Ke,{path:"solicitudes",element:g.jsx(XA,{})}),g.jsx(Ke,{path:"herramientas",element:g.jsx(YA,{onStudentSelect:r=>e(`/admin/estudiantes/${r[Tr]}`)})}),g.jsx(Ke,{path:"estudiantes/:legajo",element:g.jsx(sN,{})})]}),g.jsx(Ke,{path:"/jefe",element:g.jsx(Ss,{allowedRoles:["Jefe"],children:g.jsx(eN,{})})}),g.jsx(Ke,{path:"/directivo",element:g.jsx(Ss,{allowedRoles:["Directivo"],children:g.jsx(tN,{})})}),g.jsx(Ke,{path:"/reportero",element:g.jsx(Ss,{allowedRoles:["Reportero"],children:g.jsx(rN,{})})}),g.jsx(Ke,{path:"/testing",element:g.jsx(Ss,{allowedRoles:["SuperUser","AdminTester"],children:g.jsx(nN,{})})}),g.jsx(Ke,{path:"*",element:g.jsx(Kt,{to:"/",replace:!0})})]})},oN=()=>g.jsx(UO,{children:g.jsx(zk,{children:g.jsx(RO,{children:g.jsx(jO,{children:g.jsx(IO,{children:g.jsx(TO,{children:g.jsx(Hk,{children:g.jsx(yO,{children:g.jsx(FO,{children:g.jsxs(NO,{children:[g.jsx(EA,{}),g.jsx(O.Suspense,{fallback:g.jsx(V_,{}),children:g.jsx(iN,{})})]})})})})})})})})})});var aN=function(){return null};const xe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,De=globalThis,Ks="10.34.0";function pc(){return mc(De),De}function mc(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||Ks,e[Ks]=e[Ks]||{}}function fo(t,e,r=De){const s=r.__SENTRY__=r.__SENTRY__||{},o=s[Ks]=s[Ks]||{};return o[t]||(o[t]=e())}const lN=["debug","info","warn","error","log","assert","trace"],uN="Sentry Logger ",nc={};function po(t){if(!("console"in De))return t();const e=De.console,r={},s=Object.keys(nc);s.forEach(o=>{const a=nc[o];r[o]=e[o],e[o]=a});try{return t()}finally{s.forEach(o=>{e[o]=r[o]})}}function cN(){Ep().enabled=!0}function dN(){Ep().enabled=!1}function Db(){return Ep().enabled}function hN(...t){bp("log",...t)}function fN(...t){bp("warn",...t)}function pN(...t){bp("error",...t)}function bp(t,...e){xe&&Db()&&po(()=>{De.console[t](`${uN}[${t}]:`,...e)})}function Ep(){return xe?fo("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const we={enable:cN,disable:dN,isEnabled:Db,log:hN,warn:fN,error:pN},Fb=50,Ys="?",cv=/\(error: (.*)\)/,dv=/captureMessage|captureException/;function Mb(...t){const e=t.sort((r,s)=>r[0]-s[0]).map(r=>r[1]);return(r,s=0,o=0)=>{const a=[],u=r.split(`
`);for(let d=s;d<u.length;d++){let h=u[d];h.length>1024&&(h=h.slice(0,1024));const p=cv.test(h)?h.replace(cv,"$1"):h;if(!p.match(/\S*Error: /)){for(const y of e){const v=y(p);if(v){a.push(v);break}}if(a.length>=Fb+o)break}}return gN(a.slice(o))}}function mN(t){return Array.isArray(t)?Mb(...t):t}function gN(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(vu(e).function||"")&&e.pop(),e.reverse(),dv.test(vu(e).function||"")&&(e.pop(),dv.test(vu(e).function||"")&&e.pop()),e.slice(0,Fb).map(r=>({...r,filename:r.filename||vu(e).filename,function:r.function||Ys}))}function vu(t){return t[t.length-1]||{}}const Mh="<anonymous>";function ns(t){try{return!t||typeof t!="function"?Mh:t.name||Mh}catch{return Mh}}function hv(t){const e=t.exception;if(e){const r=[];try{return e.values.forEach(s=>{s.stacktrace.frames&&r.push(...s.stacktrace.frames)}),r}catch{return}}}function Ub(t){return"__v_isVNode"in t&&t.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const Cu={},fv={};function ei(t,e){Cu[t]=Cu[t]||[],Cu[t].push(e)}function ti(t,e){if(!fv[t]){fv[t]=!0;try{e()}catch(r){xe&&we.error(`Error while instrumenting ${t}`,r)}}}function Or(t,e){const r=t&&Cu[t];if(r)for(const s of r)try{s(e)}catch(o){xe&&we.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${ns(s)}
Error:`,o)}}let Uh=null;function yN(t){const e="error";ei(e,t),ti(e,vN)}function vN(){Uh=De.onerror,De.onerror=function(t,e,r,s,o){return Or("error",{column:s,error:o,line:r,msg:t,url:e}),Uh?Uh.apply(this,arguments):!1},De.onerror.__SENTRY_INSTRUMENTED__=!0}let $h=null;function _N(t){const e="unhandledrejection";ei(e,t),ti(e,wN)}function wN(){$h=De.onunhandledrejection,De.onunhandledrejection=function(t){return Or("unhandledrejection",t),$h?$h.apply(this,arguments):!0},De.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const $b=Object.prototype.toString;function gc(t){switch($b.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return ss(t,Error)}}function mo(t,e){return $b.call(t)===`[object ${e}]`}function Bb(t){return mo(t,"ErrorEvent")}function pv(t){return mo(t,"DOMError")}function bN(t){return mo(t,"DOMException")}function hn(t){return mo(t,"String")}function Sp(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function yc(t){return t===null||Sp(t)||typeof t!="object"&&typeof t!="function"}function Ca(t){return mo(t,"Object")}function vc(t){return typeof Event<"u"&&ss(t,Event)}function EN(t){return typeof Element<"u"&&ss(t,Element)}function SN(t){return mo(t,"RegExp")}function za(t){return!!(t!=null&&t.then&&typeof t.then=="function")}function xN(t){return Ca(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function ss(t,e){try{return t instanceof e}catch{return!1}}function zb(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue||t.__v_isVNode))}function Vb(t){return typeof Request<"u"&&ss(t,Request)}const xp=De,kN=80;function Hb(t,e={}){if(!t)return"<unknown>";try{let r=t;const s=5,o=[];let a=0,u=0;const d=" > ",h=d.length;let p;const y=Array.isArray(e)?e:e.keyAttrs,v=!Array.isArray(e)&&e.maxStringLength||kN;for(;r&&a++<s&&(p=TN(r,y),!(p==="html"||a>1&&u+o.length*h+p.length>=v));)o.push(p),u+=p.length,r=r.parentNode;return o.reverse().join(d)}catch{return"<unknown>"}}function TN(t,e){const r=t,s=[];if(!(r!=null&&r.tagName))return"";if(xp.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}s.push(r.tagName.toLowerCase());const o=e!=null&&e.length?e.filter(u=>r.getAttribute(u)).map(u=>[u,r.getAttribute(u)]):null;if(o!=null&&o.length)o.forEach(u=>{s.push(`[${u[0]}="${u[1]}"]`)});else{r.id&&s.push(`#${r.id}`);const u=r.className;if(u&&hn(u)){const d=u.split(/\s+/);for(const h of d)s.push(`.${h}`)}}const a=["aria-label","type","name","title","alt"];for(const u of a){const d=r.getAttribute(u);d&&s.push(`[${u}="${d}"]`)}return s.join("")}function kp(){try{return xp.document.location.href}catch{return""}}function CN(t){if(!xp.HTMLElement)return null;let e=t;const r=5;for(let s=0;s<r;s++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}function Yt(t,e,r){if(!(e in t))return;const s=t[e];if(typeof s!="function")return;const o=r(s);typeof o=="function"&&Wb(o,s);try{t[e]=o}catch{xe&&we.log(`Failed to replace method "${e}" in object`,t)}}function is(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{xe&&we.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function Wb(t,e){try{const r=e.prototype||{};t.prototype=e.prototype=r,is(t,"__sentry_original__",e)}catch{}}function Tp(t){return t.__sentry_original__}function qb(t){if(gc(t))return{message:t.message,name:t.name,stack:t.stack,...gv(t)};if(vc(t)){const e={type:t.type,target:mv(t.target),currentTarget:mv(t.currentTarget),...gv(t)};return typeof CustomEvent<"u"&&ss(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function mv(t){try{return EN(t)?Hb(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function gv(t){if(typeof t=="object"&&t!==null){const e={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}function IN(t){const e=Object.keys(qb(t));return e.sort(),e[0]?e.join(", "):"[object has no keys]"}let Pi;function _c(t){if(Pi!==void 0)return Pi?Pi(t):t();const e=Symbol.for("__SENTRY_SAFE_RANDOM_ID_WRAPPER__"),r=De;return e in r&&typeof r[e]=="function"?(Pi=r[e],Pi(t)):(Pi=null,t())}function sc(){return _c(()=>Math.random())}function wc(){return _c(()=>Date.now())}function Lf(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function yv(t,e){if(!Array.isArray(t))return"";const r=[];for(let s=0;s<t.length;s++){const o=t[s];try{zb(o)?r.push(Ub(o)):r.push(String(o))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}function Iu(t,e,r=!1){return hn(t)?SN(e)?e.test(t):hn(e)?r?t===e:t.includes(e):!1:!1}function bc(t,e=[],r=!1){return e.some(s=>Iu(t,s,r))}function ON(){const t=De;return t.crypto||t.msCrypto}let Bh;function AN(){return sc()*16}function fr(t=ON()){try{if(t!=null&&t.randomUUID)return _c(()=>t.randomUUID()).replace(/-/g,"")}catch{}return Bh||(Bh="10000000100040008000"+1e11),Bh.replace(/[018]/g,e=>(e^(AN()&15)>>e/4).toString(16))}function Gb(t){var e,r;return(r=(e=t.exception)==null?void 0:e.values)==null?void 0:r[0]}function Ns(t){const{message:e,event_id:r}=t;if(e)return e;const s=Gb(t);return s?s.type&&s.value?`${s.type}: ${s.value}`:s.type||s.value||r||"<unknown>":r||"<unknown>"}function Df(t,e,r){const s=t.exception=t.exception||{},o=s.values=s.values||[],a=o[0]=o[0]||{};a.value||(a.value=e||""),a.type||(a.type="Error")}function no(t,e){const r=Gb(t);if(!r)return;const s={type:"generic",handled:!0},o=r.mechanism;if(r.mechanism={...s,...o,...e},e&&"data"in e){const a={...o==null?void 0:o.data,...e.data};r.mechanism.data=a}}function vv(t){if(NN(t))return!0;try{is(t,"__sentry_captured__",!0)}catch{}return!1}function NN(t){try{return t.__sentry_captured__}catch{}}const Kb=1e3;function Va(){return wc()/Kb}function RN(){const{performance:t}=De;if(!(t!=null&&t.now)||!t.timeOrigin)return Va;const e=t.timeOrigin;return()=>(e+_c(()=>t.now()))/Kb}let _v;function fn(){return(_v??(_v=RN()))()}function PN(t){const e=fn(),r={sid:fr(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>LN(r)};return t&&so(r,t),r}function so(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||fn(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:fr()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function jN(t,e){let r={};t.status==="ok"&&(r={status:"exited"}),so(t,r)}function LN(t){return{sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}}}function Ha(t,e,r=2){if(!e||typeof e!="object"||r<=0)return e;if(t&&Object.keys(e).length===0)return t;const s={...t};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(s[o]=Ha(s[o],e[o],r-1));return s}function wv(){return fr()}function Qb(){return fr().substring(16)}const Ff="_sentrySpan";function bv(t,e){e?is(t,Ff,e):delete t[Ff]}function Ev(t){return t[Ff]}const DN=100;class mn{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:wv(),sampleRand:sc()}}clone(){const e=new mn;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._attributes={...this._attributes},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,bv(e,Ev(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&so(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this.setTags({[e]:r})}setAttributes(e){return this._attributes={...this._attributes,...e},this._notifyScopeListeners(),this}setAttribute(e,r){return this.setAttributes({[e]:r})}removeAttribute(e){return e in this._attributes&&(delete this._attributes[e],this._notifyScopeListeners()),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const r=typeof e=="function"?e(this):e,s=r instanceof mn?r.getScopeData():Ca(r)?e:void 0,{tags:o,attributes:a,extra:u,user:d,contexts:h,level:p,fingerprint:y=[],propagationContext:v}=s||{};return this._tags={...this._tags,...o},this._attributes={...this._attributes,...a},this._extra={...this._extra,...u},this._contexts={...this._contexts,...h},d&&Object.keys(d).length&&(this._user=d),p&&(this._level=p),y.length&&(this._fingerprint=y),v&&(this._propagationContext=v),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,bv(this,void 0),this._attachments=[],this.setPropagationContext({traceId:wv(),sampleRand:sc()}),this._notifyScopeListeners(),this}addBreadcrumb(e,r){var a;const s=typeof r=="number"?r:DN;if(s<=0)return this;const o={timestamp:Va(),...e,message:e.message?Lf(e.message,2048):e.message};return this._breadcrumbs.push(o),this._breadcrumbs.length>s&&(this._breadcrumbs=this._breadcrumbs.slice(-s),(a=this._client)==null||a.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Ev(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=Ha(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,r){const s=(r==null?void 0:r.event_id)||fr();if(!this._client)return xe&&we.warn("No client configured on scope - will not capture exception!"),s;const o=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:o,...r,event_id:s},this),s}captureMessage(e,r,s){const o=(s==null?void 0:s.event_id)||fr();if(!this._client)return xe&&we.warn("No client configured on scope - will not capture message!"),o;const a=(s==null?void 0:s.syntheticException)??new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:a,...s,event_id:o},this),o}captureEvent(e,r){const s=(r==null?void 0:r.event_id)||fr();return this._client?(this._client.captureEvent(e,{...r,event_id:s},this),s):(xe&&we.warn("No client configured on scope - will not capture event!"),s)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function FN(){return fo("defaultCurrentScope",()=>new mn)}function MN(){return fo("defaultIsolationScope",()=>new mn)}class UN{constructor(e,r){let s;e?s=e:s=new mn;let o;r?o=r:o=new mn,this._stack=[{scope:s}],this._isolationScope=o}withScope(e){const r=this._pushScope();let s;try{s=e(r)}catch(o){throw this._popScope(),o}return za(s)?s.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),s)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function io(){const t=pc(),e=mc(t);return e.stack=e.stack||new UN(FN(),MN())}function $N(t){return io().withScope(t)}function BN(t,e){const r=io();return r.withScope(()=>(r.getStackTop().scope=t,e(t)))}function Sv(t){return io().withScope(()=>t(io().getIsolationScope()))}function zN(){return{withIsolationScope:Sv,withScope:$N,withSetScope:BN,withSetIsolationScope:(t,e)=>Sv(e),getCurrentScope:()=>io().getScope(),getIsolationScope:()=>io().getIsolationScope()}}function Cp(t){const e=mc(t);return e.acs?e.acs:zN()}function vn(){const t=pc();return Cp(t).getCurrentScope()}function go(){const t=pc();return Cp(t).getIsolationScope()}function VN(){return fo("globalScope",()=>new mn)}function Jb(...t){const e=pc(),r=Cp(e);if(t.length===2){const[s,o]=t;return s?r.withSetScope(s,o):r.withScope(o)}return r.withScope(t[0])}function kt(){return vn().getClient()}function HN(t){const e=t.getPropagationContext(),{traceId:r,parentSpanId:s,propagationSpanId:o}=e,a={trace_id:r,span_id:o||Qb()};return s&&(a.parent_span_id=s),a}const WN="sentry.source",qN="sentry.sample_rate",GN="sentry.previous_trace_sample_rate",KN="sentry.op",QN="sentry.origin",Yb="sentry.profile_id",Zb="sentry.exclusive_time",JN=0,YN=1,ZN="_sentryScope",XN="_sentryIsolationScope";function eR(t){if(t){if(typeof t=="object"&&"deref"in t&&typeof t.deref=="function")try{return t.deref()}catch{return}return t}}function Xb(t){const e=t;return{scope:e[ZN],isolationScope:eR(e[XN])}}const tR="sentry-",rR=/^sentry-/;function nR(t){const e=sR(t);if(!e)return;const r=Object.entries(e).reduce((s,[o,a])=>{if(o.match(rR)){const u=o.slice(tR.length);s[u]=a}return s},{});if(Object.keys(r).length>0)return r}function sR(t){if(!(!t||!hn(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,r)=>{const s=xv(r);return Object.entries(s).forEach(([o,a])=>{e[o]=a}),e},{}):xv(t)}function xv(t){return t.split(",").map(e=>{const r=e.indexOf("=");if(r===-1)return[];const s=e.slice(0,r),o=e.slice(r+1);return[s,o].map(a=>{try{return decodeURIComponent(a.trim())}catch{return}})}).reduce((e,[r,s])=>(r&&s&&(e[r]=s),e),{})}const iR=/^o(\d+)\./,oR=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)((?:\[[:.%\w]+\]|[\w.-]+))(?::(\d+))?\/(.+)/;function aR(t){return t==="http"||t==="https"}function Wa(t,e=!1){const{host:r,path:s,pass:o,port:a,projectId:u,protocol:d,publicKey:h}=t;return`${d}://${h}${e&&o?`:${o}`:""}@${r}${a?`:${a}`:""}/${s&&`${s}/`}${u}`}function lR(t){const e=oR.exec(t);if(!e){po(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}const[r,s,o="",a="",u="",d=""]=e.slice(1);let h="",p=d;const y=p.split("/");if(y.length>1&&(h=y.slice(0,-1).join("/"),p=y.pop()),p){const v=p.match(/^\d+/);v&&(p=v[0])}return eE({host:a,pass:o,path:h,projectId:p,port:u,protocol:r,publicKey:s})}function eE(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function uR(t){if(!xe)return!0;const{port:e,projectId:r,protocol:s}=t;return["protocol","publicKey","host","projectId"].find(u=>t[u]?!1:(we.error(`Invalid Sentry Dsn: ${u} missing`),!0))?!1:r.match(/^\d+$/)?aR(s)?e&&isNaN(parseInt(e,10))?(we.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(we.error(`Invalid Sentry Dsn: Invalid protocol ${s}`),!1):(we.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function cR(t){const e=t.match(iR);return e==null?void 0:e[1]}function dR(t){const e=t.getOptions(),{host:r}=t.getDsn()||{};let s;return e.orgId?s=String(e.orgId):r&&(s=cR(r)),s}function hR(t){const e=typeof t=="string"?lR(t):eE(t);if(!(!e||!uR(e)))return e}function fR(t){if(typeof t=="boolean")return Number(t);const e=typeof t=="string"?parseFloat(t):t;if(!(typeof e!="number"||isNaN(e)||e<0||e>1))return e}const tE=1;let kv=!1;function pR(t){const{spanId:e,traceId:r,isRemote:s}=t.spanContext(),o=s?e:Ip(t).parent_span_id,a=Xb(t).scope,u=s?(a==null?void 0:a.getPropagationContext().propagationSpanId)||Qb():e;return{parent_span_id:o,span_id:u,trace_id:r}}function mR(t){if(t&&t.length>0)return t.map(({context:{spanId:e,traceId:r,traceFlags:s,...o},attributes:a})=>({span_id:e,trace_id:r,sampled:s===tE,attributes:a,...o}))}function Tv(t){return typeof t=="number"?Cv(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?Cv(t.getTime()):fn()}function Cv(t){return t>9999999999?t/1e3:t}function Ip(t){var s;if(yR(t))return t.getSpanJSON();const{spanId:e,traceId:r}=t.spanContext();if(gR(t)){const{attributes:o,startTime:a,name:u,endTime:d,status:h,links:p}=t,y="parentSpanId"in t?t.parentSpanId:"parentSpanContext"in t?(s=t.parentSpanContext)==null?void 0:s.spanId:void 0;return{span_id:e,trace_id:r,data:o,description:u,parent_span_id:y,start_timestamp:Tv(a),timestamp:Tv(d)||void 0,status:_R(h),op:o[KN],origin:o[QN],links:mR(p)}}return{span_id:e,trace_id:r,start_timestamp:0,data:{}}}function gR(t){const e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}function yR(t){return typeof t.getSpanJSON=="function"}function vR(t){const{traceFlags:e}=t.spanContext();return e===tE}function _R(t){if(!(!t||t.code===JN))return t.code===YN?"ok":t.message||"internal_error"}const wR="_sentryRootSpan";function rE(t){return t[wR]||t}function Iv(){kv||(po(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),kv=!0)}function bR(t){var r;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=(r=kt())==null?void 0:r.getOptions();return!!e&&(e.tracesSampleRate!=null||!!e.tracesSampler)}function Ov(t){we.log(`Ignoring span ${t.op} - ${t.description} because it matches \`ignoreSpans\`.`)}function Av(t,e){if(!(e!=null&&e.length)||!t.description)return!1;for(const r of e){if(SR(r)){if(Iu(t.description,r))return xe&&Ov(t),!0;continue}if(!r.name&&!r.op)continue;const s=r.name?Iu(t.description,r.name):!0,o=r.op?t.op&&Iu(t.op,r.op):!0;if(s&&o)return xe&&Ov(t),!0}return!1}function ER(t,e){const r=e.parent_span_id,s=e.span_id;if(r)for(const o of t)o.parent_span_id===s&&(o.parent_span_id=r)}function SR(t){return typeof t=="string"||t instanceof RegExp}const Op="production",xR="_frozenDsc";function nE(t,e){const r=e.getOptions(),{publicKey:s}=e.getDsn()||{},o={environment:r.environment||Op,release:r.release,public_key:s,trace_id:t,org_id:dR(e)};return e.emit("createDsc",o),o}function kR(t,e){const r=e.getPropagationContext();return r.dsc||nE(r.traceId,t)}function TR(t){var x;const e=kt();if(!e)return{};const r=rE(t),s=Ip(r),o=s.data,a=r.spanContext().traceState,u=(a==null?void 0:a.get("sentry.sample_rate"))??o[qN]??o[GN];function d(S){return(typeof u=="number"||typeof u=="string")&&(S.sample_rate=`${u}`),S}const h=r[xR];if(h)return d(h);const p=a==null?void 0:a.get("sentry.dsc"),y=p&&nR(p);if(y)return d(y);const v=nE(t.spanContext().traceId,e),_=o[WN],w=s.description;return _!=="url"&&w&&(v.transaction=w),bR()&&(v.sampled=String(vR(r)),v.sample_rand=(a==null?void 0:a.get("sentry.sample_rand"))??((x=Xb(r).scope)==null?void 0:x.getPropagationContext().sampleRand.toString())),d(v),e.emit("createDsc",v,r),v}function sn(t,e=100,r=1/0){try{return Mf("",t,e,r)}catch(s){return{ERROR:`**non-serializable** (${s})`}}}function sE(t,e=3,r=100*1024){const s=sn(t,e);return AR(s)>r?sE(t,e-1,r):s}function Mf(t,e,r=1/0,s=1/0,o=NR()){const[a,u]=o;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const d=CR(t,e);if(!d.startsWith("[object "))return d;if(e.__sentry_skip_normalization__)return e;const h=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(h===0)return d.replace("object ","");if(a(e))return"[Circular ~]";const p=e;if(p&&typeof p.toJSON=="function")try{const w=p.toJSON();return Mf("",w,h-1,s,o)}catch{}const y=Array.isArray(e)?[]:{};let v=0;const _=qb(e);for(const w in _){if(!Object.prototype.hasOwnProperty.call(_,w))continue;if(v>=s){y[w]="[MaxProperties ~]";break}const x=_[w];y[w]=Mf(w,x,h-1,s,o),v++}return u(e),y}function CR(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(zb(e))return Ub(e);if(xN(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${ns(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const r=IR(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function IR(t){const e=Object.getPrototypeOf(t);return e!=null&&e.constructor?e.constructor.name:"null prototype"}function OR(t){return~-encodeURI(t).split(/%..|./).length}function AR(t){return OR(JSON.stringify(t))}function NR(){const t=new WeakSet;function e(s){return t.has(s)?!0:(t.add(s),!1)}function r(s){t.delete(s)}return[e,r]}function yo(t,e=[]){return[t,e]}function RR(t,e){const[r,s]=t;return[r,[...s,e]]}function Uf(t,e){const r=t[1];for(const s of r){const o=s[0].type;if(e(s,o))return!0}return!1}function PR(t,e){return Uf(t,(r,s)=>e.includes(s))}function $f(t){const e=mc(De);return e.encodePolyfill?e.encodePolyfill(t):new TextEncoder().encode(t)}function jR(t){const[e,r]=t;let s=JSON.stringify(e);function o(a){typeof s=="string"?s=typeof a=="string"?s+a:[$f(s),a]:s.push(typeof a=="string"?$f(a):a)}for(const a of r){const[u,d]=a;if(o(`
${JSON.stringify(u)}
`),typeof d=="string"||d instanceof Uint8Array)o(d);else{let h;try{h=JSON.stringify(d)}catch{h=JSON.stringify(sn(d))}o(h)}}return typeof s=="string"?s:LR(s)}function LR(t){const e=t.reduce((o,a)=>o+a.length,0),r=new Uint8Array(e);let s=0;for(const o of t)r.set(o,s),s+=o.length;return r}function DR(t){const e=typeof t.data=="string"?$f(t.data):t.data;return[{type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType},e]}const FR={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function Nv(t){return FR[t]}function iE(t){if(!(t!=null&&t.sdk))return;const{name:e,version:r}=t.sdk;return{name:e,version:r}}function MR(t,e,r,s){var a;const o=(a=t.sdkProcessingMetadata)==null?void 0:a.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&s&&{dsn:Wa(s)},...o&&{trace:o}}}function UR(t,e){var s,o,a,u;if(!e)return t;const r=t.sdk||{};return t.sdk={...r,name:r.name||e.name,version:r.version||e.version,integrations:[...((s=t.sdk)==null?void 0:s.integrations)||[],...e.integrations||[]],packages:[...((o=t.sdk)==null?void 0:o.packages)||[],...e.packages||[]],settings:(a=t.sdk)!=null&&a.settings||e.settings?{...(u=t.sdk)==null?void 0:u.settings,...e.settings}:void 0},t}function $R(t,e,r,s){const o=iE(r),a={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!s&&e&&{dsn:Wa(e)}},u="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return yo(a,[u])}function BR(t,e,r,s){const o=iE(r),a=t.type&&t.type!=="replay_event"?t.type:"event";UR(t,r==null?void 0:r.sdk);const u=MR(t,o,s,e);return delete t.sdkProcessingMetadata,yo(u,[[{type:a},t]])}const zh=0,Rv=1,Pv=2;function Ec(t){return new Ia(e=>{e(t)})}function Ap(t){return new Ia((e,r)=>{r(t)})}class Ia{constructor(e){this._state=zh,this._handlers=[],this._runExecutor(e)}then(e,r){return new Ia((s,o)=>{this._handlers.push([!1,a=>{if(!e)s(a);else try{s(e(a))}catch(u){o(u)}},a=>{if(!r)o(a);else try{s(r(a))}catch(u){o(u)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new Ia((r,s)=>{let o,a;return this.then(u=>{a=!1,o=u,e&&e()},u=>{a=!0,o=u,e&&e()}).then(()=>{if(a){s(o);return}r(o)})})}_executeHandlers(){if(this._state===zh)return;const e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===Rv&&r[1](this._value),this._state===Pv&&r[2](this._value),r[0]=!0)})}_runExecutor(e){const r=(a,u)=>{if(this._state===zh){if(za(u)){u.then(s,o);return}this._state=a,this._value=u,this._executeHandlers()}},s=a=>{r(Rv,a)},o=a=>{r(Pv,a)};try{e(s,o)}catch(a){o(a)}}}function zR(t,e,r,s=0){try{const o=Bf(e,r,t,s);return za(o)?o:Ec(o)}catch(o){return Ap(o)}}function Bf(t,e,r,s){const o=r[s];if(!t||!o)return t;const a=o({...t},e);return xe&&a===null&&we.log(`Event processor "${o.id||"?"}" dropped event`),za(a)?a.then(u=>Bf(u,e,r,s+1)):Bf(a,e,r,s+1)}let rn,jv,Lv,Un;function VR(t){const e=De._sentryDebugIds,r=De._debugIds;if(!e&&!r)return{};const s=e?Object.keys(e):[],o=r?Object.keys(r):[];if(Un&&s.length===jv&&o.length===Lv)return Un;jv=s.length,Lv=o.length,Un={},rn||(rn={});const a=(u,d)=>{for(const h of u){const p=d[h],y=rn==null?void 0:rn[h];if(y&&Un&&p)Un[y[0]]=p,rn&&(rn[h]=[y[0],p]);else if(p){const v=t(h);for(let _=v.length-1;_>=0;_--){const w=v[_],x=w==null?void 0:w.filename;if(x&&Un&&rn){Un[x]=p,rn[h]=[x,p];break}}}}};return e&&a(s,e),r&&a(o,r),Un}function HR(t,e){const{fingerprint:r,span:s,breadcrumbs:o,sdkProcessingMetadata:a}=e;qR(t,e),s&&QR(t,s),JR(t,r),GR(t,o),KR(t,a)}function Dv(t,e){const{extra:r,tags:s,attributes:o,user:a,contexts:u,level:d,sdkProcessingMetadata:h,breadcrumbs:p,fingerprint:y,eventProcessors:v,attachments:_,propagationContext:w,transactionName:x,span:S}=e;ha(t,"extra",r),ha(t,"tags",s),ha(t,"attributes",o),ha(t,"user",a),ha(t,"contexts",u),t.sdkProcessingMetadata=Ha(t.sdkProcessingMetadata,h,2),d&&(t.level=d),x&&(t.transactionName=x),S&&(t.span=S),p.length&&(t.breadcrumbs=[...t.breadcrumbs,...p]),y.length&&(t.fingerprint=[...t.fingerprint,...y]),v.length&&(t.eventProcessors=[...t.eventProcessors,...v]),_.length&&(t.attachments=[...t.attachments,..._]),t.propagationContext={...t.propagationContext,...w}}function ha(t,e,r){t[e]=Ha(t[e],r,1)}function WR(t,e){const r=VN().getScopeData();return t&&Dv(r,t.getScopeData()),e&&Dv(r,e.getScopeData()),r}function qR(t,e){const{extra:r,tags:s,user:o,contexts:a,level:u,transactionName:d}=e;Object.keys(r).length&&(t.extra={...r,...t.extra}),Object.keys(s).length&&(t.tags={...s,...t.tags}),Object.keys(o).length&&(t.user={...o,...t.user}),Object.keys(a).length&&(t.contexts={...a,...t.contexts}),u&&(t.level=u),d&&t.type!=="transaction"&&(t.transaction=d)}function GR(t,e){const r=[...t.breadcrumbs||[],...e];t.breadcrumbs=r.length?r:void 0}function KR(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function QR(t,e){t.contexts={trace:pR(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:TR(e),...t.sdkProcessingMetadata};const r=rE(e),s=Ip(r).description;s&&!t.transaction&&t.type==="transaction"&&(t.transaction=s)}function JR(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint.length||delete t.fingerprint}function YR(t,e,r,s,o,a){const{normalizeDepth:u=3,normalizeMaxBreadth:d=1e3}=t,h={...e,event_id:e.event_id||r.event_id||fr(),timestamp:e.timestamp||Va()},p=r.integrations||t.integrations.map(E=>E.name);ZR(h,t),t1(h,p),o&&o.emit("applyFrameMetadata",e),e.type===void 0&&XR(h,t.stackParser);const y=n1(s,r.captureContext);r.mechanism&&no(h,r.mechanism);const v=o?o.getEventProcessors():[],_=WR(a,y),w=[...r.attachments||[],..._.attachments];w.length&&(r.attachments=w),HR(h,_);const x=[...v,..._.eventProcessors];return zR(x,h,r).then(E=>(E&&e1(E),typeof u=="number"&&u>0?r1(E,u,d):E))}function ZR(t,e){var d,h;const{environment:r,release:s,dist:o,maxValueLength:a}=e;t.environment=t.environment||r||Op,!t.release&&s&&(t.release=s),!t.dist&&o&&(t.dist=o);const u=t.request;u!=null&&u.url&&a&&(u.url=Lf(u.url,a)),a&&((h=(d=t.exception)==null?void 0:d.values)==null||h.forEach(p=>{p.value&&(p.value=Lf(p.value,a))}))}function XR(t,e){var s,o;const r=VR(e);(o=(s=t.exception)==null?void 0:s.values)==null||o.forEach(a=>{var u,d;(d=(u=a.stacktrace)==null?void 0:u.frames)==null||d.forEach(h=>{h.filename&&(h.debug_id=r[h.filename])})})}function e1(t){var s,o;const e={};if((o=(s=t.exception)==null?void 0:s.values)==null||o.forEach(a=>{var u,d;(d=(u=a.stacktrace)==null?void 0:u.frames)==null||d.forEach(h=>{h.debug_id&&(h.abs_path?e[h.abs_path]=h.debug_id:h.filename&&(e[h.filename]=h.debug_id),delete h.debug_id)})}),Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const r=t.debug_meta.images;Object.entries(e).forEach(([a,u])=>{r.push({type:"sourcemap",code_file:a,debug_id:u})})}function t1(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function r1(t,e,r){var o,a;if(!t)return null;const s={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(u=>({...u,...u.data&&{data:sn(u.data,e,r)}}))},...t.user&&{user:sn(t.user,e,r)},...t.contexts&&{contexts:sn(t.contexts,e,r)},...t.extra&&{extra:sn(t.extra,e,r)}};return(o=t.contexts)!=null&&o.trace&&s.contexts&&(s.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(s.contexts.trace.data=sn(t.contexts.trace.data,e,r))),t.spans&&(s.spans=t.spans.map(u=>({...u,...u.data&&{data:sn(u.data,e,r)}}))),(a=t.contexts)!=null&&a.flags&&s.contexts&&(s.contexts.flags=sn(t.contexts.flags,3,r)),s}function n1(t,e){if(!e)return t;const r=t?t.clone():new mn;return r.update(e),r}function oE(t,e){return vn().captureException(t,void 0)}function s1(t,e){const r=typeof e=="string"?e:void 0,s=typeof e!="string"?{captureContext:e}:void 0;return vn().captureMessage(t,r,s)}function aE(t,e){return vn().captureEvent(t,e)}function i1(t,e){go().setContext(t,e)}function Fv(t){const e=go(),r=vn(),{userAgent:s}=De.navigator||{},o=PN({user:r.getUser()||e.getUser(),...s&&{userAgent:s},...t}),a=e.getSession();return(a==null?void 0:a.status)==="ok"&&so(a,{status:"exited"}),lE(),e.setSession(o),o}function lE(){const t=go(),r=vn().getSession()||t.getSession();r&&jN(r),uE(),t.setSession()}function uE(){const t=go(),e=kt(),r=t.getSession();r&&e&&e.captureSession(r)}function Mv(t=!1){if(t){lE();return}uE()}const o1="7";function a1(t){const e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}function l1(t){return`${a1(t)}${t.projectId}/envelope/`}function u1(t,e){const r={sentry_version:o1};return t.publicKey&&(r.sentry_key=t.publicKey),e&&(r.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(r).toString()}function c1(t,e,r){return e||`${l1(t)}?${u1(t,r)}`}const Uv=[];function d1(t){const e={};return t.forEach(r=>{const{name:s}=r,o=e[s];o&&!o.isDefaultInstance&&r.isDefaultInstance||(e[s]=r)}),Object.values(e)}function h1(t){const e=t.defaultIntegrations||[],r=t.integrations;e.forEach(o=>{o.isDefaultInstance=!0});let s;if(Array.isArray(r))s=[...e,...r];else if(typeof r=="function"){const o=r(e);s=Array.isArray(o)?o:[o]}else s=e;return d1(s)}function f1(t,e){const r={};return e.forEach(s=>{s&&cE(t,s,r)}),r}function $v(t,e){for(const r of e)r!=null&&r.afterAllSetup&&r.afterAllSetup(t)}function cE(t,e,r){if(r[e.name]){xe&&we.log(`Integration skipped because it was already installed: ${e.name}`);return}if(r[e.name]=e,!Uv.includes(e.name)&&typeof e.setupOnce=="function"&&(e.setupOnce(),Uv.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const s=e.preprocessEvent.bind(e);t.on("preprocessEvent",(o,a)=>s(o,a,t))}if(typeof e.processEvent=="function"){const s=e.processEvent.bind(e),o=Object.assign((a,u)=>s(a,u,t),{id:e.name});t.addEventProcessor(o)}xe&&we.log(`Integration installed: ${e.name}`)}function p1(t){return[{type:"log",item_count:t.length,content_type:"application/vnd.sentry.items.log+json"},{items:t}]}function m1(t,e,r,s){const o={};return e!=null&&e.sdk&&(o.sdk={name:e.sdk.name,version:e.sdk.version}),r&&s&&(o.dsn=Wa(s)),yo(o,[p1(t)])}function dE(t,e){const r=e??g1(t)??[];if(r.length===0)return;const s=t.getOptions(),o=m1(r,s._metadata,s.tunnel,t.getDsn());hE().set(t,[]),t.emit("flushLogs"),t.sendEnvelope(o)}function g1(t){return hE().get(t)}function hE(){return fo("clientToLogBufferMap",()=>new WeakMap)}function y1(t){return[{type:"trace_metric",item_count:t.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:t}]}function v1(t,e,r,s){const o={};return e!=null&&e.sdk&&(o.sdk={name:e.sdk.name,version:e.sdk.version}),r&&s&&(o.dsn=Wa(s)),yo(o,[y1(t)])}function fE(t,e){const r=e??_1(t)??[];if(r.length===0)return;const s=t.getOptions(),o=v1(r,s._metadata,s.tunnel,t.getDsn());pE().set(t,[]),t.emit("flushMetrics"),t.sendEnvelope(o)}function _1(t){return pE().get(t)}function pE(){return fo("clientToMetricBufferMap",()=>new WeakMap)}const Np=Symbol.for("SentryBufferFullError");function Rp(t=100){const e=new Set;function r(){return e.size<t}function s(u){e.delete(u)}function o(u){if(!r())return Ap(Np);const d=u();return e.add(d),d.then(()=>s(d),()=>s(d)),d}function a(u){if(!e.size)return Ec(!0);const d=Promise.allSettled(Array.from(e)).then(()=>!0);if(!u)return d;const h=[d,new Promise(p=>setTimeout(()=>p(!1),u))];return Promise.race(h)}return{get $(){return Array.from(e)},add:o,drain:a}}const w1=60*1e3;function b1(t,e=wc()){const r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;const s=Date.parse(`${t}`);return isNaN(s)?w1:s-e}function E1(t,e){return t[e]||t.all||0}function S1(t,e,r=wc()){return E1(t,e)>r}function x1(t,{statusCode:e,headers:r},s=wc()){const o={...t},a=r==null?void 0:r["x-sentry-rate-limits"],u=r==null?void 0:r["retry-after"];if(a)for(const d of a.trim().split(",")){const[h,p,,,y]=d.split(":",5),v=parseInt(h,10),_=(isNaN(v)?60:v)*1e3;if(!p)o.all=s+_;else for(const w of p.split(";"))w==="metric_bucket"?(!y||y.split(";").includes("custom"))&&(o[w]=s+_):o[w]=s+_}else u?o.all=s+b1(u,s):e===429&&(o.all=s+60*1e3);return o}const mE=64;function k1(t,e,r=Rp(t.bufferSize||mE)){let s={};const o=u=>r.drain(u);function a(u){const d=[];if(Uf(u,(v,_)=>{const w=Nv(_);S1(s,w)?t.recordDroppedEvent("ratelimit_backoff",w):d.push(v)}),d.length===0)return Promise.resolve({});const h=yo(u[0],d),p=v=>{if(PR(h,["client_report"])){xe&&we.warn(`Dropping client report. Will not send outcomes (reason: ${v}).`);return}Uf(h,(_,w)=>{t.recordDroppedEvent(v,Nv(w))})},y=()=>e({body:jR(h)}).then(v=>(v.statusCode!==void 0&&(v.statusCode<200||v.statusCode>=300)&&xe&&we.warn(`Sentry responded with status code ${v.statusCode} to sent event.`),s=x1(s,v),v),v=>{throw p("network_error"),xe&&we.error("Encountered error running transport request:",v),v});return r.add(y).then(v=>v,v=>{if(v===Np)return xe&&we.error("Skipped sending event because buffer is full."),p("queue_overflow"),Promise.resolve({});throw v})}return{send:a,flush:o}}function T1(t,e,r){const s=[{type:"client_report"},{timestamp:Va(),discarded_events:t}];return yo(e?{dsn:e}:{},[s])}function gE(t){const e=[];t.message&&e.push(t.message);try{const r=t.exception.values[t.exception.values.length-1];r!=null&&r.value&&(e.push(r.value),r.type&&e.push(`${r.type}: ${r.value}`))}catch{}return e}function C1(t){var h;const{trace_id:e,parent_span_id:r,span_id:s,status:o,origin:a,data:u,op:d}=((h=t.contexts)==null?void 0:h.trace)??{};return{data:u??{},description:t.transaction,op:d,parent_span_id:r,span_id:s??"",start_timestamp:t.start_timestamp??0,status:o,timestamp:t.timestamp,trace_id:e??"",origin:a,profile_id:u==null?void 0:u[Yb],exclusive_time:u==null?void 0:u[Zb],measurements:t.measurements,is_segment:!0}}function I1(t){return{type:"transaction",timestamp:t.timestamp,start_timestamp:t.start_timestamp,transaction:t.description,contexts:{trace:{trace_id:t.trace_id,span_id:t.span_id,parent_span_id:t.parent_span_id,op:t.op,status:t.status,origin:t.origin,data:{...t.data,...t.profile_id&&{[Yb]:t.profile_id},...t.exclusive_time&&{[Zb]:t.exclusive_time}}}},measurements:t.measurements}}const Bv="Not capturing exception because it's already been captured.",zv="Discarded session because of missing or non-string release",yE=Symbol.for("SentryInternalError"),vE=Symbol.for("SentryDoNotSendEventError"),O1=5e3;function Ou(t){return{message:t,[yE]:!0}}function Vh(t){return{message:t,[vE]:!0}}function Vv(t){return!!t&&typeof t=="object"&&yE in t}function Hv(t){return!!t&&typeof t=="object"&&vE in t}function Wv(t,e,r,s,o){let a=0,u,d=!1;t.on(r,()=>{a=0,clearTimeout(u),d=!1}),t.on(e,h=>{a+=s(h),a>=8e5?o(t):d||(d=!0,u=setTimeout(()=>{o(t)},O1))}),t.on("flush",()=>{o(t)})}class A1{constructor(e){var s,o,a;if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=Rp(((s=e.transportOptions)==null?void 0:s.bufferSize)??mE),e.dsn?this._dsn=hR(e.dsn):xe&&we.warn("No DSN provided, client will not send events."),this._dsn){const u=c1(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:u})}this._options.enableLogs=this._options.enableLogs??((o=this._options._experiments)==null?void 0:o.enableLogs),this._options.enableLogs&&Wv(this,"afterCaptureLog","flushLogs",j1,dE),(this._options.enableMetrics??((a=this._options._experiments)==null?void 0:a.enableMetrics)??!0)&&Wv(this,"afterCaptureMetric","flushMetrics",P1,fE)}captureException(e,r,s){const o=fr();if(vv(e))return xe&&we.log(Bv),o;const a={event_id:o,...r};return this._process(()=>this.eventFromException(e,a).then(u=>this._captureEvent(u,a,s)).then(u=>u),"error"),a.event_id}captureMessage(e,r,s,o){const a={event_id:fr(),...s},u=Sp(e)?e:String(e),d=yc(e),h=d?this.eventFromMessage(u,r,a):this.eventFromException(e,a);return this._process(()=>h.then(p=>this._captureEvent(p,a,o)),d?"unknown":"error"),a.event_id}captureEvent(e,r,s){const o=fr();if(r!=null&&r.originalException&&vv(r.originalException))return xe&&we.log(Bv),o;const a={event_id:o,...r},u=e.sdkProcessingMetadata||{},d=u.capturedSpanScope,h=u.capturedSpanIsolationScope,p=qv(e.type);return this._process(()=>this._captureEvent(e,a,d||s,h),p),a.event_id}captureSession(e){this.sendSession(e),so(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(e){const r=this._transport;if(!r)return!0;this.emit("flush");const s=await this._isClientDoneProcessing(e),o=await r.flush(e);return s&&o}async close(e){const r=await this.flush(e);return this.getOptions().enabled=!1,this.emit("close"),r}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const r=this._integrations[e.name];cE(this,e,this._integrations),r||$v(this,[e])}sendEvent(e,r={}){this.emit("beforeSendEvent",e,r);let s=BR(e,this._dsn,this._options._metadata,this._options.tunnel);for(const o of r.attachments||[])s=RR(s,DR(o));this.sendEnvelope(s).then(o=>this.emit("afterSendEvent",e,o))}sendSession(e){const{release:r,environment:s=Op}=this._options;if("aggregates"in e){const a=e.attrs||{};if(!a.release&&!r){xe&&we.warn(zv);return}a.release=a.release||r,a.environment=a.environment||s,e.attrs=a}else{if(!e.release&&!r){xe&&we.warn(zv);return}e.release=e.release||r,e.environment=e.environment||s}this.emit("beforeSendSession",e);const o=$R(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(o)}recordDroppedEvent(e,r,s=1){if(this._options.sendClientReports){const o=`${e}:${r}`;xe&&we.log(`Recording outcome: "${o}"${s>1?` (${s} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+s}}on(e,r){const s=this._hooks[e]=this._hooks[e]||new Set,o=(...a)=>r(...a);return s.add(o),()=>{s.delete(o)}}emit(e,...r){const s=this._hooks[e];s&&s.forEach(o=>o(...r))}async sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)try{return await this._transport.send(e)}catch(r){return xe&&we.error("Error while sending envelope:",r),{}}return xe&&we.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=f1(this,e),$v(this,e)}_updateSessionFromEvent(e,r){var h,p;let s=r.level==="fatal",o=!1;const a=(h=r.exception)==null?void 0:h.values;if(a){o=!0,s=!1;for(const y of a)if(((p=y.mechanism)==null?void 0:p.handled)===!1){s=!0;break}}const u=e.status==="ok";(u&&e.errors===0||u&&s)&&(so(e,{...s&&{status:"crashed"},errors:e.errors||Number(o||s)}),this.captureSession(e))}async _isClientDoneProcessing(e){let r=0;for(;!e||r<e;){if(await new Promise(s=>setTimeout(s,1)),!this._numProcessing)return!0;r++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,r,s,o){const a=this.getOptions(),u=Object.keys(this._integrations);return!r.integrations&&(u!=null&&u.length)&&(r.integrations=u),this.emit("preprocessEvent",e,r),e.type||o.setLastEventId(e.event_id||r.event_id),YR(a,e,r,s,this,o).then(d=>{if(d===null)return d;this.emit("postprocessEvent",d,r),d.contexts={trace:HN(s),...d.contexts};const h=kR(this,s);return d.sdkProcessingMetadata={dynamicSamplingContext:h,...d.sdkProcessingMetadata},d})}_captureEvent(e,r={},s=vn(),o=go()){return xe&&zf(e)&&we.log(`Captured error event \`${gE(e)[0]||"<unknown>"}\``),this._processEvent(e,r,s,o).then(a=>a.event_id,a=>{xe&&(Hv(a)?we.log(a.message):Vv(a)?we.warn(a.message):we.warn(a))})}_processEvent(e,r,s,o){const a=this.getOptions(),{sampleRate:u}=a,d=_E(e),h=zf(e),y=`before send for type \`${e.type||"error"}\``,v=typeof u>"u"?void 0:fR(u);if(h&&typeof v=="number"&&sc()>v)return this.recordDroppedEvent("sample_rate","error"),Ap(Vh(`Discarding event because it's not included in the random sample (sampling rate = ${u})`));const _=qv(e.type);return this._prepareEvent(e,r,s,o).then(w=>{if(w===null)throw this.recordDroppedEvent("event_processor",_),Vh("An event processor returned `null`, will not send event.");if(r.data&&r.data.__sentry__===!0)return w;const S=R1(this,a,w,r);return N1(S,y)}).then(w=>{var E;if(w===null){if(this.recordDroppedEvent("before_send",_),d){const j=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",j)}throw Vh(`${y} returned \`null\`, will not send event.`)}const x=s.getSession()||o.getSession();if(h&&x&&this._updateSessionFromEvent(x,w),d){const N=((E=w.sdkProcessingMetadata)==null?void 0:E.spanCountBeforeProcessing)||0,j=w.spans?w.spans.length:0,R=N-j;R>0&&this.recordDroppedEvent("before_send","span",R)}const S=w.transaction_info;if(d&&S&&w.transaction!==e.transaction){const N="custom";w.transaction_info={...S,source:N}}return this.sendEvent(w,r),w}).then(null,w=>{throw Hv(w)||Vv(w)?w:(this.captureException(w,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:w}),Ou(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${w}`))})}_process(e,r){this._numProcessing++,this._promiseBuffer.add(e).then(s=>(this._numProcessing--,s),s=>(this._numProcessing--,s===Np&&this.recordDroppedEvent("queue_overflow",r),s))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([r,s])=>{const[o,a]=r.split(":");return{reason:o,category:a,quantity:s}})}_flushOutcomes(){xe&&we.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0){xe&&we.log("No outcomes to send");return}if(!this._dsn){xe&&we.log("No dsn provided, will not send outcomes");return}xe&&we.log("Sending outcomes:",e);const r=T1(e,this._options.tunnel&&Wa(this._dsn));this.sendEnvelope(r)}}function qv(t){return t==="replay_event"?"replay":t||"error"}function N1(t,e){const r=`${e} must return \`null\` or a valid event.`;if(za(t))return t.then(s=>{if(!Ca(s)&&s!==null)throw Ou(r);return s},s=>{throw Ou(`${e} rejected with ${s}`)});if(!Ca(t)&&t!==null)throw Ou(r);return t}function R1(t,e,r,s){const{beforeSend:o,beforeSendTransaction:a,beforeSendSpan:u,ignoreSpans:d}=e;let h=r;if(zf(h)&&o)return o(h,s);if(_E(h)){if(u||d){const p=C1(h);if(d!=null&&d.length&&Av(p,d))return null;if(u){const y=u(p);y?h=Ha(r,I1(y)):Iv()}if(h.spans){const y=[],v=h.spans;for(const w of v){if(d!=null&&d.length&&Av(w,d)){ER(v,w);continue}if(u){const x=u(w);x?y.push(x):(Iv(),y.push(w))}else y.push(w)}const _=h.spans.length-y.length;_&&t.recordDroppedEvent("before_send","span",_),h.spans=y}}if(a){if(h.spans){const p=h.spans.length;h.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:p}}return a(h,s)}}return h}function zf(t){return t.type===void 0}function _E(t){return t.type==="transaction"}function P1(t){let e=0;return t.name&&(e+=t.name.length*2),e+=8,e+wE(t.attributes)}function j1(t){let e=0;return t.message&&(e+=t.message.length*2),e+wE(t.attributes)}function wE(t){if(!t)return 0;let e=0;return Object.values(t).forEach(r=>{Array.isArray(r)?e+=r.length*Gv(r[0]):yc(r)?e+=Gv(r):e+=100}),e}function Gv(t){return typeof t=="string"?t.length*2:typeof t=="number"?8:typeof t=="boolean"?4:0}function L1(t){return gc(t)&&"__sentry_fetch_url_host__"in t&&typeof t.__sentry_fetch_url_host__=="string"}function Kv(t){return L1(t)?`${t.message} (${t.__sentry_fetch_url_host__})`:t.message}function D1(t,e){e.debug===!0&&(xe?we.enable():po(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),vn().update(e.initialScope);const s=new t(e);return F1(s),s.init(),s}function F1(t){vn().setClient(t)}function Hh(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const r=e[6]||"",s=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:s,relative:e[5]+r+s}}function M1(t){var e;"aggregates"in t?((e=t.attrs)==null?void 0:e.ip_address)===void 0&&(t.attrs={...t.attrs,ip_address:"{{auto}}"}):t.ipAddress===void 0&&(t.ipAddress="{{auto}}")}function bE(t,e,r=[e],s="npm"){const o=t._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${e}`,packages:r.map(a=>({name:`${s}:@sentry/${a}`,version:Ks})),version:Ks}),t._metadata=o}const U1=100;function os(t,e){const r=kt(),s=go();if(!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:a=U1}=r.getOptions();if(a<=0)return;const d={timestamp:Va(),...t},h=o?po(()=>o(d,e)):d;h!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",h,e),s.addBreadcrumb(h,a))}let Qv;const $1="FunctionToString",Jv=new WeakMap,B1=(()=>({name:$1,setupOnce(){Qv=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=Tp(this),r=Jv.has(kt())&&e!==void 0?e:this;return Qv.apply(r,t)}}catch{}},setup(t){Jv.set(t,!0)}})),z1=B1,V1=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],H1="EventFilters",W1=(t={})=>{let e;return{name:H1,setup(r){const s=r.getOptions();e=Yv(t,s)},processEvent(r,s,o){if(!e){const a=o.getOptions();e=Yv(t,a)}return G1(r,e)?null:r}}},q1=((t={})=>({...W1(t),name:"InboundFilters"}));function Yv(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:V1],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]]}}function G1(t,e){if(t.type){if(t.type==="transaction"&&Q1(t,e.ignoreTransactions))return xe&&we.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Ns(t)}`),!0}else{if(K1(t,e.ignoreErrors))return xe&&we.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ns(t)}`),!0;if(X1(t))return xe&&we.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Ns(t)}`),!0;if(J1(t,e.denyUrls))return xe&&we.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ns(t)}.
Url: ${ic(t)}`),!0;if(!Y1(t,e.allowUrls))return xe&&we.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ns(t)}.
Url: ${ic(t)}`),!0}return!1}function K1(t,e){return e!=null&&e.length?gE(t).some(r=>bc(r,e)):!1}function Q1(t,e){if(!(e!=null&&e.length))return!1;const r=t.transaction;return r?bc(r,e):!1}function J1(t,e){if(!(e!=null&&e.length))return!1;const r=ic(t);return r?bc(r,e):!1}function Y1(t,e){if(!(e!=null&&e.length))return!0;const r=ic(t);return r?bc(r,e):!0}function Z1(t=[]){for(let e=t.length-1;e>=0;e--){const r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function ic(t){var e,r;try{const s=[...((e=t.exception)==null?void 0:e.values)??[]].reverse().find(a=>{var u,d,h;return((u=a.mechanism)==null?void 0:u.parent_id)===void 0&&((h=(d=a.stacktrace)==null?void 0:d.frames)==null?void 0:h.length)}),o=(r=s==null?void 0:s.stacktrace)==null?void 0:r.frames;return o?Z1(o):null}catch{return xe&&we.error(`Cannot extract url for event ${Ns(t)}`),null}}function X1(t){var e,r;return(r=(e=t.exception)==null?void 0:e.values)!=null&&r.length?!t.message&&!t.exception.values.some(s=>s.stacktrace||s.type&&s.type!=="Error"||s.value):!1}function eP(t,e,r,s,o,a){var d;if(!((d=o.exception)!=null&&d.values)||!a||!ss(a.originalException,Error))return;const u=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;u&&(o.exception.values=Vf(t,e,s,a.originalException,r,o.exception.values,u,0))}function Vf(t,e,r,s,o,a,u,d){if(a.length>=r+1)return a;let h=[...a];if(ss(s[o],Error)){Zv(u,d);const p=t(e,s[o]),y=h.length;Xv(p,o,y,d),h=Vf(t,e,r,s[o],o,[p,...h],p,y)}return Array.isArray(s.errors)&&s.errors.forEach((p,y)=>{if(ss(p,Error)){Zv(u,d);const v=t(e,p),_=h.length;Xv(v,`errors[${y}]`,_,d),h=Vf(t,e,r,p,o,[v,...h],v,_)}}),h}function Zv(t,e){t.mechanism={handled:!0,type:"auto.core.linked_errors",...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function Xv(t,e,r,s){t.mechanism={handled:!0,...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:s}}function tP(t){const e="console";ei(e,t),ti(e,rP)}function rP(){"console"in De&&lN.forEach(function(t){t in De.console&&Yt(De.console,t,function(e){return nc[t]=e,function(...r){Or("console",{args:r,level:t});const o=nc[t];o==null||o.apply(De.console,r)}})})}function nP(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}const sP="Dedupe",iP=(()=>{let t;return{name:sP,processEvent(e){if(e.type)return e;try{if(aP(e,t))return xe&&we.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}}),oP=iP;function aP(t,e){return e?!!(lP(t,e)||uP(t,e)):!1}function lP(t,e){const r=t.message,s=e.message;return!(!r&&!s||r&&!s||!r&&s||r!==s||!SE(t,e)||!EE(t,e))}function uP(t,e){const r=e_(e),s=e_(t);return!(!r||!s||r.type!==s.type||r.value!==s.value||!SE(t,e)||!EE(t,e))}function EE(t,e){let r=hv(t),s=hv(e);if(!r&&!s)return!0;if(r&&!s||!r&&s||(r=r,s=s,s.length!==r.length))return!1;for(let o=0;o<s.length;o++){const a=s[o],u=r[o];if(a.filename!==u.filename||a.lineno!==u.lineno||a.colno!==u.colno||a.function!==u.function)return!1}return!0}function SE(t,e){let r=t.fingerprint,s=e.fingerprint;if(!r&&!s)return!0;if(r&&!s||!r&&s)return!1;r=r,s=s;try{return r.join("")===s.join("")}catch{return!1}}function e_(t){var e,r;return(r=(e=t.exception)==null?void 0:e.values)==null?void 0:r[0]}function xE(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}const Oa=De;function cP(){return"history"in Oa&&!!Oa.history}function dP(){if(!("fetch"in Oa))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}function Hf(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function hP(){var r;if(typeof EdgeRuntime=="string")return!0;if(!dP())return!1;if(Hf(Oa.fetch))return!0;let t=!1;const e=Oa.document;if(e&&typeof e.createElement=="function")try{const s=e.createElement("iframe");s.hidden=!0,e.head.appendChild(s),(r=s.contentWindow)!=null&&r.fetch&&(t=Hf(s.contentWindow.fetch)),e.head.removeChild(s)}catch(s){xe&&we.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",s)}return t}function fP(t,e){const r="fetch";ei(r,t),ti(r,()=>pP(void 0,e))}function pP(t,e=!1){e&&!hP()||Yt(De,"fetch",function(r){return function(...s){const o=new Error,{method:a,url:u}=mP(s),d={args:s,fetchData:{method:a,url:u},startTimestamp:fn()*1e3,virtualError:o,headers:gP(s)};return Or("fetch",{...d}),r.apply(De,s).then(async h=>(Or("fetch",{...d,endTimestamp:fn()*1e3,response:h}),h),h=>{Or("fetch",{...d,endTimestamp:fn()*1e3,error:h}),gc(h)&&h.stack===void 0&&(h.stack=o.stack,is(h,"framesToPop",1));const p=kt(),y=(p==null?void 0:p.getOptions().enhanceFetchErrorMessages)??"always";if(y!==!1&&h instanceof TypeError&&(h.message==="Failed to fetch"||h.message==="Load failed"||h.message==="NetworkError when attempting to fetch resource."))try{const w=new URL(d.fetchData.url).host;y==="always"?h.message=`${h.message} (${w})`:is(h,"__sentry_fetch_url_host__",w)}catch{}throw h})}})}function Au(t,e){return!!t&&typeof t=="object"&&!!t[e]}function t_(t){return typeof t=="string"?t:t?Au(t,"url")?t.url:t.toString?t.toString():"":""}function mP(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){const[r,s]=t;return{url:t_(r),method:Au(s,"method")?String(s.method).toUpperCase():Vb(r)&&Au(r,"method")?String(r.method).toUpperCase():"GET"}}const e=t[0];return{url:t_(e),method:Au(e,"method")?String(e.method).toUpperCase():"GET"}}function gP(t){const[e,r]=t;try{if(typeof r=="object"&&r!==null&&"headers"in r&&r.headers)return new Headers(r.headers);if(Vb(e))return new Headers(e.headers)}catch{}}function yP(){return"npm"}const Xe=De;let Wf=0;function kE(){return Wf>0}function vP(){Wf++,setTimeout(()=>{Wf--})}function oo(t,e={}){function r(o){return typeof o=="function"}if(!r(t))return t;try{const o=t.__sentry_wrapped__;if(o)return typeof o=="function"?o:t;if(Tp(t))return t}catch{return t}const s=function(...o){try{const a=o.map(u=>oo(u,e));return t.apply(this,a)}catch(a){throw vP(),Jb(u=>{u.addEventProcessor(d=>(e.mechanism&&(Df(d,void 0),no(d,e.mechanism)),d.extra={...d.extra,arguments:o},d)),oE(a)}),a}};try{for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(s[o]=t[o])}catch{}Wb(s,t),is(t,"__sentry_wrapped__",s);try{Object.getOwnPropertyDescriptor(s,"name").configurable&&Object.defineProperty(s,"name",{get(){return t.name}})}catch{}return s}function _P(){const t=kp(),{referrer:e}=Xe.document||{},{userAgent:r}=Xe.navigator||{},s={...e&&{Referer:e},...r&&{"User-Agent":r}};return{url:t,headers:s}}function Pp(t,e){const r=jp(t,e),s={type:xP(e),value:kP(e)};return r.length&&(s.stacktrace={frames:r}),s.type===void 0&&s.value===""&&(s.value="Unrecoverable error caught"),s}function wP(t,e,r,s){const o=kt(),a=o==null?void 0:o.getOptions().normalizeDepth,u=AP(e),d={__serialized__:sE(e,a)};if(u)return{exception:{values:[Pp(t,u)]},extra:d};const h={exception:{values:[{type:vc(e)?e.constructor.name:s?"UnhandledRejection":"Error",value:IP(e,{isUnhandledRejection:s})}]},extra:d};if(r){const p=jp(t,r);p.length&&(h.exception.values[0].stacktrace={frames:p})}return h}function Wh(t,e){return{exception:{values:[Pp(t,e)]}}}function jp(t,e){const r=e.stacktrace||e.stack||"",s=EP(e),o=SP(e);try{return t(r,s,o)}catch{}return[]}const bP=/Minified React error #\d+;/i;function EP(t){return t&&bP.test(t.message)?1:0}function SP(t){return typeof t.framesToPop=="number"?t.framesToPop:0}function TE(t){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?t instanceof WebAssembly.Exception:!1}function xP(t){const e=t==null?void 0:t.name;return!e&&TE(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function kP(t){const e=t==null?void 0:t.message;return TE(t)?Array.isArray(t.message)&&t.message.length==2?t.message[1]:"wasm exception":e?e.error&&typeof e.error.message=="string"?Kv(e.error):Kv(t):"No error message"}function TP(t,e,r,s){const o=(r==null?void 0:r.syntheticException)||void 0,a=Lp(t,e,o,s);return no(a),a.level="error",r!=null&&r.event_id&&(a.event_id=r.event_id),Ec(a)}function CP(t,e,r="info",s,o){const a=(s==null?void 0:s.syntheticException)||void 0,u=qf(t,e,a,o);return u.level=r,s!=null&&s.event_id&&(u.event_id=s.event_id),Ec(u)}function Lp(t,e,r,s,o){let a;if(Bb(e)&&e.error)return Wh(t,e.error);if(pv(e)||bN(e)){const u=e;if("stack"in e)a=Wh(t,e);else{const d=u.name||(pv(u)?"DOMError":"DOMException"),h=u.message?`${d}: ${u.message}`:d;a=qf(t,h,r,s),Df(a,h)}return"code"in u&&(a.tags={...a.tags,"DOMException.code":`${u.code}`}),a}return gc(e)?Wh(t,e):Ca(e)||vc(e)?(a=wP(t,e,r,o),no(a,{synthetic:!0}),a):(a=qf(t,e,r,s),Df(a,`${e}`),no(a,{synthetic:!0}),a)}function qf(t,e,r,s){const o={};if(s&&r){const a=jp(t,r);a.length&&(o.exception={values:[{value:e,stacktrace:{frames:a}}]}),no(o,{synthetic:!0})}if(Sp(e)){const{__sentry_template_string__:a,__sentry_template_values__:u}=e;return o.logentry={message:a,params:u},o}return o.message=e,o}function IP(t,{isUnhandledRejection:e}){const r=IN(t),s=e?"promise rejection":"exception";return Bb(t)?`Event \`ErrorEvent\` captured as ${s} with message \`${t.message}\``:vc(t)?`Event \`${OP(t)}\` (type=${t.type}) captured as ${s}`:`Object captured as ${s} with keys: ${r}`}function OP(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}function AP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const r=t[e];if(r instanceof Error)return r}}class NP extends A1{constructor(e){var y;const r=RP(e),s=Xe.SENTRY_SDK_SOURCE||yP();bE(r,"browser",["browser"],s),(y=r._metadata)!=null&&y.sdk&&(r._metadata.sdk.settings={infer_ip:r.sendDefaultPii?"auto":"never",...r._metadata.sdk.settings}),super(r);const{sendDefaultPii:o,sendClientReports:a,enableLogs:u,_experiments:d,enableMetrics:h}=this._options,p=h??(d==null?void 0:d.enableMetrics)??!0;Xe.document&&(a||u||p)&&Xe.document.addEventListener("visibilitychange",()=>{Xe.document.visibilityState==="hidden"&&(a&&this._flushOutcomes(),u&&dE(this),p&&fE(this))}),o&&this.on("beforeSendSession",M1)}eventFromException(e,r){return TP(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",s){return CP(this._options.stackParser,e,r,s,this._options.attachStacktrace)}_prepareEvent(e,r,s,o){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,s,o)}}function RP(t){var e;return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(e=Xe.SENTRY_RELEASE)==null?void 0:e.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...t}}const PP=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Pt=De,jP=1e3;let r_,Gf,Kf;function LP(t){ei("dom",t),ti("dom",DP)}function DP(){if(!Pt.document)return;const t=Or.bind(null,"dom"),e=n_(t,!0);Pt.document.addEventListener("click",e,!1),Pt.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{var a,u;const o=(a=Pt[r])==null?void 0:a.prototype;(u=o==null?void 0:o.hasOwnProperty)!=null&&u.call(o,"addEventListener")&&(Yt(o,"addEventListener",function(d){return function(h,p,y){if(h==="click"||h=="keypress")try{const v=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},_=v[h]=v[h]||{refCount:0};if(!_.handler){const w=n_(t);_.handler=w,d.call(this,h,w,y)}_.refCount++}catch{}return d.call(this,h,p,y)}}),Yt(o,"removeEventListener",function(d){return function(h,p,y){if(h==="click"||h=="keypress")try{const v=this.__sentry_instrumentation_handlers__||{},_=v[h];_&&(_.refCount--,_.refCount<=0&&(d.call(this,h,_.handler,y),_.handler=void 0,delete v[h]),Object.keys(v).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return d.call(this,h,p,y)}}))})}function FP(t){if(t.type!==Gf)return!1;try{if(!t.target||t.target._sentryId!==Kf)return!1}catch{}return!0}function MP(t,e){return t!=="keypress"?!1:e!=null&&e.tagName?!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable):!0}function n_(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;const s=UP(r);if(MP(r.type,s))return;is(r,"_sentryCaptured",!0),s&&!s._sentryId&&is(s,"_sentryId",fr());const o=r.type==="keypress"?"input":r.type;FP(r)||(t({event:r,name:o,global:e}),Gf=r.type,Kf=s?s._sentryId:void 0),clearTimeout(r_),r_=Pt.setTimeout(()=>{Kf=void 0,Gf=void 0},jP)}}function UP(t){try{return t.target}catch{return null}}let _u;function CE(t){const e="history";ei(e,t),ti(e,$P)}function $P(){if(Pt.addEventListener("popstate",()=>{const e=Pt.location.href,r=_u;if(_u=e,r===e)return;Or("history",{from:r,to:e})}),!cP())return;function t(e){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const o=_u,a=BP(String(s));if(_u=a,o===a)return e.apply(this,r);Or("history",{from:o,to:a})}return e.apply(this,r)}}Yt(Pt.history,"pushState",t),Yt(Pt.history,"replaceState",t)}function BP(t){try{return new URL(t,Pt.location.origin).toString()}catch{return t}}const Nu={};function zP(t){const e=Nu[t];if(e)return e;let r=Pt[t];if(Hf(r))return Nu[t]=r.bind(Pt);const s=Pt.document;if(s&&typeof s.createElement=="function")try{const o=s.createElement("iframe");o.hidden=!0,s.head.appendChild(o);const a=o.contentWindow;a!=null&&a[t]&&(r=a[t]),s.head.removeChild(o)}catch(o){PP&&we.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,o)}return r&&(Nu[t]=r.bind(Pt))}function VP(t){Nu[t]=void 0}const _a="__sentry_xhr_v3__";function HP(t){ei("xhr",t),ti("xhr",WP)}function WP(){if(!Pt.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,r,s){const o=new Error,a=fn()*1e3,u=hn(s[0])?s[0].toUpperCase():void 0,d=qP(s[1]);if(!u||!d)return e.apply(r,s);r[_a]={method:u,url:d,request_headers:{}},u==="POST"&&d.match(/sentry_key/)&&(r.__sentry_own_request__=!0);const h=()=>{const p=r[_a];if(p&&r.readyState===4){try{p.status_code=r.status}catch{}const y={endTimestamp:fn()*1e3,startTimestamp:a,xhr:r,virtualError:o};Or("xhr",y)}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply(p,y,v){return h(),p.apply(y,v)}}):r.addEventListener("readystatechange",h),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(p,y,v){const[_,w]=v,x=y[_a];return x&&hn(_)&&hn(w)&&(x.request_headers[_.toLowerCase()]=w),p.apply(y,v)}}),e.apply(r,s)}}),t.send=new Proxy(t.send,{apply(e,r,s){const o=r[_a];if(!o)return e.apply(r,s);s[0]!==void 0&&(o.body=s[0]);const a={startTimestamp:fn()*1e3,xhr:r};return Or("xhr",a),e.apply(r,s)}})}function qP(t){if(hn(t))return t;try{return t.toString()}catch{}}const GP=40;function KP(t,e=zP("fetch")){let r=0,s=0;async function o(a){const u=a.body.length;r+=u,s++;const d={body:a.body,method:"POST",referrerPolicy:"strict-origin",headers:t.headers,keepalive:r<=6e4&&s<15,...t.fetchOptions};try{const h=await e(t.url,d);return{statusCode:h.status,headers:{"x-sentry-rate-limits":h.headers.get("X-Sentry-Rate-Limits"),"retry-after":h.headers.get("Retry-After")}}}catch(h){throw VP("fetch"),h}finally{r-=u,s--}}return k1(t,o,Rp(t.bufferSize||GP))}const Sc=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,QP=30,JP=50;function Qf(t,e,r,s){const o={filename:t,function:e==="<anonymous>"?Ys:e,in_app:!0};return r!==void 0&&(o.lineno=r),s!==void 0&&(o.colno=s),o}const YP=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,ZP=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,XP=/\((\S*)(?::(\d+))(?::(\d+))\)/,ej=/at (.+?) ?\(data:(.+?),/,tj=t=>{const e=t.match(ej);if(e)return{filename:`<data:${e[2]}>`,function:e[1]};const r=YP.exec(t);if(r){const[,o,a,u]=r;return Qf(o,Ys,+a,+u)}const s=ZP.exec(t);if(s){if(s[2]&&s[2].indexOf("eval")===0){const d=XP.exec(s[2]);d&&(s[2]=d[1],s[3]=d[2],s[4]=d[3])}const[a,u]=IE(s[1]||Ys,s[2]);return Qf(u,a,s[3]?+s[3]:void 0,s[4]?+s[4]:void 0)}},rj=[QP,tj],nj=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,sj=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,ij=t=>{const e=nj.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const a=sj.exec(e[3]);a&&(e[1]=e[1]||"eval",e[3]=a[1],e[4]=a[2],e[5]="")}let s=e[3],o=e[1]||Ys;return[o,s]=IE(o,s),Qf(s,o,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},oj=[JP,ij],aj=[rj,oj],lj=Mb(...aj),IE=(t,e)=>{const r=t.indexOf("safari-extension")!==-1,s=t.indexOf("safari-web-extension")!==-1;return r||s?[t.indexOf("@")!==-1?t.split("@")[0]:Ys,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},wu=1024,uj="Breadcrumbs",cj=((t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:uj,setup(r){e.console&&tP(pj(r)),e.dom&&LP(fj(r,e.dom)),e.xhr&&HP(mj(r)),e.fetch&&fP(gj(r)),e.history&&CE(yj(r)),e.sentry&&r.on("beforeSendEvent",hj(r))}}}),dj=cj;function hj(t){return function(r){kt()===t&&os({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:Ns(r)},{event:r})}}function fj(t,e){return function(s){if(kt()!==t)return;let o,a,u=typeof e=="object"?e.serializeAttribute:void 0,d=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;d&&d>wu&&(Sc&&we.warn(`\`dom.maxStringLength\` cannot exceed ${wu}, but a value of ${d} was configured. Sentry will use ${wu} instead.`),d=wu),typeof u=="string"&&(u=[u]);try{const p=s.event,y=vj(p)?p.target:p;o=Hb(y,{keyAttrs:u,maxStringLength:d}),a=CN(y)}catch{o="<unknown>"}if(o.length===0)return;const h={category:`ui.${s.name}`,message:o};a&&(h.data={"ui.component_name":a}),os(h,{event:s.event,name:s.name,global:s.global})}}function pj(t){return function(r){if(kt()!==t)return;const s={category:"console",data:{arguments:r.args,logger:"console"},level:nP(r.level),message:yv(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)s.message=`Assertion failed: ${yv(r.args.slice(1)," ")||"console.assert"}`,s.data.arguments=r.args.slice(1);else return;os(s,{input:r.args,level:r.level})}}function mj(t){return function(r){if(kt()!==t)return;const{startTimestamp:s,endTimestamp:o}=r,a=r.xhr[_a];if(!s||!o||!a)return;const{method:u,url:d,status_code:h,body:p}=a,y={method:u,url:d,status_code:h},v={xhr:r.xhr,input:p,startTimestamp:s,endTimestamp:o},_={category:"xhr",data:y,type:"http",level:xE(h)};t.emit("beforeOutgoingRequestBreadcrumb",_,v),os(_,v)}}function gj(t){return function(r){if(kt()!==t)return;const{startTimestamp:s,endTimestamp:o}=r;if(o&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.fetchData.method,r.fetchData.url,r.error){const a=r.fetchData,u={data:r.error,input:r.args,startTimestamp:s,endTimestamp:o},d={category:"fetch",data:a,level:"error",type:"http"};t.emit("beforeOutgoingRequestBreadcrumb",d,u),os(d,u)}else{const a=r.response,u={...r.fetchData,status_code:a==null?void 0:a.status};r.fetchData.request_body_size,r.fetchData.response_body_size,a==null||a.status;const d={input:r.args,response:a,startTimestamp:s,endTimestamp:o},h={category:"fetch",data:u,type:"http",level:xE(u.status_code)};t.emit("beforeOutgoingRequestBreadcrumb",h,d),os(h,d)}}}function yj(t){return function(r){if(kt()!==t)return;let s=r.from,o=r.to;const a=Hh(Xe.location.href);let u=s?Hh(s):void 0;const d=Hh(o);u!=null&&u.path||(u=a),a.protocol===d.protocol&&a.host===d.host&&(o=d.relative),a.protocol===u.protocol&&a.host===u.host&&(s=u.relative),os({category:"navigation",data:{from:s,to:o}})}}function vj(t){return!!t&&!!t.target}const _j=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],wj="BrowserApiErrors",bj=((t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...t};return{name:wj,setupOnce(){e.setTimeout&&Yt(Xe,"setTimeout",s_),e.setInterval&&Yt(Xe,"setInterval",s_),e.requestAnimationFrame&&Yt(Xe,"requestAnimationFrame",Sj),e.XMLHttpRequest&&"XMLHttpRequest"in Xe&&Yt(XMLHttpRequest.prototype,"send",xj);const r=e.eventTarget;r&&(Array.isArray(r)?r:_j).forEach(o=>kj(o,e))}}}),Ej=bj;function s_(t){return function(...e){const r=e[0];return e[0]=oo(r,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${ns(t)}`}}),t.apply(this,e)}}function Sj(t){return function(e){return t.apply(this,[oo(e,{mechanism:{data:{handler:ns(t)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function xj(t){return function(...e){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in r&&typeof r[o]=="function"&&Yt(r,o,function(a){const u={mechanism:{data:{handler:ns(a)},handled:!1,type:`auto.browser.browserapierrors.xhr.${o}`}},d=Tp(a);return d&&(u.mechanism.data.handler=ns(d)),oo(a,u)})}),t.apply(this,e)}}function kj(t,e){var o,a;const s=(o=Xe[t])==null?void 0:o.prototype;(a=s==null?void 0:s.hasOwnProperty)!=null&&a.call(s,"addEventListener")&&(Yt(s,"addEventListener",function(u){return function(d,h,p){try{Tj(h)&&(h.handleEvent=oo(h.handleEvent,{mechanism:{data:{handler:ns(h),target:t},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return e.unregisterOriginalCallbacks&&Cj(this,d,h),u.apply(this,[d,oo(h,{mechanism:{data:{handler:ns(h),target:t},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),p])}}),Yt(s,"removeEventListener",function(u){return function(d,h,p){try{const y=h.__sentry_wrapped__;y&&u.call(this,d,y,p)}catch{}return u.call(this,d,h,p)}}))}function Tj(t){return typeof t.handleEvent=="function"}function Cj(t,e,r){t&&typeof t=="object"&&"removeEventListener"in t&&typeof t.removeEventListener=="function"&&t.removeEventListener(e,r)}const Ij=()=>({name:"BrowserSession",setupOnce(){if(typeof Xe.document>"u"){Sc&&we.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Fv({ignoreDuration:!0}),Mv(),CE(({from:t,to:e})=>{t!==void 0&&t!==e&&(Fv({ignoreDuration:!0}),Mv())})}}),Oj="GlobalHandlers",Aj=((t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:Oj,setupOnce(){Error.stackTraceLimit=50},setup(r){e.onerror&&(Rj(r),i_("onerror")),e.onunhandledrejection&&(Pj(r),i_("onunhandledrejection"))}}}),Nj=Aj;function Rj(t){yN(e=>{const{stackParser:r,attachStacktrace:s}=OE();if(kt()!==t||kE())return;const{msg:o,url:a,line:u,column:d,error:h}=e,p=Dj(Lp(r,h||o,void 0,s,!1),a,u,d);p.level="error",aE(p,{originalException:h,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function Pj(t){_N(e=>{const{stackParser:r,attachStacktrace:s}=OE();if(kt()!==t||kE())return;const o=jj(e),a=yc(o)?Lj(o):Lp(r,o,void 0,s,!0);a.level="error",aE(a,{originalException:o,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function jj(t){if(yc(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}function Lj(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function Dj(t,e,r,s){const o=t.exception=t.exception||{},a=o.values=o.values||[],u=a[0]=a[0]||{},d=u.stacktrace=u.stacktrace||{},h=d.frames=d.frames||[],p=s,y=r,v=Fj(e)??kp();return h.length===0&&h.push({colno:p,filename:v,function:Ys,in_app:!0,lineno:y}),t}function i_(t){Sc&&we.log(`Global Handler attached: ${t}`)}function OE(){const t=kt();return(t==null?void 0:t.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}function Fj(t){if(!(!hn(t)||t.length===0)){if(t.startsWith("data:")){const e=t.match(/^data:([^;]+)/),r=e?e[1]:"text/javascript",s=t.includes("base64,");return`<data:${r}${s?",base64":""}>`}return t}}const Mj=()=>({name:"HttpContext",preprocessEvent(t){var s;if(!Xe.navigator&&!Xe.location&&!Xe.document)return;const e=_P(),r={...e.headers,...(s=t.request)==null?void 0:s.headers};t.request={...e,...t.request,headers:r}}}),Uj="cause",$j=5,Bj="LinkedErrors",zj=((t={})=>{const e=t.limit||$j,r=t.key||Uj;return{name:Bj,preprocessEvent(s,o,a){const u=a.getOptions();eP(Pp,u.stackParser,r,e,s,o)}}}),Vj=zj;function Hj(){return Wj()?(Sc&&po(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function Wj(){var a;if(typeof Xe.window>"u")return!1;const t=Xe;if(t.nw)return!1;const e=t.chrome||t.browser;if(!((a=e==null?void 0:e.runtime)!=null&&a.id))return!1;const r=kp(),s=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(Xe===Xe.top&&s.some(u=>r.startsWith(`${u}://`)))}function qj(t){return[q1(),z1(),Ej(),dj(),Nj(),Vj(),oP(),Mj(),Ij()]}function Gj(t={}){const e=!t.skipBrowserExtensionCheck&&Hj();let r=t.defaultIntegrations==null?qj():t.defaultIntegrations;const s={...t,enabled:e?!1:t.enabled,stackParser:mN(t.stackParser||lj),integrations:h1({integrations:t.integrations,defaultIntegrations:r}),transport:t.transport||KP};return D1(NP,s)}function Kj(t){const e={...t};return bE(e,"react"),i1("react",{version:O.version}),Gj(e)}const Qj="https://your-dsn@sentry.io/project-id",AE=()=>{Kj({dsn:Qj,tracesSampleRate:.1,environment:"production",release:"consulta-pps-uflo@1.0.0",beforeSend(t){var e,r,s,o;if(t.exception){const a=(e=t.exception.values)==null?void 0:e[0];if((r=a==null?void 0:a.value)!=null&&r.includes("fetch")||(s=a==null?void 0:a.value)!=null&&s.includes("NetworkError")||(o=t.message)!=null&&o.includes("chrome-extension://"))return null}return t},initialScope:{tags:{application:"consulta-pps-uflo",platform:"web",university:"uflo"}}})},Jj=(t,e)=>{console.error("Tracking error:",t),Jb(r=>{e&&r.setContext("custom_context",e);const s=Xj();s&&r.setUser({id:s.legajo||"unknown",email:s.correo||"unknown",username:s.nombre||"unknown",role:s.role||"unknown"}),oE(t)})},Yj=(t,e="info")=>{s1(t,e)},Zj=(t,e,r)=>{os({message:`Performance: ${t}`,category:"performance",level:"info",data:{duration:e,...r}})},Xj=()=>null,NE=Object.freeze(Object.defineProperty({__proto__:null,initSentry:AE,trackError:Jj,trackMessage:Yj,trackPerformance:Zj},Symbol.toStringTag,{value:"Module"}));var qh={},Gh={},Kh={},o_;function eL(){return o_||(o_=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(){for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];if(typeof window<"u"){var d;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(d=window).gtag.apply(d,a)}},r=e;t.default=r})(Kh)),Kh}var Qh={},a_;function tL(){return a_||(a_=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function r(d){return d.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(h,p,y){return p>0&&p+h.length!==y.length&&h.search(e)>-1&&y.charAt(p-2)!==":"&&(y.charAt(p+h.length)!=="-"||y.charAt(p-1)==="-")&&y.charAt(p-1).search(/[^\s-]/)<0?h.toLowerCase():h.substr(1).search(/[A-Z]|\../)>-1?h:h.charAt(0).toUpperCase()+h.substr(1)})}function s(d){return typeof d=="string"&&d.indexOf("@")!==-1}var o="REDACTED (Potential Email Address)";function a(d){return s(d)?(console.warn("This arg looks like an email address, redacting."),o):d}function u(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,y=d||"";return h&&(y=r(d)),p&&(y=a(y)),y}})(Qh)),Qh}var l_;function rL(){return l_||(l_=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GA4=void 0;var e=u(eL()),r=u(tL()),s=["eventCategory","eventAction","eventLabel","eventValue","hitType"],o=["title","location"],a=["page","hitType"];function u(W){return W&&W.__esModule?W:{default:W}}function d(W,P){if(W==null)return{};var z=h(W,P),$,F;if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(W);for(F=0;F<q.length;F++)$=q[F],!(P.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(W,$)&&(z[$]=W[$])}return z}function h(W,P){if(W==null)return{};var z={},$=Object.keys(W),F,q;for(q=0;q<$.length;q++)F=$[q],!(P.indexOf(F)>=0)&&(z[F]=W[F]);return z}function p(W){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},p(W)}function y(W){return w(W)||_(W)||j(W)||v()}function v(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _(W){if(typeof Symbol<"u"&&W[Symbol.iterator]!=null||W["@@iterator"]!=null)return Array.from(W)}function w(W){if(Array.isArray(W))return R(W)}function x(W,P){var z=Object.keys(W);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(W);P&&($=$.filter(function(F){return Object.getOwnPropertyDescriptor(W,F).enumerable})),z.push.apply(z,$)}return z}function S(W){for(var P=1;P<arguments.length;P++){var z=arguments[P]!=null?arguments[P]:{};P%2?x(Object(z),!0).forEach(function($){Z(W,$,z[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(z)):x(Object(z)).forEach(function($){Object.defineProperty(W,$,Object.getOwnPropertyDescriptor(z,$))})}return W}function E(W,P){return H(W)||U(W,P)||j(W,P)||N()}function N(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j(W,P){if(W){if(typeof W=="string")return R(W,P);var z=Object.prototype.toString.call(W).slice(8,-1);if(z==="Object"&&W.constructor&&(z=W.constructor.name),z==="Map"||z==="Set")return Array.from(W);if(z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z))return R(W,P)}}function R(W,P){(P==null||P>W.length)&&(P=W.length);for(var z=0,$=new Array(P);z<P;z++)$[z]=W[z];return $}function U(W,P){var z=W==null?null:typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(z!=null){var $,F,q,V,I=[],M=!0,re=!1;try{if(q=(z=z.call(W)).next,P!==0)for(;!(M=($=q.call(z)).done)&&(I.push($.value),I.length!==P);M=!0);}catch(oe){re=!0,F=oe}finally{try{if(!M&&z.return!=null&&(V=z.return(),Object(V)!==V))return}finally{if(re)throw F}}return I}}function H(W){if(Array.isArray(W))return W}function K(W,P){if(!(W instanceof P))throw new TypeError("Cannot call a class as a function")}function G(W,P){for(var z=0;z<P.length;z++){var $=P[z];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(W,X($.key),$)}}function te(W,P,z){return P&&G(W.prototype,P),Object.defineProperty(W,"prototype",{writable:!1}),W}function Z(W,P,z){return P=X(P),P in W?Object.defineProperty(W,P,{value:z,enumerable:!0,configurable:!0,writable:!0}):W[P]=z,W}function X(W){var P=se(W,"string");return p(P)==="symbol"?P:String(P)}function se(W,P){if(p(W)!=="object"||W===null)return W;var z=W[Symbol.toPrimitive];if(z!==void 0){var $=z.call(W,P);if(p($)!=="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(W)}var ve=(function(){function W(){var P=this;K(this,W),Z(this,"reset",function(){P.isInitialized=!1,P._testMode=!1,P._currentMeasurementId,P._hasLoadedGA=!1,P._isQueuing=!1,P._queueGtag=[]}),Z(this,"_gtag",function(){for(var z=arguments.length,$=new Array(z),F=0;F<z;F++)$[F]=arguments[F];P._testMode||P._isQueuing?P._queueGtag.push($):e.default.apply(void 0,$)}),Z(this,"_loadGA",function(z,$){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!P._hasLoadedGA){var q=document.createElement("script");q.async=!0,q.src="".concat(F,"?id=").concat(z),$&&q.setAttribute("nonce",$),document.body.appendChild(q),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},P._hasLoadedGA=!0}}),Z(this,"_toGtagOptions",function(z){if(z){var $={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},F=Object.entries(z).reduce(function(q,V){var I=E(V,2),M=I[0],re=I[1];return $[M]?q[$[M]]=re:q[M]=re,q},{});return F}}),Z(this,"initialize",function(z){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!z)throw new Error("Require GA_MEASUREMENT_ID");var F=typeof z=="string"?[{trackingId:z}]:z;P._currentMeasurementId=F[0].trackingId;var q=$.gaOptions,V=$.gtagOptions,I=$.nonce,M=$.testMode,re=M===void 0?!1:M,oe=$.gtagUrl;if(P._testMode=re,re||P._loadGA(P._currentMeasurementId,I,oe),P.isInitialized||(P._gtag("js",new Date),F.forEach(function(Ce){var Te=S(S(S({},P._toGtagOptions(S(S({},q),Ce.gaOptions))),V),Ce.gtagOptions);Object.keys(Te).length?P._gtag("config",Ce.trackingId,Te):P._gtag("config",Ce.trackingId)})),P.isInitialized=!0,!re){var me=y(P._queueGtag);for(P._queueGtag=[],P._isQueuing=!1;me.length;){var Ee=me.shift();P._gtag.apply(P,y(Ee)),Ee[0]==="get"&&(P._isQueuing=!0)}}}),Z(this,"set",function(z){if(!z){console.warn("`fieldsObject` is required in .set()");return}if(p(z)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(z).length===0&&console.warn("empty `fieldsObject` given to .set()"),P._gaCommand("set",z)}),Z(this,"_gaCommandSendEvent",function(z,$,F,q,V){P._gtag("event",$,S(S({event_category:z,event_label:F,value:q},V&&{non_interaction:V.nonInteraction}),P._toGtagOptions(V)))}),Z(this,"_gaCommandSendEventParameters",function(){for(var z=arguments.length,$=new Array(z),F=0;F<z;F++)$[F]=arguments[F];if(typeof $[0]=="string")P._gaCommandSendEvent.apply(P,y($.slice(1)));else{var q=$[0],V=q.eventCategory,I=q.eventAction,M=q.eventLabel,re=q.eventValue;q.hitType;var oe=d(q,s);P._gaCommandSendEvent(V,I,M,re,oe)}}),Z(this,"_gaCommandSendTiming",function(z,$,F,q){P._gtag("event","timing_complete",{name:$,value:F,event_category:z,event_label:q})}),Z(this,"_gaCommandSendPageview",function(z,$){if($&&Object.keys($).length){var F=P._toGtagOptions($),q=F.title,V=F.location,I=d(F,o);P._gtag("event","page_view",S(S(S(S({},z&&{page_path:z}),q&&{page_title:q}),V&&{page_location:V}),I))}else z?P._gtag("event","page_view",{page_path:z}):P._gtag("event","page_view")}),Z(this,"_gaCommandSendPageviewParameters",function(){for(var z=arguments.length,$=new Array(z),F=0;F<z;F++)$[F]=arguments[F];if(typeof $[0]=="string")P._gaCommandSendPageview.apply(P,y($.slice(1)));else{var q=$[0],V=q.page;q.hitType;var I=d(q,a);P._gaCommandSendPageview(V,I)}}),Z(this,"_gaCommandSend",function(){for(var z=arguments.length,$=new Array(z),F=0;F<z;F++)$[F]=arguments[F];var q=typeof $[0]=="string"?$[0]:$[0].hitType;switch(q){case"event":P._gaCommandSendEventParameters.apply(P,$);break;case"pageview":P._gaCommandSendPageviewParameters.apply(P,$);break;case"timing":P._gaCommandSendTiming.apply(P,y($.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(q));break;default:console.warn("Send command doesn't exist: ".concat(q))}}),Z(this,"_gaCommandSet",function(){for(var z=arguments.length,$=new Array(z),F=0;F<z;F++)$[F]=arguments[F];typeof $[0]=="string"&&($[0]=Z({},$[0],$[1])),P._gtag("set",P._toGtagOptions($[0]))}),Z(this,"_gaCommand",function(z){for(var $=arguments.length,F=new Array($>1?$-1:0),q=1;q<$;q++)F[q-1]=arguments[q];switch(z){case"send":P._gaCommandSend.apply(P,F);break;case"set":P._gaCommandSet.apply(P,F);break;default:console.warn("Command doesn't exist: ".concat(z))}}),Z(this,"ga",function(){for(var z=arguments.length,$=new Array(z),F=0;F<z;F++)$[F]=arguments[F];if(typeof $[0]=="string")P._gaCommand.apply(P,$);else{var q=$[0];P._gtag("get",P._currentMeasurementId,"client_id",function(V){P._isQueuing=!1;var I=P._queueGtag;for(q({get:function(oe){return oe==="clientId"?V:oe==="trackingId"?P._currentMeasurementId:oe==="apiVersion"?"1":void 0}});I.length;){var M=I.shift();P._gtag.apply(P,y(M))}}),P._isQueuing=!0}return P.ga}),Z(this,"event",function(z,$){if(typeof z=="string")P._gtag("event",z,P._toGtagOptions($));else{var F=z.action,q=z.category,V=z.label,I=z.value,M=z.nonInteraction,re=z.transport;if(!q||!F){console.warn("args.category AND args.action are required in event()");return}var oe={hitType:"event",eventCategory:(0,r.default)(q),eventAction:(0,r.default)(F)};V&&(oe.eventLabel=(0,r.default)(V)),typeof I<"u"&&(typeof I!="number"?console.warn("Expected `args.value` arg to be a Number."):oe.eventValue=I),typeof M<"u"&&(typeof M!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):oe.nonInteraction=M),typeof re<"u"&&(typeof re!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(re)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),oe.transport=re)),P._gaCommand("send",oe)}}),Z(this,"send",function(z){P._gaCommand("send",z)}),this.reset()}return te(W,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),W})();t.GA4=ve;var de=new ve;t.default=de})(Gh)),Gh}var u_;function nL(){return u_||(u_=1,(function(t){function e(d){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},e(d)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ReactGAImplementation=void 0;var r=o(rL());function s(d){if(typeof WeakMap!="function")return null;var h=new WeakMap,p=new WeakMap;return(s=function(v){return v?p:h})(d)}function o(d,h){if(d&&d.__esModule)return d;if(d===null||e(d)!=="object"&&typeof d!="function")return{default:d};var p=s(h);if(p&&p.has(d))return p.get(d);var y={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in d)if(_!=="default"&&Object.prototype.hasOwnProperty.call(d,_)){var w=v?Object.getOwnPropertyDescriptor(d,_):null;w&&(w.get||w.set)?Object.defineProperty(y,_,w):y[_]=d[_]}return y.default=d,p&&p.set(d,y),y}var a=r.GA4;t.ReactGAImplementation=a;var u=r.default;t.default=u})(qh)),qh}var sL=nL();const Z2=ep(sL);let RE=-1;const vo=t=>{addEventListener("pageshow",(e=>{e.persisted&&(RE=e.timeStamp,t(e))}),!0)},Hr=(t,e,r,s)=>{let o,a;return u=>{e.value>=0&&(u||s)&&(a=e.value-(o??0),(a||o===void 0)&&(o=e.value,e.delta=a,e.rating=((d,h)=>d>h[1]?"poor":d>h[0]?"needs-improvement":"good")(e.value,r),t(e)))}},Dp=t=>{requestAnimationFrame((()=>requestAnimationFrame((()=>t()))))},Fp=()=>{const t=performance.getEntriesByType("navigation")[0];if(t&&t.responseStart>0&&t.responseStart<performance.now())return t},qa=()=>{const t=Fp();return(t==null?void 0:t.activationStart)??0},Wr=(t,e=-1)=>{const r=Fp();let s="navigate";return RE>=0?s="back-forward-cache":r&&(document.prerendering||qa()>0?s="prerender":document.wasDiscarded?s="restore":r.type&&(s=r.type.replace(/_/g,"-"))),{name:t,value:e,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:s}},Jh=new WeakMap;function Mp(t,e){return Jh.get(t)||Jh.set(t,new e),Jh.get(t)}class iL{constructor(){sr(this,"t");sr(this,"i",0);sr(this,"o",[])}h(e){var o;if(e.hadRecentInput)return;const r=this.o[0],s=this.o.at(-1);this.i&&r&&s&&e.startTime-s.startTime<1e3&&e.startTime-r.startTime<5e3?(this.i+=e.value,this.o.push(e)):(this.i=e.value,this.o=[e]),(o=this.t)==null||o.call(this,e)}}const Ga=(t,e,r={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const s=new PerformanceObserver((o=>{Promise.resolve().then((()=>{e(o.getEntries())}))}));return s.observe({type:t,buffered:!0,...r}),s}}catch{}},Up=t=>{let e=!1;return()=>{e||(t(),e=!0)}};let Fi=-1;const PE=new Set,c_=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,Jf=t=>{if(document.visibilityState==="hidden"){if(t.type==="visibilitychange")for(const e of PE)e();isFinite(Fi)||(Fi=t.type==="visibilitychange"?t.timeStamp:0,removeEventListener("prerenderingchange",Jf,!0))}},xc=()=>{var t;if(Fi<0){const e=qa();Fi=(document.prerendering||(t=globalThis.performance.getEntriesByType("visibility-state").filter((s=>s.name==="hidden"&&s.startTime>e))[0])==null?void 0:t.startTime)??c_(),addEventListener("visibilitychange",Jf,!0),addEventListener("prerenderingchange",Jf,!0),vo((()=>{setTimeout((()=>{Fi=c_()}))}))}return{get firstHiddenTime(){return Fi},onHidden(e){PE.add(e)}}},kc=t=>{document.prerendering?addEventListener("prerenderingchange",(()=>t()),!0):t()},d_=[1800,3e3],jE=(t,e={})=>{kc((()=>{const r=xc();let s,o=Wr("FCP");const a=Ga("paint",(u=>{for(const d of u)d.name==="first-contentful-paint"&&(a.disconnect(),d.startTime<r.firstHiddenTime&&(o.value=Math.max(d.startTime-qa(),0),o.entries.push(d),s(!0)))}));a&&(s=Hr(t,o,d_,e.reportAllChanges),vo((u=>{o=Wr("FCP"),s=Hr(t,o,d_,e.reportAllChanges),Dp((()=>{o.value=performance.now()-u.timeStamp,s(!0)}))})))}))},h_=[.1,.25],oL=(t,e={})=>{const r=xc();jE(Up((()=>{let s,o=Wr("CLS",0);const a=Mp(e,iL),u=h=>{for(const p of h)a.h(p);a.i>o.value&&(o.value=a.i,o.entries=a.o,s())},d=Ga("layout-shift",u);d&&(s=Hr(t,o,h_,e.reportAllChanges),r.onHidden((()=>{u(d.takeRecords()),s(!0)})),vo((()=>{a.i=0,o=Wr("CLS",0),s=Hr(t,o,h_,e.reportAllChanges),Dp((()=>s()))})),setTimeout(s))})))};let LE=0,Yh=1/0,bu=0;const aL=t=>{for(const e of t)e.interactionId&&(Yh=Math.min(Yh,e.interactionId),bu=Math.max(bu,e.interactionId),LE=bu?(bu-Yh)/7+1:0)};let Yf;const f_=()=>Yf?LE:performance.interactionCount??0,lL=()=>{"interactionCount"in performance||Yf||(Yf=Ga("event",aL,{type:"event",buffered:!0,durationThreshold:0}))};let p_=0;class uL{constructor(){sr(this,"u",[]);sr(this,"l",new Map);sr(this,"m");sr(this,"p")}v(){p_=f_(),this.u.length=0,this.l.clear()}L(){const e=Math.min(this.u.length-1,Math.floor((f_()-p_)/50));return this.u[e]}h(e){var o,a;if((o=this.m)==null||o.call(this,e),!e.interactionId&&e.entryType!=="first-input")return;const r=this.u.at(-1);let s=this.l.get(e.interactionId);if(s||this.u.length<10||e.duration>r.P){if(s?e.duration>s.P?(s.entries=[e],s.P=e.duration):e.duration===s.P&&e.startTime===s.entries[0].startTime&&s.entries.push(e):(s={id:e.interactionId,entries:[e],P:e.duration},this.l.set(s.id,s),this.u.push(s)),this.u.sort(((u,d)=>d.P-u.P)),this.u.length>10){const u=this.u.splice(10);for(const d of u)this.l.delete(d.id)}(a=this.p)==null||a.call(this,s)}}}const DE=t=>{const e=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?t():(t=Up(t),addEventListener("visibilitychange",t,{once:!0,capture:!0}),e((()=>{t(),removeEventListener("visibilitychange",t,{capture:!0})})))},m_=[200,500],cL=(t,e={})=>{if(!globalThis.PerformanceEventTiming||!("interactionId"in PerformanceEventTiming.prototype))return;const r=xc();kc((()=>{lL();let s,o=Wr("INP");const a=Mp(e,uL),u=h=>{DE((()=>{for(const y of h)a.h(y);const p=a.L();p&&p.P!==o.value&&(o.value=p.P,o.entries=p.entries,s())}))},d=Ga("event",u,{durationThreshold:e.durationThreshold??40});s=Hr(t,o,m_,e.reportAllChanges),d&&(d.observe({type:"first-input",buffered:!0}),r.onHidden((()=>{u(d.takeRecords()),s(!0)})),vo((()=>{a.v(),o=Wr("INP"),s=Hr(t,o,m_,e.reportAllChanges)})))}))};class dL{constructor(){sr(this,"m")}h(e){var r;(r=this.m)==null||r.call(this,e)}}const g_=[2500,4e3],hL=(t,e={})=>{kc((()=>{const r=xc();let s,o=Wr("LCP");const a=Mp(e,dL),u=h=>{e.reportAllChanges||(h=h.slice(-1));for(const p of h)a.h(p),p.startTime<r.firstHiddenTime&&(o.value=Math.max(p.startTime-qa(),0),o.entries=[p],s())},d=Ga("largest-contentful-paint",u);if(d){s=Hr(t,o,g_,e.reportAllChanges);const h=Up((()=>{u(d.takeRecords()),d.disconnect(),s(!0)})),p=y=>{y.isTrusted&&(DE(h),removeEventListener(y.type,p,{capture:!0}))};for(const y of["keydown","click","visibilitychange"])addEventListener(y,p,{capture:!0});vo((y=>{o=Wr("LCP"),s=Hr(t,o,g_,e.reportAllChanges),Dp((()=>{o.value=performance.now()-y.timeStamp,s(!0)}))}))}}))},y_=[800,1800],Zf=t=>{document.prerendering?kc((()=>Zf(t))):document.readyState!=="complete"?addEventListener("load",(()=>Zf(t)),!0):setTimeout(t)},fL=(t,e={})=>{let r=Wr("TTFB"),s=Hr(t,r,y_,e.reportAllChanges);Zf((()=>{const o=Fp();o&&(r.value=Math.max(o.responseStart-qa(),0),r.entries=[o],s(!0),vo((()=>{r=Wr("TTFB",0),s=Hr(t,r,y_,e.reportAllChanges),s(!0)})))}))},pL={CLS:{good:.1,needs_improvement:.25},INP:{good:200,needs_improvement:500},FCP:{good:1800,needs_improvement:3e3},LCP:{good:2500,needs_improvement:4e3},TTFB:{good:800,needs_improvement:1800}},Rs={},mL=()=>{console.log(" Initializing Web Vitals monitoring..."),oL(t=>{Rs.CLS=t,fa("CLS",t)}),cL(t=>{Rs.INP=t,fa("INP",t)}),jE(t=>{Rs.FCP=t,fa("FCP",t)}),hL(t=>{Rs.LCP=t,fa("LCP",t)}),fL(t=>{Rs.TTFB=t,fa("TTFB",t)})},fa=(t,e)=>{const r=pL[t],s=gL(e.value,r);console.log(` ${t}: ${e.value} (${s})`),window.gtag&&window.gtag("event","web_vital",{event_category:"Web Vitals",event_label:t,value:Math.round(e.value),custom_map:{dimension1:"rating",dimension2:"id"},rating:s,id:e.id}),s==="poor"&&ct(async()=>{const{trackMessage:o}=await Promise.resolve().then(()=>NE);return{trackMessage:o}},void 0,import.meta.url).then(({trackMessage:o})=>{o(`Poor ${t}: ${e.value}`,"warning")}),Rs[t]={...e,rating:s}},gL=(t,e)=>t<=e.good?"good":t<=e.needs_improvement?"needs_improvement":"poor",X2=()=>Rs,eF=(t,e)=>{const r=performance.now();return(async()=>{try{const o=await e(),u=performance.now()-r;return console.log(` ${t}: ${u.toFixed(2)}ms`),window.gtag&&window.gtag("event","performance_metric",{event_category:"Performance",event_label:t,value:Math.round(u)}),u>3e3&&ct(async()=>{const{trackMessage:d}=await Promise.resolve().then(()=>NE);return{trackMessage:d}},void 0,import.meta.url).then(({trackMessage:d})=>{d(`Slow operation: ${t} took ${u.toFixed(2)}ms`,"warning")}),o}catch(o){const u=performance.now()-r;throw console.error(` ${t} failed after ${u.toFixed(2)}ms:`,o),window.gtag&&window.gtag("event","performance_error",{event_category:"Performance",event_label:t,value:Math.round(u)}),o}})()},tF=async(t,e)=>{const r=performance.now();try{const s=await t(),a=performance.now()-r;return console.log(` ${e}: ${a.toFixed(2)}ms`),window.gtag&&window.gtag("event","api_call",{event_category:"API Performance",event_label:e,value:Math.round(a)}),s}catch(s){const a=performance.now()-r;throw console.error(` ${e} failed after ${a.toFixed(2)}ms:`,s),window.gtag&&window.gtag("event","api_error",{event_category:"API Performance",event_label:e,value:Math.round(a)}),s}};console.log("%c ANTIGRAVITY CONTROL: main.tsx loaded ","background: #222; color: #bada55; font-size: 20px");if(typeof Node=="function"&&Node.prototype){const t=Node.prototype.removeChild;Node.prototype.removeChild=function(r){return r.parentNode!==this?(console&&console.warn("[React Resilience] Suppressing removeChild error."),r):t.call(this,r)};const e=Node.prototype.insertBefore;Node.prototype.insertBefore=function(r,s){return s&&s.parentNode!==this?(console&&console.warn("[React Resilience] Suppressing insertBefore error."),r):e.call(this,r,s)}}document.body.classList.add("notranslate");document.body.setAttribute("translate","no");const yL=new fT({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:1e3*60*2,gcTime:1e3*60*10}}}),oc=document.getElementById("root");if(!oc)throw new Error("No se encontr el elemento root");window.__REACT_ROOT_INSTANCE__&&(console.log("Desmontando instancia previa (src/main)..."),window.__REACT_ROOT_INSTANCE__.unmount());oc.hasChildNodes()&&(oc.innerHTML="");const FE=Hx.createRoot(oc);window.__REACT_ROOT_INSTANCE__=FE;AE();mL();FE.render(g.jsx(rp.StrictMode,{children:g.jsxs(pT,{client:yL,children:[g.jsx(gO,{children:g.jsx(oN,{})}),g.jsx(aN,{initialIsOpen:!1})]})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(t=>{console.log("SW registrado:",t.scope)}).catch(t=>{console.log("SW fall:",t)})});export{n2 as $,U2 as A,Gy as B,xA as C,lr as D,ro as E,ut as F,ar as G,qy as H,Tr as I,Ve as J,Ta as K,Yu as L,_p as M,RA as N,Ma as O,kA as P,Ur as Q,rp as R,wA as S,Se as T,$y as U,GD as V,jf as W,By as X,ec as Y,Br as Z,Di as _,M2 as a,Cr as a$,Xu as a0,cr as a1,qI as a2,hr as a3,J2 as a4,CO as a5,As as a6,la as a7,K2 as a8,Qy as a9,Me as aA,dr as aB,Gs as aC,A2 as aD,to as aE,j2 as aF,oO as aG,JI as aH,aO as aI,Lh as aJ,lO as aK,iO as aL,sO as aM,Wy as aN,nO as aO,V_ as aP,_O as aQ,qu as aR,Wu as aS,wa as aT,Gu as aU,Ku as aV,GI as aW,KI as aX,$2 as aY,B2 as aZ,Vu as a_,Ky as aa,ca as ab,aa as ac,gu as ad,e2 as ae,i2 as af,r2 as ag,s2 as ah,t2 as ai,XD as aj,dn as ak,qD as al,WD as am,mu as an,Ls as ao,Xn as ap,ZI as aq,at as ar,da as as,zD as at,YI as au,I2 as av,QD as aw,Rt as ax,H2 as ay,Os as az,ho as b,Hy as b$,ct as b0,EL as b1,HD as b2,z2 as b3,FO as b4,bb as b5,ts as b6,Ri as b7,jh as b8,$D as b9,G2 as bA,Nb as bB,uO as bC,cO as bD,dO as bE,hO as bF,tA as bG,KO as bH,wL as bI,wO as bJ,MI as bK,VO as bL,YO as bM,_L as bN,ep as bO,Y2 as bP,Sk as bQ,bL as bR,Q2 as bS,fO as bT,pO as bU,mO as bV,Ne as bW,V2 as bX,UA as bY,W2 as bZ,q2 as b_,ur as ba,FD as bb,KD as bc,cn as bd,Ir as be,Jt as bf,rs as bg,Vr as bh,zr as bi,DD as bj,l2 as bk,rO as bl,a2 as bm,tO as bn,eO as bo,XI as bp,o2 as bq,Qu as br,Eb as bs,Hu as bt,O2 as bu,ua as bv,MD as bw,tc as bx,Zu as by,zy as bz,bA as c,Vy as c0,QI as c1,BD as c2,VD as c3,d2 as c4,c2 as c5,JD as c6,yu as c7,YD as c8,ZD as c9,eF as cA,Yj as cB,L2 as ca,P2 as cb,R2 as cc,N2 as cd,C2 as ce,T2 as cf,k2 as cg,x2 as ch,S2 as ci,E2 as cj,Ds as ck,Yy as cl,GO as cm,WO as cn,UD as co,ZO as cp,QO as cq,Rb as cr,eA as cs,F2 as ct,D2 as cu,Z2 as cv,Zj as cw,Jj as cx,X2 as cy,tF as cz,Xs as d,Ba as e,Ib as f,lo as g,$r as h,Zi as i,g as j,u2 as k,b2 as l,w2 as m,nt as n,_2 as o,rc as p,v2 as q,O as r,y2 as s,g2 as t,lc as u,m2 as v,p2 as w,f2 as x,h2 as y,Ju as z};
